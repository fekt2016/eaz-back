{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 595.596 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:14"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:48:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:48:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:48:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:48:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:48:15"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:48:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:48:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1383.916 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:48:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:48:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:48:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:48:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:48:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:48:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1397.135 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:48:41","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 505.870 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:48:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:48:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:48:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:48:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:48:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1254.561 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:49:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:49:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1373.342 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:49:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:49:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1415.039 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:49:44","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 889.096 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[32m200\u001b[0m 1129.181 ms - 89\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 1385.078 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[36m304\u001b[0m 1750.682 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:49:45"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:49:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 586.492 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:49:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:49:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1358.233 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:46"}
{"level":"info","message":"[Admin Login] Triggering seller credits backfill in background (adminId: 6798101470646250be061204)","service":"backend-api","timestamp":"2026-02-03 14:52:49"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-03 14:52:49"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-03 14:52:49"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-03 14:52:49"}
{"deviceId":"957210ea-5256-44da-9fa3-17a91d8f527e","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazadmin","service":"backend-api","timestamp":"2026-02-03 14:52:49","userId":"6798101470646250be061204","userModel":"Admin"}
{"level":"info","message":"[OrderService] Backfill: found 3 delivered order(s) to process (limit=100)","service":"backend-api","timestamp":"2026-02-03 14:52:49"}
{"buffer":{"data":[105,130,11,193,184,178,180,114,170,188,163,248],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-03 14:52:49"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/login \u001b[32m200\u001b[0m 3073.839 ms - 241\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by admin (6798101470646250be061204) - Risk: low - Platform: eazadmin","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:52:51","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 760.881 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1028.059 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260131-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:52:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 1268.102 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[36m304\u001b[0m 1576.992 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[32m200\u001b[0m 3025.574 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:53"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:52:53"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0003 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:52:55"}
{"level":"info","message":"[Admin Login] Seller credits backfill complete: processed=3, credited=0, skipped=3","service":"backend-api","timestamp":"2026-02-03 14:52:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:52:57"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:52:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 506.146 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:52:58"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:52:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:52:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:52:59"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:52:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:52:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1413.707 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1321.870 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:53:31","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 499.846 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:32"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1286.026 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1426.383 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:53:36","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 523.171 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1336.185 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1449.538 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:08"}
{"level":"info","message":"[Admin Login] Triggering seller credits backfill in background (adminId: 6798101470646250be061204)","service":"backend-api","timestamp":"2026-02-03 14:55:10"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-03 14:55:10"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-03 14:55:10"}
{"level":"info","message":"[OrderService] Backfill: found 3 delivered order(s) to process (limit=100)","service":"backend-api","timestamp":"2026-02-03 14:55:10"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-03 14:55:10"}
{"deviceId":"2a332827-25f4-438f-9cec-f8137103caac","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazadmin","service":"backend-api","timestamp":"2026-02-03 14:55:10","userId":"6798101470646250be061204","userModel":"Admin"}
{"buffer":{"data":[105,130,12,78,184,178,180,114,170,188,164,240],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-03 14:55:11"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/login \u001b[32m200\u001b[0m 3120.172 ms - 241\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:11"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by admin (6798101470646250be061204) - Risk: low - Platform: eazadmin","service":"backend-api","timestamp":"2026-02-03 14:55:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:55:12","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 803.388 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[32m200\u001b[0m 1048.904 ms - 89\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260131-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 1326.920 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[36m304\u001b[0m 1559.610 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[36m304\u001b[0m 3316.958 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:15"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:55:15"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0003 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:55:17"}
{"level":"info","message":"[Admin Login] Seller credits backfill complete: processed=3, credited=0, skipped=3","service":"backend-api","timestamp":"2026-02-03 14:55:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:55:36"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:55:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 595.930 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:55:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:55:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:55:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:55:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:55:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:55:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1317.054 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:38"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-03 14:56:29"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 14:56:33"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-03 14:56:34"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-03 14:56:34"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-03 14:56:34"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-03 14:56:35"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-03 14:56:35"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-03 14:56:37"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-03 14:56:37"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-03 14:56:37"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-03 14:56:37"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-03 14:56:37"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-03 14:56:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:43"}
{"level":"info","message":"[Admin Login] Triggering seller credits backfill in background (adminId: 6798101470646250be061204)","service":"backend-api","timestamp":"2026-02-03 14:56:46"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-03 14:56:46"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-03 14:56:46"}
{"level":"info","message":"[OrderService] Backfill: found 3 delivered order(s) to process (limit=100)","service":"backend-api","timestamp":"2026-02-03 14:56:47"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-03 14:56:47"}
{"deviceId":"a2ddd85f-c991-4c41-b4f9-115d57bbbacf","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazadmin","service":"backend-api","timestamp":"2026-02-03 14:56:47","userId":"6798101470646250be061204","userModel":"Admin"}
{"buffer":{"data":[105,130,12,175,40,12,165,12,209,216,212,204],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-03 14:56:47"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/login \u001b[32m200\u001b[0m 3884.559 ms - 241\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:47"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by admin (6798101470646250be061204) - Risk: low - Platform: eazadmin","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:56:49","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 788.243 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1041.089 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260131-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 1326.030 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[36m304\u001b[0m 1581.288 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:50"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:56:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[36m304\u001b[0m 3094.396 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:56:53"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0003 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:56:53"}
{"level":"info","message":"[Admin Login] Seller credits backfill complete: processed=3, credited=0, skipped=3","service":"backend-api","timestamp":"2026-02-03 14:56:53"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:56:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 517.998 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:56:54"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:56:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:56:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:56:54"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:56:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:56:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1295.816 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:55"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 14:57:36"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-03 14:57:37"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-03 14:57:37"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-03 14:57:37"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-03 14:57:37"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-03 14:57:37"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-03 14:57:39"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-03 14:57:39"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-03 14:57:39"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-03 14:57:39"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-03 14:57:40"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-03 14:57:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:58:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:58:06"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1300.979 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:58:07","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 835.325 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:58:08"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:58:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 844.539 ms - 50\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:58:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1081.770 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:58:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:58:55"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:58:56"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1283.568 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:58:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:58:58"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:58:58"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1362.245 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:59:00","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 828.647 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 810.601 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1115.977 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:59:01"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-03 15:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-03 15:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-03 15:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-03 15:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 15:02:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:02:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:02:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 15:02:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:02:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:02:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1305.014 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:02:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 15:02:35","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 804.741 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:02:36"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 15:02:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 827.120 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:02:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1069.219 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:02:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:04:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:04:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 15:04:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:04:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:04:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 754.025 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:04:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:04:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:04:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 15:04:10"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:04:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:04:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 748.484 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:04:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:06:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:06:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1055.085 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:06:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1349.785 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:06:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 769.262 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 767.379 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 15:06:41","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1346.209 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 15:55:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 16:30:56","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 3792.747 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 3885.169 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 4684.899 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 4414.282 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 1337.370 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 16:30:58","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 5519.735 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 376.898 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1638.180 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1933.167 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 427.327 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 264.336 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1028.966 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1004.843 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 7516.623 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2223.823 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 4019.167 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1347.077 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 17:24:55"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 17:24:55"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 17:30:38"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 17:30:38"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 17:53:31"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 17:53:31"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 17:53:43"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 17:53:43"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:06:57"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:06:57"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 18:15:32"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:15:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:15:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:15:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/wallet-history","service":"backend-api","timestamp":"2026-02-03 18:15:43"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:15:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:15:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/wallet-history","service":"backend-api","timestamp":"2026-02-03 18:15:43"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] ========== START ==========","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] Request received at: 2026-02-03T18:15:44.318Z","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] Method: GET","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] URL: /api/v1/admin/wallet-history?page=1&limit=20","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"\n","10":":","11":" ","12":"\"","13":"1","14":"\"","15":",","16":"\n","17":" ","18":" ","19":"\"","2":" ","20":"l","21":"i","22":"m","23":"i","24":"t","25":"\"","26":":","27":" ","28":"\"","29":"2","3":" ","30":"0","31":"\"","32":"\n","33":"}","4":"\"","5":"p","6":"a","7":"g","8":"e","9":"\"","level":"info","message":"[getAllWalletHistory] Query params:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"\n","10":"\"","100":"u","101":"e","102":",","103":"\n","104":" ","105":" ","106":"\"","107":"h","108":"a","109":"s","11":"6","110":"_","111":"i","112":"d","113":"\"","114":":","115":" ","116":"t","117":"r","118":"u","119":"e","12":"7","120":"\n","121":"}","13":"9","14":"8","15":"1","16":"0","17":"1","18":"4","19":"7","2":" ","20":"0","21":"6","22":"4","23":"6","24":"2","25":"5","26":"0","27":"b","28":"e","29":"0","3":" ","30":"6","31":"1","32":"2","33":"0","34":"4","35":"\"","36":",","37":"\n","38":" ","39":" ","4":"\"","40":"\"","41":"r","42":"o","43":"l","44":"e","45":"\"","46":":","47":" ","48":"\"","49":"a","5":"i","50":"d","51":"m","52":"i","53":"n","54":"\"","55":",","56":"\n","57":" ","58":" ","59":"\"","6":"d","60":"e","61":"m","62":"a","63":"i","64":"l","65":"\"","66":":","67":" ","68":"\"","69":"f","7":"\"","70":"e","71":"k","72":"t","73":"@","74":"i","75":"c","76":"l","77":"o","78":"u","79":"d","8":":","80":".","81":"c","82":"o","83":"m","84":"\"","85":",","86":"\n","87":" ","88":" ","89":"\"","9":" ","90":"h","91":"a","92":"s","93":"I","94":"d","95":"\"","96":":","97":" ","98":"t","99":"r","level":"info","message":"[getAllWalletHistory] User info:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 2] Checking authentication...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 2] Authentication passed","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 3] Setting up helper functions...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 3] Helper functions ready","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 4] Extracting query parameters...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"\n","10":":","11":" ","12":"\"","13":"1","14":"\"","15":",","16":"\n","17":" ","18":" ","19":"\"","2":" ","20":"l","21":"i","22":"m","23":"i","24":"t","25":"\"","26":":","27":" ","28":"\"","29":"2","3":" ","30":"0","31":"\"","32":",","33":"\n","34":" ","35":" ","36":"\"","37":"s","38":"o","39":"r","4":"\"","40":"t","41":"B","42":"y","43":"\"","44":":","45":" ","46":"\"","47":"c","48":"r","49":"e","5":"p","50":"a","51":"t","52":"e","53":"d","54":"A","55":"t","56":"\"","57":",","58":"\n","59":" ","6":"a","60":" ","61":"\"","62":"s","63":"o","64":"r","65":"t","66":"O","67":"r","68":"d","69":"e","7":"g","70":"r","71":"\"","72":":","73":" ","74":"\"","75":"d","76":"e","77":"s","78":"c","79":"\"","8":"e","80":"\n","81":"}","9":"\"","level":"info","message":"[getAllWalletHistory] [STEP 4] Raw params:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"\n","10":"d","100":"a","101":"r","102":"c","103":"h","104":"\"","105":":","106":" ","107":"n","108":"u","109":"l","11":"\"","110":"l","111":",","112":"\n","113":" ","114":" ","115":"\"","116":"m","117":"i","118":"n","119":"A","12":":","120":"m","121":"o","122":"u","123":"n","124":"t","125":"\"","126":":","127":" ","128":"n","129":"u","13":" ","130":"l","131":"l","132":",","133":"\n","134":" ","135":" ","136":"\"","137":"m","138":"a","139":"x","14":"n","140":"A","141":"m","142":"o","143":"u","144":"n","145":"t","146":"\"","147":":","148":" ","149":"n","15":"u","150":"u","151":"l","152":"l","153":",","154":"\n","155":" ","156":" ","157":"\"","158":"s","159":"o","16":"l","160":"r","161":"t","162":"B","163":"y","164":"\"","165":":","166":" ","167":"\"","168":"c","169":"r","17":"l","170":"e","171":"a","172":"t","173":"e","174":"d","175":"A","176":"t","177":"\"","178":",","179":"\n","18":",","180":" ","181":" ","182":"\"","183":"s","184":"o","185":"r","186":"t","187":"O","188":"r","189":"d","19":"\n","190":"e","191":"r","192":"\"","193":":","194":" ","195":"\"","196":"d","197":"e","198":"s","199":"c","2":" ","20":" ","200":"\"","201":"\n","202":"}","21":" ","22":"\"","23":"t","24":"y","25":"p","26":"e","27":"\"","28":":","29":" ","3":" ","30":"n","31":"u","32":"l","33":"l","34":",","35":"\n","36":" ","37":" ","38":"\"","39":"a","4":"\"","40":"d","41":"m","42":"i","43":"n","44":"I","45":"d","46":"\"","47":":","48":" ","49":"n","5":"u","50":"u","51":"l","52":"l","53":",","54":"\n","55":" ","56":" ","57":"\"","58":"s","59":"t","6":"s","60":"a","61":"r","62":"t","63":"D","64":"a","65":"t","66":"e","67":"\"","68":":","69":" ","7":"e","70":"n","71":"u","72":"l","73":"l","74":",","75":"\n","76":" ","77":" ","78":"\"","79":"e","8":"r","80":"n","81":"d","82":"D","83":"a","84":"t","85":"e","86":"\"","87":":","88":" ","89":"n","9":"I","90":"u","91":"l","92":"l","93":",","94":"\n","95":" ","96":" ","97":"\"","98":"s","99":"e","level":"info","message":"[getAllWalletHistory] [STEP 4] Normalized params:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 5] Validating pagination and sort...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","limitNum":20,"message":"[getAllWalletHistory] [STEP 5] Pagination:","pageNum":1,"rawLimit":"20","rawPage":"1","service":"backend-api","skip":0,"timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 5] Sort:","rawSortBy":"createdAt","rawSortOrder":"desc","service":"backend-api","sort":{"createdAt":-1},"sortDirection":-1,"sortField":"createdAt","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 6] Building query object...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 7] Building search query...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 7] No search conditions to add","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"}","level":"info","message":"[getAllWalletHistory] [STEP 6] Final query object:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 8] Executing database query...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"}","level":"info","message":"[getAllWalletHistory] [STEP 8] Query:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"\n","10":"e","11":"d","12":"A","13":"t","14":"\"","15":":","16":" ","17":"-","18":"1","19":"\n","2":" ","20":"}","3":" ","4":"\"","5":"c","6":"r","7":"e","8":"a","9":"t","level":"info","message":"[getAllWalletHistory] [STEP 8] Sort:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 8] Pagination: skip=0, limit=20","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 8] Query completed in 2177ms","service":"backend-api","timestamp":"2026-02-03 18:15:46"}
{"level":"info","message":"[getAllWalletHistory] [STEP 8] Results: Found 20 records, Total: 23","service":"backend-api","timestamp":"2026-02-03 18:15:46"}
{"level":"info","message":"[getAllWalletHistory] [STEP 9] Building response...","service":"backend-api","timestamp":"2026-02-03 18:15:46"}
{"level":"info","message":"[getAllWalletHistory] [STEP 9] Response built:","pages":2,"results":20,"service":"backend-api","status":"success","timestamp":"2026-02-03 18:15:46","total":23}
{"level":"info","message":"[getAllWalletHistory] ========== SUCCESS ==========","service":"backend-api","timestamp":"2026-02-03 18:15:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/wallet-history?page=1&limit=20 \u001b[36m304\u001b[0m 3407.059 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:15:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:15:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:15:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 18:15:50"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:15:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:15:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 992.632 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:15:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:15:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:15:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 18:15:58"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:15:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:15:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 758.154 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:15:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 18:20:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:20:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:20:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 18:20:50"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:20:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:20:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1257.154 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 18:20:52","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 805.986 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1070.682 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 2646.957 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:20:54"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:32:31"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:32:31"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 18:32:44"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:33:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 18:34:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:34:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:34:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 18:34:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:34:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:34:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1382.255 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:34:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 18:34:10","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 18:34:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 783.824 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:34:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1028.086 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:34:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:34:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:34:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 2401.539 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:34:12"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:38:35"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 18:39:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:40:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:40:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 18:40:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[31m500\u001b[0m 5014.750 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:40:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 19:33:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 19:33:43","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 4135.699 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 4945.332 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 5201.818 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 501.736 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 5653.271 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 501.541 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 495.885 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 6530.442 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:46"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 19:33:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-03 19:33:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 6603.882 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1305.574 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 2346.452 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 4432.843 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:48"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 19:56:09"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 19:56:09"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 19:56:19"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 19:56:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 19:57:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 19:57:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 19:57:00"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 19:57:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 19:57:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 19:57:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 19:57:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 19:57:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1329.678 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:57:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 19:57:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 19:57:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 19:57:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 19:57:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 19:57:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 19:57:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 19:57:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 19:57:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1994.646 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:57:36"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:31:16"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 12:31:17"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 12:31:17"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 12:31:17"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 12:31:17"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 12:31:17"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 12:31:20"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 12:31:20"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 12:31:20"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 12:31:20"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 12:31:20"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 12:31:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 295.140 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1079.148 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 357.149 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1660.251 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 622.683 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[32m200\u001b[0m 1186.680 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2876.063 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 2049.559 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 2718.069 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[32m200\u001b[0m 1759.296 ms - 221\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:32:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:32:47"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 12:32:47"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 12:32:47","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 785.191 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:47"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 12:32:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1065.601 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 12:32:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 12:32:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1320.412 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 310.615 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1229.811 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 281.610 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1209.186 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 589.750 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2888.849 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:02"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:33:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 12:33:02"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:33:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 12:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 3776.226 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:33:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:33:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:33:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1701.218 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 845.590 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:33:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:33:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1020.705 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1026.386 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:34:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:34:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:34:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:34:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 903.712 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:34:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 908.580 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:34:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:35:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:35:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:35:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 801.078 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:35:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:35:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:35:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:35:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 771.773 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:35:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:36:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:36:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:36:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 884.023 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:28"}
{"level":"info","message":"[Admin Login] Triggering seller credits backfill in background (adminId: 6798101470646250be061204)","service":"backend-api","timestamp":"2026-02-04 12:36:31"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-04 12:36:31"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-04 12:36:31"}
{"level":"info","message":"[OrderService] Backfill: found 3 delivered order(s) to process (limit=100)","service":"backend-api","timestamp":"2026-02-04 12:36:31"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-04 12:36:31"}
{"deviceId":"1d5bb5de-2f43-4b15-a901-c7e01ea4a4ba","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazadmin","service":"backend-api","timestamp":"2026-02-04 12:36:31","userId":"6798101470646250be061204","userModel":"Admin"}
{"buffer":{"data":[105,131,61,79,224,248,25,168,174,11,131,87],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-04 12:36:31"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/login \u001b[32m200\u001b[0m 3452.748 ms - 241\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by admin (6798101470646250be061204) - Risk: low - Platform: eazadmin","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 12:36:33","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 913.389 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1168.609 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:36:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:36:34"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260131-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 12:36:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 1501.578 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[32m200\u001b[0m 1763.989 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:34"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 12:36:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[32m200\u001b[0m 3305.709 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:36"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0003 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 12:36:38"}
{"level":"info","message":"[Admin Login] Seller credits backfill complete: processed=3, credited=0, skipped=3","service":"backend-api","timestamp":"2026-02-04 12:36:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:37:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:37:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:37:06"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:37:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:37:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 968.037 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:37:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:39:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:39:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:39:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:39:10"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 2361.339 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 12:39:12","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 865.728 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 992.931 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1229.901 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:43:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:43:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:43:19"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:43:20"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:43:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 1650.274 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:43:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:43:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:43:20"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:43:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:43:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 866.611 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:43:21"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:54:31"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 12:54:32"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 12:54:32"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 12:54:32"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 12:54:32"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 12:54:32"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 12:54:35"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 12:54:35"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 12:54:35"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 12:54:35"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 12:54:35"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 12:54:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:55:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:55:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:55:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:55:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:55:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:55:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1492.848 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:23"}
{"level":"info","message":"[Admin Login] Triggering seller credits backfill in background (adminId: 6798101470646250be061204)","service":"backend-api","timestamp":"2026-02-04 12:55:26"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-04 12:55:26"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-04 12:55:26"}
{"level":"info","message":"[OrderService] Backfill: found 3 delivered order(s) to process (limit=100)","service":"backend-api","timestamp":"2026-02-04 12:55:26"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-04 12:55:26"}
{"deviceId":"8a6559d3-d66c-47e8-ab31-289c349e00a5","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazadmin","service":"backend-api","timestamp":"2026-02-04 12:55:26","userId":"6798101470646250be061204","userModel":"Admin"}
{"buffer":{"data":[105,131,65,190,88,74,110,90,233,67,68,90],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-04 12:55:27"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/login \u001b[32m200\u001b[0m 3528.650 ms - 241\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:27"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by admin (6798101470646250be061204) - Risk: low - Platform: eazadmin","service":"backend-api","timestamp":"2026-02-04 12:55:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 12:55:29","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 908.591 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1186.305 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260131-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 1781.254 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[36m304\u001b[0m 1804.531 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[36m304\u001b[0m 3618.654 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:32"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 12:55:32"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0003 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 12:55:33"}
{"level":"info","message":"[Admin Login] Seller credits backfill complete: processed=3, credited=0, skipped=3","service":"backend-api","timestamp":"2026-02-04 12:55:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:56:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:56:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:56:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:56:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:56:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 928.776 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:56:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:56:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:56:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 12:56:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:56:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:56:09"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[33m400\u001b[0m 539.419 ms - 68\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:56:09"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:57:20"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 12:57:21"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 12:57:21"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 12:57:21"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 12:57:21"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 12:57:21"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 12:57:24"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 12:57:24"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 12:57:24"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 12:57:24"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 12:57:24"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 12:57:24"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-04 12:58:18"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:58:23"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 12:58:24"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 12:58:24"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 12:58:24"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 12:58:24"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 12:58:24"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 12:58:27"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 12:58:27"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 12:58:27"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 12:58:27"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 12:58:27"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 12:58:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:58:28"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:58:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:58:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:58:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 7240.232 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 12:58:36","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 894.526 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 915.362 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1296.689 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:58:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 12:59:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:59:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:59:03"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[32m201\u001b[0m 4289.672 ms - 128\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:59:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"adId":"698342c0608db9d8f704307c","createdBy":"6798101470646250be061204","level":"info","message":"[Advertisements] Created new advertisement","service":"backend-api","timestamp":"2026-02-04 12:59:44","type":"popup"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[32m201\u001b[0m 794.786 ms - 468\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 12:59:45","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 853.818 ms - 483\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 855.471 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:59:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:59:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1227.612 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:59:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1417.428 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:59:46"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-04 13:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-04 13:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-04 13:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-04 13:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:01:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:01:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 13:01:55"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:01:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:01:56"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[32m201\u001b[0m 3180.916 ms - 129\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:01:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:02:22"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"adId":"6983435f608db9d8f70430a2","createdBy":"6798101470646250be061204","level":"info","message":"[Advertisements] Created new advertisement","service":"backend-api","timestamp":"2026-02-04 13:02:23","type":"banner"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[32m201\u001b[0m 792.713 ms - 456\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:02:24","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 1008.007 ms - 905\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1003.373 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1381.841 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1700.800 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:02:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 792.005 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 802.184 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:02:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:46"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 853.477 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 330.762 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 512.354 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 524.890 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1186.044 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1727.328 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2457.078 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[32m200\u001b[0m 1507.513 ms - 221\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[32m200\u001b[0m 1512.577 ms - 905\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 2559.974 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:50"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:02:50"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:02:50","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1099.671 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:51"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:02:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1416.323 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:02:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 306.405 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1033.273 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 309.216 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 981.117 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 354.534 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1719.495 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1248.846 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1324.129 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2761.813 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2351.478 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:00"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:03:00"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:03:00","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:00"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:03:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1239.428 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1552.383 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:03:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 299.679 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 941.333 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 309.319 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 356.185 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 897.357 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1714.745 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1334.701 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2443.432 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1436.700 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2283.876 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:03:25","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:03:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 906.010 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1235.719 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 806.568 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 275.409 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 389.337 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 404.079 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 973.631 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1512.556 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:03:32"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:03:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2416.794 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1583.515 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1586.584 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2722.786 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:34"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:03:34"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:03:34","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1363.663 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:34"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:03:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1763.259 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:03:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 975.974 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:03:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 892.473 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:04:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:04:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 13:04:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:04:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:04:38"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[32m201\u001b[0m 3566.624 ms - 128\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:04:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:05:31"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"adId":"6983441c608db9d8f70436ce","createdBy":"6798101470646250be061204","level":"info","message":"[Advertisements] Created new advertisement","service":"backend-api","timestamp":"2026-02-04 13:05:32","type":"carousel"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[32m201\u001b[0m 769.925 ms - 471\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:05:33","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 959.529 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 989.193 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1233.695 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1520.168 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:05:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:07:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:07:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 794.532 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 799.821 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:07:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:52"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 793.970 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 269.022 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[32m200\u001b[0m 273.371 ms - 447\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 300.368 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1368.402 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 854.171 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2005.581 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1186.165 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1194.984 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2129.567 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:07:55","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:07:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 976.499 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1684.345 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 13:08:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 13:08:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1062.964 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:08:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:09:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:09:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:09:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:09:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 849.584 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:09:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 853.577 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:09:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:10:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:10:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:10:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:10:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:10:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 894.280 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:10:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:12:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:12:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:12:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:12:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 761.043 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:12:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 766.784 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:12:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:12:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:12:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:12:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 808.997 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:12:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/6983441c608db9d8f70436ce","service":"backend-api","timestamp":"2026-02-04 13:13:10"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:10"}
{"adId":"6983441c608db9d8f70436ce","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/6983441c608db9d8f70436ce \u001b[32m200\u001b[0m 1125.627 ms - 471\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:13:12","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 773.438 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 788.405 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1025.942 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1280.073 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/6983435f608db9d8f70430a2","service":"backend-api","timestamp":"2026-02-04 13:13:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:36"}
{"adId":"6983435f608db9d8f70430a2","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/6983435f608db9d8f70430a2 \u001b[32m200\u001b[0m 1060.474 ms - 456\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:13:37","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 785.328 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 785.162 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1100.001 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1422.806 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/698342c0608db9d8f704307c","service":"backend-api","timestamp":"2026-02-04 13:13:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:49"}
{"adId":"698342c0608db9d8f704307c","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/698342c0608db9d8f704307c \u001b[32m200\u001b[0m 1122.480 ms - 468\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:13:51","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 853.143 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 850.781 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1153.128 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1469.031 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/6983435f608db9d8f70430a2","service":"backend-api","timestamp":"2026-02-04 13:14:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"adId":"6983435f608db9d8f70430a2","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/6983435f608db9d8f70430a2 \u001b[32m200\u001b[0m 1028.666 ms - 456\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:14:05","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 939.365 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 932.257 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1242.056 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1649.464 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/6983441c608db9d8f70436ce","service":"backend-api","timestamp":"2026-02-04 13:14:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:13"}
{"adId":"6983441c608db9d8f70436ce","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/6983441c608db9d8f70436ce \u001b[32m200\u001b[0m 1040.042 ms - 471\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:14:14","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 757.056 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 758.742 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1076.289 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1265.293 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:14:23"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 829.284 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 846.242 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:14:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 267.432 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 911.001 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 291.628 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[32m200\u001b[0m 317.360 ms - 447\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 983.018 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1574.562 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2140.580 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1343.411 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1163.391 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2195.585 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:14:28","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:14:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 872.934 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1155.875 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 834.258 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[32m200\u001b[0m 1066.402 ms - 61\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1355.362 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1018.057 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1945.835 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1074.654 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:14:35","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 860.266 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1103.492 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 302.446 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:49"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[32m200\u001b[0m 2076.588 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 338.518 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 13:15:00"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 13:15:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1724.150 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:15:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:15:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:15:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 250.639 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:15:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:23:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:23:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:23:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:23:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1569.922 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 624.953 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:23:16","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1070.422 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1427.466 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[36m304\u001b[0m 2609.374 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 272.122 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 13:23:50"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 13:23:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[36m304\u001b[0m 1703.609 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:24:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 821.922 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 277.325 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 268.924 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:28"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 13:24:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 13:24:28"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:28"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 2066.053 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 252.007 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:24:30","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 822.671 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1134.762 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1442.883 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1722.542 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[32m200\u001b[0m 1937.462 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:24:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 792.649 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:24:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:38"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 758.674 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1030.167 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[32m200\u001b[0m 1312.535 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[32m200\u001b[0m 1569.716 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1074.080 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1078.602 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:24:40","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:24:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 761.032 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1015.298 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 852.001 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1111.024 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1373.904 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1627.332 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1033.921 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1037.443 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:24:44","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 793.495 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:45"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:24:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1046.412 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:24:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 853.451 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 856.632 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 970.191 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1209.867 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1478.092 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1816.242 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1030.664 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1018.617 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:52"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:24:52"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:24:52","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 781.534 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:52"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:24:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1248.410 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:25:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:25:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:25:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:25:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:25:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:25:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1381.042 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:25:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 295.521 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:25:04","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:25:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 884.369 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:25:05"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 13:25:05"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 13:25:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1318.295 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:25:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[36m304\u001b[0m 1892.238 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:25:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[36m304\u001b[0m 2321.970 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:25:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:29:21"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:29:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:29:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:29:22"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:29:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:29:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1386.421 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 321.849 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:29:24","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 928.119 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1214.879 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[36m304\u001b[0m 1799.696 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[36m304\u001b[0m 2301.403 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1203.026 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1209.574 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 804.437 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1099.109 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1397.489 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1148.595 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1152.495 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2026.334 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:29:29","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:29:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 794.327 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1098.849 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:30:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:30:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:30:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 772.785 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:30:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:30:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:30:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:30:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 956.229 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:30:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:31:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:31:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:31:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 799.080 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:31:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:31:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:31:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:31:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 906.371 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:31:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:32:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:32:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:32:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 763.622 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:32:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:32:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:32:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:32:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 926.215 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:32:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:33:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:33:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:33:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 863.994 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:33:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:33:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:33:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:33:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 759.536 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:33:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:34:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:34:06"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:34:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 819.537 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:34:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:34:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:34:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:34:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 832.167 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:34:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:35:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:35:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:35:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 750.503 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:35:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:35:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:35:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:35:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 785.461 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:35:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:36:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:36:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:36:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 814.179 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:36:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:36:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:36:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:36:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 787.019 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:36:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:37:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:37:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:37:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1065.029 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:37:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:38:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:38:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:38:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:38:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:38:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 910.964 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:38:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 13:40:21"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:40:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:40:21"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[32m201\u001b[0m 2339.613 ms - 128\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:40:27"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:40:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:40:28"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[31m500\u001b[0m 509.635 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:40:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:40:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:40:36"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[31m500\u001b[0m 519.481 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:40:52"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:40:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:40:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:40:52"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1343.557 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:40:54","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 970.197 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 999.701 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1404.331 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:41:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:41:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 13:41:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:41:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:41:02"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[32m201\u001b[0m 2543.369 ms - 128\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:41:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:41:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:41:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:41:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:41:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:41:36"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[31m500\u001b[0m 548.844 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:41:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:42:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:42:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:42:56"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:42:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:42:57"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[31m500\u001b[0m 565.839 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:42:57"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-04 13:43:13"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:43:18"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 13:43:19"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 13:43:19"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 13:43:19"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 13:43:19"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 13:43:19"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 13:43:22"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 13:43:22"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 13:43:23"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 13:43:23"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 13:43:23"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 13:43:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:43:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:43:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:43:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:43:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:43:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:43:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1426.189 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:43:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:43:37","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 854.619 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:43:38"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:43:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 877.576 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:43:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1206.444 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:43:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:44:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:44:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 13:44:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:44:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:44:42"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[32m201\u001b[0m 2463.383 ms - 128\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:44:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:45:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:45:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:45:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:45:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:45:13"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[31m500\u001b[0m 604.710 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:45:13"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-04 13:45:35"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:45:37"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 13:45:38"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 13:45:38"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 13:45:38"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 13:45:38"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 13:45:38"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 13:45:43"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 13:45:43"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 13:45:43"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 13:45:43"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 13:45:43"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 13:45:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:46:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:46:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:46:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:46:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:46:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 1404.057 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:46:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:47:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:47:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:08"}
{"adId":"69834ddc38eb5f43a7616e57","createdBy":"6798101470646250be061204","level":"info","message":"[Advertisements] Created new advertisement","service":"backend-api","timestamp":"2026-02-04 13:47:09","type":"carousel"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[32m201\u001b[0m 781.495 ms - 471\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:47:09","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 769.882 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 794.051 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1264.679 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1541.691 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:47:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 887.264 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 894.896 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 1174.193 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:22"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:22"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[32m200\u001b[0m 613.727 ms - 845\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 2318.303 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 2248.570 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 436.659 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 3076.870 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:24"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:24"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 3826.432 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1431.212 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1375.502 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 3623.684 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:47:25","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:47:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1092.659 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1377.847 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:47:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 776.931 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:48:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:48:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:48:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 850.125 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:48:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:48:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:48:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:48:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 748.649 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:48:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:49:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:49:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:49:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1291.176 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:49:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:50:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:50:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:50:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 895.768 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:50:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:50:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:50:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:50:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 980.847 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:50:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:51:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:51:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:51:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 791.933 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:51:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:51:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:51:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:51:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 905.235 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:51:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:52:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:52:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:52:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1113.925 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:52:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:52:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:52:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:52:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 7542.316 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:52:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:53:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1424.689 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:53:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 352.911 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1221.205 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 301.417 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 953.566 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 343.248 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1963.144 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1370.230 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2359.162 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1400.443 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:53:23","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:53:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 854.425 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1165.715 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 4263.631 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:53:54"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 807.468 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:54:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:54:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:54:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 836.091 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:54:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:54:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:54:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:54:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 758.650 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:54:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:55:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:55:26"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:55:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 878.058 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:55:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:55:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:55:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:55:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 958.568 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:55:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:56:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:56:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:56:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 773.422 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:56:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:56:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:56:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:56:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 763.586 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:56:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:57:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:57:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:57:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 857.752 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:57:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:58:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:58:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:58:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1025.736 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:58:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:58:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:58:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:58:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1002.743 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:58:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:59:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:59:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:59:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 821.760 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:59:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:59:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:59:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:59:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 880.746 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:59:34"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-04 14:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-04 14:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-04 14:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-04 14:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:00:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:00:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 775.658 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 539.021 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 543.164 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 352.389 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1192.455 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1203.138 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1565.302 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1454.295 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2431.384 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2143.568 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:00:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:00:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 755.308 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:01:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:01:06"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:01:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 855.922 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:01:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:01:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:01:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:01:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 820.791 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:01:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:02:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:02:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:02:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 815.950 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:02:25"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:02:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[32m200\u001b[0m 1167.845 ms - 61\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:02:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:02:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:02:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 271.285 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 270.548 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1126.222 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:02:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:02:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:02:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 2904.430 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 249.457 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:44"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:02:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[36m304\u001b[0m 2025.502 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 272.753 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:52"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:02:53"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 14:02:53"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 14:02:53"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 14:02:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[36m304\u001b[0m 1652.001 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:24"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:03:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:03:24"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:03:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:03:25"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 2093.750 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 266.689 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:03:27","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 796.228 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1055.528 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1318.910 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1597.814 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[32m200\u001b[0m 1870.179 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:08"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:05:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:05:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:09"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 2133.106 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 267.283 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:05:11","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 830.102 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1064.685 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1355.706 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1728.958 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[32m200\u001b[0m 2017.190 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 782.646 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1043.868 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[32m200\u001b[0m 1338.071 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[32m200\u001b[0m 1595.734 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1024.082 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1039.128 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:05:15","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 800.674 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:16"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:05:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1095.939 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:05:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 927.007 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 960.832 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:35"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1173.830 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:05:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 893.421 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 256.790 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 255.615 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 289.346 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1027.060 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1373.479 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2005.285 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 2210.206 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2422.548 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:06:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:06:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:06:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 881.457 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:06:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:06:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:06:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:06:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 798.498 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:06:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:07:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:07:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 393.528 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:07:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 397.817 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:07:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:07:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:07:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:07:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 826.722 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:07:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:07:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:07:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:07:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 936.085 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:07:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:08:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:08:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:08:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 879.553 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:08:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:08:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:08:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 535.149 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:08:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 541.991 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:08:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:08:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:08:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:08:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1194.606 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:08:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:09:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:09:21"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:09:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1296.712 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:09:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:09:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:09:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:09:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1019.037 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:09:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:10:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:10:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 388.234 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:10:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 395.356 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:10:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:10:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 407.906 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:10:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:10:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:10:23"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:10:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1342.637 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:10:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:10:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 346.736 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:10:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:10:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:10:54"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:10:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 980.674 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:10:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:11:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:11:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 938.414 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 364.326 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 410.322 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 455.855 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1751.041 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2588.860 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 2784.737 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1460.865 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:11:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:11:42"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:11:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:11:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:11:43"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:11:43"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:11:43","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 2575.098 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:11:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1956.012 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:44"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:11:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 5681.006 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 3728.746 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 7568.307 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:12:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:12:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:12:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1573.240 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:12:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:12:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:12:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:12:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1085.370 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:12:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:12:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:12:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 773.195 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:12:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 776.827 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:12:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:13:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:13:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:13:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1037.258 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:13:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:13:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:13:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:13:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:13:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:13:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 1174.809 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:13:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:14:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:08"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 922.921 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=salah \u001b[32m200\u001b[0m 1439.836 ms - 61\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:10"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:14:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:14:10"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:14:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:14:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1549.103 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1553.880 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2522.769 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:14:11","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 794.273 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1086.833 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 3891.399 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 312.657 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 316.487 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:15:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:15:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:15:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:15:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 936.750 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:15:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 941.246 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:15:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:15:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:15:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:15:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 906.036 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:15:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:16:14"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:16:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[36m304\u001b[0m 1101.275 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:16:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:16:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:16:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:16:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 762.824 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:16:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:16:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:16:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:16:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 774.379 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:16:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:17:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:17:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 766.727 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:17:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:17:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 803.895 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 304.301 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 277.167 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 299.157 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 761.659 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 998.458 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1374.144 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2390.082 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2812.983 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 5051.615 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:18:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:18:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:18:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:18:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 826.055 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:18:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:18:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:18:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:18:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 763.713 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:18:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:19:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:19:21"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:19:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:19:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:19:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:19:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 2092.283 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:19:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 509.888 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:19:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 514.498 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:19:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1243.090 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:19:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:19:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:19:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:19:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 868.134 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:19:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 389.881 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:20:50"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:20:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[36m304\u001b[0m 2464.217 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:20:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 279.619 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:20:56"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:20:56"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 14:20:56"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 14:20:56"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 14:20:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[36m304\u001b[0m 1555.662 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:20:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:01"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:21:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:21:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:02"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 2154.479 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 287.588 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:21:04","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 842.994 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1151.986 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1448.116 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1547.596 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[32m200\u001b[0m 2145.766 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:21:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 859.854 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 864.252 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:21:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 802.052 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 269.983 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 816.351 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 327.118 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 372.460 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 964.127 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[32m200\u001b[0m 1463.896 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1187.318 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1195.361 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 2447.713 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:21:41","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 930.471 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[32m200\u001b[0m 3454.967 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1209.628 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:21:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 314.044 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 907.901 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 373.228 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 323.431 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1173.502 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1703.198 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2638.522 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1765.693 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1737.472 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2834.873 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:57"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:21:57"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:21:57","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:57"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:21:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1093.021 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1393.827 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:58"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[36m304\u001b[0m 1061.962 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:22:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 851.607 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:44"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:22:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:22:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:22:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:22:44"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 2280.732 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 265.580 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:22:46","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 827.731 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1107.116 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1408.297 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1814.464 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[32m200\u001b[0m 2106.508 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1003.424 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:22:50"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1025.773 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:22:52"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:22:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[32m200\u001b[0m 2230.223 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[32m200\u001b[0m 2311.692 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1483.648 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1488.639 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[32m200\u001b[0m 3116.720 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:22:53","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 904.322 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:54"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:22:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1439.650 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:23:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:23:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:23:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 807.003 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:23:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:23:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:23:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:23:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 904.009 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:23:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:24:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:24:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:24:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 765.635 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:24:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:24:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:24:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:24:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1192.622 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:24:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:25:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:25:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:25:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1103.009 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:25:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:25:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:25:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:25:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 903.140 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:25:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:26:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:26:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:26:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1435.053 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:26:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:27:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:27:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:27:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 917.811 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:27:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:27:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:27:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:27:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1076.225 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:27:33"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:28:01"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 14:28:03"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 14:28:03"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 14:28:03"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 14:28:03"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 14:28:03"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 14:28:06"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 14:28:06"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 14:28:06"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 14:28:06"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 14:28:06"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 14:28:06"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:28:16"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 14:28:17"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 14:28:17"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 14:28:17"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 14:28:17"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 14:28:17"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 14:28:20"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 14:28:20"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 14:28:20"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 14:28:20"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 14:28:20"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 14:28:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:28:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:28:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:28:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:28:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:28:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 939.379 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:28:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:28:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:28:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:28:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:28:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 838.193 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:28:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:28:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:28:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:28:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:28:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:28:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 845.033 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:28:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/69834ddc38eb5f43a7616e57","service":"backend-api","timestamp":"2026-02-04 14:32:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:14"}
{"adId":"69834ddc38eb5f43a7616e57","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/69834ddc38eb5f43a7616e57 \u001b[32m200\u001b[0m 1266.334 ms - 492\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:32:16","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 976.250 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 968.019 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1279.477 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1549.216 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:32:20"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 964.007 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/6983441c608db9d8f70436ce","service":"backend-api","timestamp":"2026-02-04 14:32:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"adId":"6983441c608db9d8f70436ce","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/6983441c608db9d8f70436ce \u001b[32m200\u001b[0m 1121.532 ms - 492\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:32:47","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1050.669 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 1039.123 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1337.671 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1652.955 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:32:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[32m200\u001b[0m 434.591 ms - 887\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 997.446 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1508.778 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[36m304\u001b[0m 2021.043 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2073.538 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1231.374 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1239.618 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:32:56","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:32:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1101.249 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1416.973 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:33:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:33:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:33:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:33:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 583.179 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:33:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 571.590 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:33:09"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:33:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 983.252 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:33:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 2926.724 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:33:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:33:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:33:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:33:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 824.879 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:33:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:33:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:33:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:33:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 925.684 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:33:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:34:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:34:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 800.498 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:34:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 306.806 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:35"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 828.440 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1725.018 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 928.150 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2127.515 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 399.709 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1854.334 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1858.798 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 750.637 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:34:39"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:34:39"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:34:39","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:34:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2735.155 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:39"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:34:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1005.973 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1693.089 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:35:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:35:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:35:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1080.733 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:35:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:35:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:35:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:35:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1140.519 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:35:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:36:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:36:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1200.164 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 332.911 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1081.504 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 339.204 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 309.480 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1929.482 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 945.277 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2223.982 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1513.154 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1529.623 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2195.375 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:36:37","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:36:38"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:36:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1112.711 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1216.450 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:37:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:37:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:37:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 919.584 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:37:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:37:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:37:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:37:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 907.446 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:37:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:38:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:38:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:38:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 808.638 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:38:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:38:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:38:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 609.281 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:38:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 607.385 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:38:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:38:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 1012.457 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:38:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:38:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 374.140 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:38:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:38:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:38:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:38:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 830.640 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:38:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:39:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:39:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:39:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1406.277 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:39:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 349.327 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:39:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:39:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:39:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:39:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 829.569 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:39:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:39:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:39:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 709.312 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:39:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 721.133 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:39:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:40:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:40:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:40:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 836.094 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:40:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:40:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:40:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:40:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1041.389 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:40:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:41:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:41:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:41:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1010.283 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:41:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:41:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:41:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 382.106 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:41:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 518.774 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:41:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:41:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 318.158 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:41:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:41:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:41:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:41:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 953.932 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:41:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 428.565 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 424.890 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1877.743 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:42:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 4285.122 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 4307.798 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:42:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1224.301 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:42:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:42:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 921.576 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:43:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:43:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:43:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1066.494 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:43:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:43:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:43:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:43:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1111.782 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:43:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:44:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:44:22"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:44:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1130.748 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:44:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:44:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:44:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:44:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1526.793 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:44:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:45:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:45:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:45:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 940.504 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:45:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:45:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:45:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:45:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1083.036 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:45:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:46:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 301.803 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1216.174 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 715.650 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 361.795 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1476.053 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1966.105 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2512.939 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1288.396 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1369.080 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2774.710 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:46:18","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:46:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 943.255 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1378.257 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:46:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:46:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1234.931 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:47:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:47:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:47:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 894.390 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:47:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:47:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:47:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:47:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1129.226 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:47:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:48:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:48:22"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:48:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 782.723 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:48:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:48:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 792.536 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:48:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 795.254 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:48:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:48:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:48:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:48:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 2228.685 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:48:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:49:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:49:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:49:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 898.254 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:49:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:49:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:49:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:49:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1133.823 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:49:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:50:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:50:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:50:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1127.985 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:50:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:50:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:50:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:51:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 2082.871 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:51:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:51:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:51:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:51:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 3320.181 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:51:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:52:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:52:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:52:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1821.906 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:52:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:52:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:52:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:52:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:52:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:52:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 797.502 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:52:24"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:52:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:52:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1372.362 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:52:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2522.034 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:52:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2629.499 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:52:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 373.764 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 924.639 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:53:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1432.648 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:53:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1756.442 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:53:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:54:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:54:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:54:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:54:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:54:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 273.464 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:54:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:54:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:54:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 828.985 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:54:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1319.884 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:54:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1950.193 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:54:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 303.817 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 256.038 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 786.724 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1371.231 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1635.197 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1036.798 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1068.045 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 1865.247 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:58:00","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 877.472 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:01"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:58:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1161.269 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:58:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:58:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:58:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 768.963 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:59:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 815.695 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:59:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 887.276 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:59:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 311.508 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 282.666 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 897.270 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1464.896 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1051.392 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1996.387 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1075.475 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 1825.580 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:59"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:59:59"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:59:59","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 994.144 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:59"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:59:59"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-04 15:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-04 15:00:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1280.397 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-04 15:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-04 15:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:00:01"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:00:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[36m304\u001b[0m 1588.912 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:00:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:00:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:00:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:00:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 808.277 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:00:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:01:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:01:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 808.636 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 309.673 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 314.430 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 413.165 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 279.148 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 981.691 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1527.457 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2065.547 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1157.312 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1160.065 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 1932.777 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:01:32"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:01:32"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:01:32","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:01:32"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:01:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1339.132 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1636.524 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:02:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:02:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:02:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 815.345 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:02:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:02:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:02:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:02:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1416.688 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:02:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:03:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:03:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:03:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 802.683 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:03:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:03:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:03:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:03:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 767.270 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:03:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:03:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:03:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 353.018 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:03:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 356.732 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:03:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:04:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:04:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:04:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 884.617 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:04:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:04:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:04:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:04:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 816.555 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:04:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 281.861 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 814.108 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 273.098 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 339.678 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1088.298 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1664.129 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2278.913 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1442.601 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1582.374 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2512.955 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:14:15","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 951.226 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1243.850 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:14:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:14:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 792.461 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:15:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:15:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:15:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 769.393 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:15:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:15:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:15:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:15:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 749.002 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:15:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:16:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:16:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:16:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 779.394 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:16:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:16:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:16:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:16:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 821.637 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:16:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:17:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:17:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:17:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 964.554 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:17:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:17:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:17:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:17:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:17:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:17:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 575.028 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:17:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 586.539 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:17:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:17:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1175.333 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:17:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1126.436 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:17:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 269.997 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:18:13","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 988.762 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1428.341 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:18:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1548.467 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:18:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:18:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 353.713 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:18:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:18:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:18:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:18:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 779.346 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:18:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:19:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:19:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:19:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 772.225 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:19:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:19:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:19:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:19:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 840.415 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:19:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:20:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:20:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:20:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 760.443 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:20:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:20:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:20:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:20:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 830.545 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:20:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:21:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:21:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:21:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 773.093 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:21:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:21:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:21:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:21:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 780.322 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:21:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:22:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:22:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 760.013 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 489.349 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 480.996 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 496.393 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:41"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:22:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2107.436 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 490.216 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2635.350 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 3017.759 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:22:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:22:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1514.830 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:23:21"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:23:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 767.871 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 510.069 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 514.956 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1133.703 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1149.402 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1429.804 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:23:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:23:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 799.471 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:24:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 262.155 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:24:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:24:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 329.332 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:24:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:25:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:25:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:25:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:25:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 936.894 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:25:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 941.852 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:25:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:25:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:25:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 2320.071 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 602.505 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 609.169 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:26:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 790.473 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 709.056 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 321.454 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 857.689 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1060.735 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:56"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:26:56"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:26:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1465.463 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1107.520 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1114.157 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:26:57","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 828.268 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1429.991 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 3449.628 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:27:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:27:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:27:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:27:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 299.699 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:27:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 303.246 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:27:02"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:27:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1277.892 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:27:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 3284.278 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:27:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:29:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:29:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 15:29:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:29:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:29:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 2335.221 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:29:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 849.559 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 851.990 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 324.981 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 848.246 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1143.381 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1586.075 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2550.493 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1685.666 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1203.746 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1700.257 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:47"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:29:47"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:29:47","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:47"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:29:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1262.342 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1517.166 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/69834ddc38eb5f43a7616e57","service":"backend-api","timestamp":"2026-02-04 15:30:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:30:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:30:35"}
{"adId":"69834ddc38eb5f43a7616e57","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/69834ddc38eb5f43a7616e57 \u001b[32m200\u001b[0m 1095.512 ms - 492\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:30:37","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1042.772 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 1019.324 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1364.879 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1801.942 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:30:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:30:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:30:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:30:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:30:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:30:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:30:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:30:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:30:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:30:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:30:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 990.689 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[32m200\u001b[0m 984.776 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:30:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:30:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:30:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 911.538 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:31:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:31:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:31:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:31:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 875.514 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1554.652 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[32m200\u001b[0m 319.554 ms - 887\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:31:10","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1022.610 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 900.100 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1286.455 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 326.948 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 1028.535 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1512.129 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 907.482 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 300.073 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:12"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2243.585 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1171.113 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1271.476 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2097.653 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:31:13","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 785.892 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1074.864 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:31:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 275.629 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 800.780 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1312.753 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[36m304\u001b[0m 1519.041 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1651.412 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1095.735 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1098.837 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:26"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:31:26"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:31:26","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:26"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:31:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 819.540 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1079.518 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:31:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 888.687 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:32:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:32:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:32:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 863.416 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:32:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:32:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:32:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:32:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 834.497 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:32:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:33:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:33:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:33:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 792.177 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:33:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:34:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:34:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:34:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 926.990 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:34:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:34:15"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:34:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:34:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:34:15"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1281.452 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:34:17","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 765.806 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1022.660 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 761.127 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:34:18"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-04 15:34:19"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:34:23"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 15:34:25"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 15:34:25"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 15:34:25"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 15:34:25"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 15:34:25"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 15:34:28"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 15:34:28"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 15:34:28"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 15:34:28"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 15:34:28"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 15:34:28"}
