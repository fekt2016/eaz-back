{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 595.596 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:14"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:48:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:48:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:48:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:48:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:48:15"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:48:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:48:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1383.916 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:48:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:48:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:48:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:48:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:48:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:48:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1397.135 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:48:41","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 505.870 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:48:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:48:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:48:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:48:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:48:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:48:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1254.561 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:48:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:49:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:49:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1373.342 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:49:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:49:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1415.039 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-03 14:49:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:49:44","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 889.096 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[32m200\u001b[0m 1129.181 ms - 89\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 1385.078 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[36m304\u001b[0m 1750.682 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:49:45"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:49:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 586.492 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:49:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:49:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:49:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:49:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:49:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1358.233 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:49:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:46"}
{"level":"info","message":"[Admin Login] Triggering seller credits backfill in background (adminId: 6798101470646250be061204)","service":"backend-api","timestamp":"2026-02-03 14:52:49"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-03 14:52:49"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-03 14:52:49"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-03 14:52:49"}
{"deviceId":"957210ea-5256-44da-9fa3-17a91d8f527e","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazadmin","service":"backend-api","timestamp":"2026-02-03 14:52:49","userId":"6798101470646250be061204","userModel":"Admin"}
{"level":"info","message":"[OrderService] Backfill: found 3 delivered order(s) to process (limit=100)","service":"backend-api","timestamp":"2026-02-03 14:52:49"}
{"buffer":{"data":[105,130,11,193,184,178,180,114,170,188,163,248],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-03 14:52:49"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/login \u001b[32m200\u001b[0m 3073.839 ms - 241\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by admin (6798101470646250be061204) - Risk: low - Platform: eazadmin","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-03 14:52:50"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:52:51","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 760.881 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1028.059 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:51"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260131-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:52:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 1268.102 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[36m304\u001b[0m 1576.992 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[32m200\u001b[0m 3025.574 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:53"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:52:53"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0003 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:52:55"}
{"level":"info","message":"[Admin Login] Seller credits backfill complete: processed=3, credited=0, skipped=3","service":"backend-api","timestamp":"2026-02-03 14:52:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:52:57"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:52:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 506.146 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:52:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:52:58"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:52:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:52:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:52:59"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:52:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:52:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1413.707 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:52:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1321.870 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:53:31","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 499.846 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:31"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:32"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1286.026 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1426.383 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:53:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:53:36","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 523.171 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1336.185 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:53:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:53:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:53:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:53:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1449.538 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:53:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:08"}
{"level":"info","message":"[Admin Login] Triggering seller credits backfill in background (adminId: 6798101470646250be061204)","service":"backend-api","timestamp":"2026-02-03 14:55:10"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-03 14:55:10"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-03 14:55:10"}
{"level":"info","message":"[OrderService] Backfill: found 3 delivered order(s) to process (limit=100)","service":"backend-api","timestamp":"2026-02-03 14:55:10"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-03 14:55:10"}
{"deviceId":"2a332827-25f4-438f-9cec-f8137103caac","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazadmin","service":"backend-api","timestamp":"2026-02-03 14:55:10","userId":"6798101470646250be061204","userModel":"Admin"}
{"buffer":{"data":[105,130,12,78,184,178,180,114,170,188,164,240],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-03 14:55:11"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/login \u001b[32m200\u001b[0m 3120.172 ms - 241\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:11"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by admin (6798101470646250be061204) - Risk: low - Platform: eazadmin","service":"backend-api","timestamp":"2026-02-03 14:55:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:55:12","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:55:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 803.388 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[32m200\u001b[0m 1048.904 ms - 89\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260131-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 1326.920 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[36m304\u001b[0m 1559.610 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[36m304\u001b[0m 3316.958 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:15"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:55:15"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0003 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:55:17"}
{"level":"info","message":"[Admin Login] Seller credits backfill complete: processed=3, credited=0, skipped=3","service":"backend-api","timestamp":"2026-02-03 14:55:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:55:36"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:55:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 595.930 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:55:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:55:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:55:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:55:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:55:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:55:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:55:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1317.054 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:55:38"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-03 14:56:29"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 14:56:33"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-03 14:56:34"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-03 14:56:34"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-03 14:56:34"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-03 14:56:35"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-03 14:56:35"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-03 14:56:37"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-03 14:56:37"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-03 14:56:37"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-03 14:56:37"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-03 14:56:37"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-03 14:56:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:43"}
{"level":"info","message":"[Admin Login] Triggering seller credits backfill in background (adminId: 6798101470646250be061204)","service":"backend-api","timestamp":"2026-02-03 14:56:46"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-03 14:56:46"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-03 14:56:46"}
{"level":"info","message":"[OrderService] Backfill: found 3 delivered order(s) to process (limit=100)","service":"backend-api","timestamp":"2026-02-03 14:56:47"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-03 14:56:47"}
{"deviceId":"a2ddd85f-c991-4c41-b4f9-115d57bbbacf","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazadmin","service":"backend-api","timestamp":"2026-02-03 14:56:47","userId":"6798101470646250be061204","userModel":"Admin"}
{"buffer":{"data":[105,130,12,175,40,12,165,12,209,216,212,204],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-03 14:56:47"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/login \u001b[32m200\u001b[0m 3884.559 ms - 241\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:47"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by admin (6798101470646250be061204) - Risk: low - Platform: eazadmin","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-03 14:56:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:56:49","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 788.243 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1041.089 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260131-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:56:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 1326.030 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[36m304\u001b[0m 1581.288 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:50"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:56:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[36m304\u001b[0m 3094.396 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:56:53"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0003 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-03 14:56:53"}
{"level":"info","message":"[Admin Login] Seller credits backfill complete: processed=3, credited=0, skipped=3","service":"backend-api","timestamp":"2026-02-03 14:56:53"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:56:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[33m403\u001b[0m 517.998 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:56:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:56:54"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:56:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:56:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:56:54"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:56:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:56:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1295.816 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:56:55"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 14:57:36"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-03 14:57:37"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-03 14:57:37"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-03 14:57:37"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-03 14:57:37"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-03 14:57:37"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-03 14:57:39"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-03 14:57:39"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-03 14:57:39"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-03 14:57:39"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-03 14:57:40"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-03 14:57:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:58:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:58:06"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1300.979 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:58:07","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 835.325 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:58:08"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:58:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 844.539 ms - 50\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:58:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1081.770 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:58:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:58:55"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:58:56"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1283.568 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:58:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:58:58"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 14:58:58"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1362.245 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 14:58:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 14:59:00","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 828.647 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 810.601 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:59:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1115.977 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 14:59:01"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-03 15:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-03 15:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-03 15:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-03 15:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 15:02:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:02:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:02:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 15:02:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:02:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:02:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1305.014 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:02:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 15:02:35","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 15:02:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 804.741 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:02:36"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 15:02:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 827.120 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:02:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1069.219 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:02:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:04:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:04:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 15:04:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:04:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:04:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 754.025 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:04:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:04:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:04:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 15:04:10"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:04:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:04:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 748.484 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:04:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 15:06:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:06:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:06:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1055.085 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:06:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1349.785 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:06:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 15:06:40"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 769.262 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 767.379 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 15:06:41","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1346.209 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 15:06:41"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 15:55:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-03 16:30:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 16:30:53"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 16:30:56","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 3792.747 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 3885.169 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 16:30:56"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 4684.899 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 4414.282 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 16:30:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 1337.370 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 16:30:58","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 5519.735 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 376.898 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:58"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1638.180 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1933.167 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 427.327 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 264.336 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 16:30:59"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1028.966 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1004.843 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 7516.623 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2223.823 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 4019.167 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1347.077 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 16:31:00"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 17:24:55"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 17:24:55"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 17:30:38"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 17:30:38"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 17:53:31"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 17:53:31"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 17:53:43"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 17:53:43"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:06:57"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:06:57"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 18:15:32"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:15:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:15:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:15:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/wallet-history","service":"backend-api","timestamp":"2026-02-03 18:15:43"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:15:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:15:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/wallet-history","service":"backend-api","timestamp":"2026-02-03 18:15:43"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] ========== START ==========","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] Request received at: 2026-02-03T18:15:44.318Z","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] Method: GET","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] URL: /api/v1/admin/wallet-history?page=1&limit=20","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"\n","10":":","11":" ","12":"\"","13":"1","14":"\"","15":",","16":"\n","17":" ","18":" ","19":"\"","2":" ","20":"l","21":"i","22":"m","23":"i","24":"t","25":"\"","26":":","27":" ","28":"\"","29":"2","3":" ","30":"0","31":"\"","32":"\n","33":"}","4":"\"","5":"p","6":"a","7":"g","8":"e","9":"\"","level":"info","message":"[getAllWalletHistory] Query params:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"\n","10":"\"","100":"u","101":"e","102":",","103":"\n","104":" ","105":" ","106":"\"","107":"h","108":"a","109":"s","11":"6","110":"_","111":"i","112":"d","113":"\"","114":":","115":" ","116":"t","117":"r","118":"u","119":"e","12":"7","120":"\n","121":"}","13":"9","14":"8","15":"1","16":"0","17":"1","18":"4","19":"7","2":" ","20":"0","21":"6","22":"4","23":"6","24":"2","25":"5","26":"0","27":"b","28":"e","29":"0","3":" ","30":"6","31":"1","32":"2","33":"0","34":"4","35":"\"","36":",","37":"\n","38":" ","39":" ","4":"\"","40":"\"","41":"r","42":"o","43":"l","44":"e","45":"\"","46":":","47":" ","48":"\"","49":"a","5":"i","50":"d","51":"m","52":"i","53":"n","54":"\"","55":",","56":"\n","57":" ","58":" ","59":"\"","6":"d","60":"e","61":"m","62":"a","63":"i","64":"l","65":"\"","66":":","67":" ","68":"\"","69":"f","7":"\"","70":"e","71":"k","72":"t","73":"@","74":"i","75":"c","76":"l","77":"o","78":"u","79":"d","8":":","80":".","81":"c","82":"o","83":"m","84":"\"","85":",","86":"\n","87":" ","88":" ","89":"\"","9":" ","90":"h","91":"a","92":"s","93":"I","94":"d","95":"\"","96":":","97":" ","98":"t","99":"r","level":"info","message":"[getAllWalletHistory] User info:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 2] Checking authentication...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 2] Authentication passed","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 3] Setting up helper functions...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 3] Helper functions ready","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 4] Extracting query parameters...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"\n","10":":","11":" ","12":"\"","13":"1","14":"\"","15":",","16":"\n","17":" ","18":" ","19":"\"","2":" ","20":"l","21":"i","22":"m","23":"i","24":"t","25":"\"","26":":","27":" ","28":"\"","29":"2","3":" ","30":"0","31":"\"","32":",","33":"\n","34":" ","35":" ","36":"\"","37":"s","38":"o","39":"r","4":"\"","40":"t","41":"B","42":"y","43":"\"","44":":","45":" ","46":"\"","47":"c","48":"r","49":"e","5":"p","50":"a","51":"t","52":"e","53":"d","54":"A","55":"t","56":"\"","57":",","58":"\n","59":" ","6":"a","60":" ","61":"\"","62":"s","63":"o","64":"r","65":"t","66":"O","67":"r","68":"d","69":"e","7":"g","70":"r","71":"\"","72":":","73":" ","74":"\"","75":"d","76":"e","77":"s","78":"c","79":"\"","8":"e","80":"\n","81":"}","9":"\"","level":"info","message":"[getAllWalletHistory] [STEP 4] Raw params:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"\n","10":"d","100":"a","101":"r","102":"c","103":"h","104":"\"","105":":","106":" ","107":"n","108":"u","109":"l","11":"\"","110":"l","111":",","112":"\n","113":" ","114":" ","115":"\"","116":"m","117":"i","118":"n","119":"A","12":":","120":"m","121":"o","122":"u","123":"n","124":"t","125":"\"","126":":","127":" ","128":"n","129":"u","13":" ","130":"l","131":"l","132":",","133":"\n","134":" ","135":" ","136":"\"","137":"m","138":"a","139":"x","14":"n","140":"A","141":"m","142":"o","143":"u","144":"n","145":"t","146":"\"","147":":","148":" ","149":"n","15":"u","150":"u","151":"l","152":"l","153":",","154":"\n","155":" ","156":" ","157":"\"","158":"s","159":"o","16":"l","160":"r","161":"t","162":"B","163":"y","164":"\"","165":":","166":" ","167":"\"","168":"c","169":"r","17":"l","170":"e","171":"a","172":"t","173":"e","174":"d","175":"A","176":"t","177":"\"","178":",","179":"\n","18":",","180":" ","181":" ","182":"\"","183":"s","184":"o","185":"r","186":"t","187":"O","188":"r","189":"d","19":"\n","190":"e","191":"r","192":"\"","193":":","194":" ","195":"\"","196":"d","197":"e","198":"s","199":"c","2":" ","20":" ","200":"\"","201":"\n","202":"}","21":" ","22":"\"","23":"t","24":"y","25":"p","26":"e","27":"\"","28":":","29":" ","3":" ","30":"n","31":"u","32":"l","33":"l","34":",","35":"\n","36":" ","37":" ","38":"\"","39":"a","4":"\"","40":"d","41":"m","42":"i","43":"n","44":"I","45":"d","46":"\"","47":":","48":" ","49":"n","5":"u","50":"u","51":"l","52":"l","53":",","54":"\n","55":" ","56":" ","57":"\"","58":"s","59":"t","6":"s","60":"a","61":"r","62":"t","63":"D","64":"a","65":"t","66":"e","67":"\"","68":":","69":" ","7":"e","70":"n","71":"u","72":"l","73":"l","74":",","75":"\n","76":" ","77":" ","78":"\"","79":"e","8":"r","80":"n","81":"d","82":"D","83":"a","84":"t","85":"e","86":"\"","87":":","88":" ","89":"n","9":"I","90":"u","91":"l","92":"l","93":",","94":"\n","95":" ","96":" ","97":"\"","98":"s","99":"e","level":"info","message":"[getAllWalletHistory] [STEP 4] Normalized params:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 5] Validating pagination and sort...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","limitNum":20,"message":"[getAllWalletHistory] [STEP 5] Pagination:","pageNum":1,"rawLimit":"20","rawPage":"1","service":"backend-api","skip":0,"timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 5] Sort:","rawSortBy":"createdAt","rawSortOrder":"desc","service":"backend-api","sort":{"createdAt":-1},"sortDirection":-1,"sortField":"createdAt","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 6] Building query object...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 7] Building search query...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 7] No search conditions to add","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"}","level":"info","message":"[getAllWalletHistory] [STEP 6] Final query object:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 8] Executing database query...","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"}","level":"info","message":"[getAllWalletHistory] [STEP 8] Query:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"0":"{","1":"\n","10":"e","11":"d","12":"A","13":"t","14":"\"","15":":","16":" ","17":"-","18":"1","19":"\n","2":" ","20":"}","3":" ","4":"\"","5":"c","6":"r","7":"e","8":"a","9":"t","level":"info","message":"[getAllWalletHistory] [STEP 8] Sort:","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 8] Pagination: skip=0, limit=20","service":"backend-api","timestamp":"2026-02-03 18:15:44"}
{"level":"info","message":"[getAllWalletHistory] [STEP 8] Query completed in 2177ms","service":"backend-api","timestamp":"2026-02-03 18:15:46"}
{"level":"info","message":"[getAllWalletHistory] [STEP 8] Results: Found 20 records, Total: 23","service":"backend-api","timestamp":"2026-02-03 18:15:46"}
{"level":"info","message":"[getAllWalletHistory] [STEP 9] Building response...","service":"backend-api","timestamp":"2026-02-03 18:15:46"}
{"level":"info","message":"[getAllWalletHistory] [STEP 9] Response built:","pages":2,"results":20,"service":"backend-api","status":"success","timestamp":"2026-02-03 18:15:46","total":23}
{"level":"info","message":"[getAllWalletHistory] ========== SUCCESS ==========","service":"backend-api","timestamp":"2026-02-03 18:15:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/wallet-history?page=1&limit=20 \u001b[36m304\u001b[0m 3407.059 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:15:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:15:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:15:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 18:15:50"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:15:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:15:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 992.632 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:15:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:15:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:15:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 18:15:58"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:15:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:15:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 758.154 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:15:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 18:20:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:20:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:20:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 18:20:50"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:20:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:20:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1257.154 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 18:20:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 18:20:52","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 805.986 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1070.682 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:20:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 2646.957 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:20:54"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:32:31"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:32:31"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 18:32:44"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:33:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 18:34:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:34:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:34:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 18:34:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:34:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:34:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1382.255 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:34:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 18:34:10","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 18:34:10"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 18:34:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 783.824 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:34:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1028.086 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:34:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 18:34:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 18:34:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 2401.539 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:34:12"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 18:38:35"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 18:39:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:40:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 18:40:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 18:40:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[31m500\u001b[0m 5014.750 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 18:40:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-03 19:33:39"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 19:33:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-03 19:33:43","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 4135.699 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 4945.332 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 5201.818 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 501.736 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 5653.271 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 501.541 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 495.885 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-03 19:33:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 6530.442 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:46"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-03 19:33:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-03 19:33:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 6603.882 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1305.574 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 2346.452 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 4432.843 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:33:48"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 19:56:09"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 19:56:09"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-03 19:56:19"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-03 19:56:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 19:57:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 19:57:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 19:57:00"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 19:57:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 19:57:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 19:57:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 19:57:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 19:57:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1329.678 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:57:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 19:57:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-03 19:57:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 19:57:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 19:57:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 19:57:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-03 19:57:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-03 19:57:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-03 19:57:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1994.646 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-03 19:57:36"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:31:16"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 12:31:17"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 12:31:17"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 12:31:17"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 12:31:17"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 12:31:17"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 12:31:20"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 12:31:20"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 12:31:20"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 12:31:20"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 12:31:20"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 12:31:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:43"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 295.140 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1079.148 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 357.149 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 12:32:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1660.251 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 622.683 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[32m200\u001b[0m 1186.680 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 12:32:45"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2876.063 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 2049.559 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 2718.069 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[32m200\u001b[0m 1759.296 ms - 221\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:32:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:32:47"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 12:32:47"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 12:32:47","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 785.191 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:47"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 12:32:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1065.601 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 12:32:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 12:32:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1320.412 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:32:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 310.615 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:00"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1229.811 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 281.610 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1209.186 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 589.750 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 12:33:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2888.849 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:02"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:33:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 12:33:02"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:33:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 12:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 3776.226 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:33:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:33:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:33:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:33:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1701.218 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 845.590 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:33:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:33:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:33:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1020.705 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1026.386 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:33:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:34:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:34:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:34:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:34:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 903.712 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:34:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 908.580 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:34:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:35:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:35:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:35:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 801.078 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:35:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:35:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:35:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:35:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 771.773 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:35:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:36:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:36:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:36:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 884.023 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:28"}
{"level":"info","message":"[Admin Login] Triggering seller credits backfill in background (adminId: 6798101470646250be061204)","service":"backend-api","timestamp":"2026-02-04 12:36:31"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-04 12:36:31"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-04 12:36:31"}
{"level":"info","message":"[OrderService] Backfill: found 3 delivered order(s) to process (limit=100)","service":"backend-api","timestamp":"2026-02-04 12:36:31"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-04 12:36:31"}
{"deviceId":"1d5bb5de-2f43-4b15-a901-c7e01ea4a4ba","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazadmin","service":"backend-api","timestamp":"2026-02-04 12:36:31","userId":"6798101470646250be061204","userModel":"Admin"}
{"buffer":{"data":[105,131,61,79,224,248,25,168,174,11,131,87],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-04 12:36:31"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/login \u001b[32m200\u001b[0m 3452.748 ms - 241\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by admin (6798101470646250be061204) - Risk: low - Platform: eazadmin","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 12:36:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 12:36:33","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 913.389 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1168.609 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:36:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:36:34"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260131-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 12:36:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 1501.578 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[32m200\u001b[0m 1763.989 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:34"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 12:36:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[32m200\u001b[0m 3305.709 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:36:36"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0003 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 12:36:38"}
{"level":"info","message":"[Admin Login] Seller credits backfill complete: processed=3, credited=0, skipped=3","service":"backend-api","timestamp":"2026-02-04 12:36:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:37:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:37:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:37:06"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:37:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:37:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 968.037 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:37:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:39:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:39:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:39:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:39:10"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 2361.339 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:39:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 12:39:12","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 865.728 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 992.931 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1229.901 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:39:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:43:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:43:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:43:19"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:43:20"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:43:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 1650.274 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:43:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:43:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:43:20"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:43:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:43:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 866.611 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:43:21"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:54:31"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 12:54:32"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 12:54:32"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 12:54:32"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 12:54:32"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 12:54:32"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 12:54:35"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 12:54:35"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 12:54:35"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 12:54:35"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 12:54:35"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 12:54:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:55:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:55:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:55:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:55:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:55:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:55:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1492.848 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:23"}
{"level":"info","message":"[Admin Login] Triggering seller credits backfill in background (adminId: 6798101470646250be061204)","service":"backend-api","timestamp":"2026-02-04 12:55:26"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-04 12:55:26"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-04 12:55:26"}
{"level":"info","message":"[OrderService] Backfill: found 3 delivered order(s) to process (limit=100)","service":"backend-api","timestamp":"2026-02-04 12:55:26"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-04 12:55:26"}
{"deviceId":"8a6559d3-d66c-47e8-ab31-289c349e00a5","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazadmin","service":"backend-api","timestamp":"2026-02-04 12:55:26","userId":"6798101470646250be061204","userModel":"Admin"}
{"buffer":{"data":[105,131,65,190,88,74,110,90,233,67,68,90],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-04 12:55:27"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/login \u001b[32m200\u001b[0m 3528.650 ms - 241\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:27"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by admin (6798101470646250be061204) - Risk: low - Platform: eazadmin","service":"backend-api","timestamp":"2026-02-04 12:55:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-04 12:55:28"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 12:55:29","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 908.591 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1186.305 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260131-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 12:55:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 1781.254 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[36m304\u001b[0m 1804.531 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[36m304\u001b[0m 3618.654 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:55:32"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 12:55:32"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0003 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 12:55:33"}
{"level":"info","message":"[Admin Login] Seller credits backfill complete: processed=3, credited=0, skipped=3","service":"backend-api","timestamp":"2026-02-04 12:55:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:56:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:56:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:56:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:56:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:56:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 928.776 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:56:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:56:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:56:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 12:56:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:56:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:56:09"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[33m400\u001b[0m 539.419 ms - 68\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:56:09"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:57:20"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 12:57:21"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 12:57:21"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 12:57:21"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 12:57:21"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 12:57:21"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 12:57:24"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 12:57:24"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 12:57:24"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 12:57:24"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 12:57:24"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 12:57:24"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-04 12:58:18"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 12:58:23"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 12:58:24"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 12:58:24"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 12:58:24"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 12:58:24"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 12:58:24"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 12:58:27"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 12:58:27"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 12:58:27"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 12:58:27"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 12:58:27"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 12:58:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:58:28"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:58:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:58:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:58:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 7240.232 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:58:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 12:58:36","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 894.526 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 915.362 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:58:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1296.689 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:58:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 12:59:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:59:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:59:03"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[32m201\u001b[0m 4289.672 ms - 128\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:59:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"adId":"698342c0608db9d8f704307c","createdBy":"6798101470646250be061204","level":"info","message":"[Advertisements] Created new advertisement","service":"backend-api","timestamp":"2026-02-04 12:59:44","type":"popup"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[32m201\u001b[0m 794.786 ms - 468\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 12:59:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 12:59:45","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 853.818 ms - 483\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 855.471 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:59:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 12:59:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 12:59:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1227.612 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:59:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1417.428 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 12:59:46"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-04 13:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-04 13:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-04 13:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-04 13:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:01:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:01:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 13:01:55"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:01:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:01:56"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[32m201\u001b[0m 3180.916 ms - 129\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:01:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:02:22"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"adId":"6983435f608db9d8f70430a2","createdBy":"6798101470646250be061204","level":"info","message":"[Advertisements] Created new advertisement","service":"backend-api","timestamp":"2026-02-04 13:02:23","type":"banner"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[32m201\u001b[0m 792.713 ms - 456\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:02:23"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:02:24","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 1008.007 ms - 905\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1003.373 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:02:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1381.841 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1700.800 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:02:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 792.005 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 802.184 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:02:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:46"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 853.477 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 330.762 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:47"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 512.354 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 524.890 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1186.044 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1727.328 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:48"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2457.078 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[32m200\u001b[0m 1507.513 ms - 221\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[32m200\u001b[0m 1512.577 ms - 905\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:02:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 2559.974 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:50"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:02:50"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:02:50","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1099.671 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:51"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:02:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1416.323 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:02:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 306.405 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1033.273 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 309.216 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 981.117 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 354.534 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1719.495 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:58"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1248.846 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1324.129 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2761.813 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2351.478 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:02:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:00"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:03:00"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:03:00","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:00"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:03:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1239.428 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1552.383 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:03:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 299.679 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 941.333 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 309.319 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:03:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 356.185 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 897.357 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1714.745 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:03:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1334.701 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2443.432 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1436.700 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2283.876 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:03:25"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:03:25","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:03:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 906.010 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1235.719 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:03:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 806.568 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 275.409 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 389.337 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 404.079 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 973.631 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1512.556 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:31"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:03:32"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:03:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2416.794 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1583.515 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1586.584 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2722.786 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:34"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:03:34"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:03:34","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1363.663 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:34"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:03:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1763.259 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:03:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 975.974 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:03:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:03:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:03:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 892.473 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:03:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:04:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:04:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 13:04:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:04:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:04:38"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[32m201\u001b[0m 3566.624 ms - 128\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:04:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:05:31"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"adId":"6983441c608db9d8f70436ce","createdBy":"6798101470646250be061204","level":"info","message":"[Advertisements] Created new advertisement","service":"backend-api","timestamp":"2026-02-04 13:05:32","type":"carousel"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[32m201\u001b[0m 769.925 ms - 471\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:05:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:05:33","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 959.529 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 989.193 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1233.695 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:05:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1520.168 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:05:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:07:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:07:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 794.532 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 799.821 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:07:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:52"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 793.970 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 269.022 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[32m200\u001b[0m 273.371 ms - 447\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 300.368 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:07:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1368.402 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 854.171 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2005.581 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1186.165 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1194.984 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2129.567 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:07:55","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:07:55"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:07:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 976.499 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1684.345 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:07:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 13:08:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 13:08:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1062.964 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:08:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:09:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:09:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:09:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:09:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 849.584 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:09:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 853.577 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:09:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:10:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:10:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:10:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:10:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:10:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 894.280 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:10:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:12:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:12:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:12:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:12:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 761.043 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:12:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 766.784 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:12:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:12:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:12:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:12:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 808.997 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:12:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/6983441c608db9d8f70436ce","service":"backend-api","timestamp":"2026-02-04 13:13:10"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:10"}
{"adId":"6983441c608db9d8f70436ce","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/6983441c608db9d8f70436ce \u001b[32m200\u001b[0m 1125.627 ms - 471\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:13:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:13:12","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 773.438 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 788.405 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1025.942 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1280.073 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/6983435f608db9d8f70430a2","service":"backend-api","timestamp":"2026-02-04 13:13:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:36"}
{"adId":"6983435f608db9d8f70430a2","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/6983435f608db9d8f70430a2 \u001b[32m200\u001b[0m 1060.474 ms - 456\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:13:37","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:37"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 785.328 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 785.162 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1100.001 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1422.806 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/698342c0608db9d8f704307c","service":"backend-api","timestamp":"2026-02-04 13:13:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:49"}
{"adId":"698342c0608db9d8f704307c","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/698342c0608db9d8f704307c \u001b[32m200\u001b[0m 1122.480 ms - 468\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:13:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:13:51","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 853.143 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 850.781 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1153.128 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1469.031 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:13:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/6983435f608db9d8f70430a2","service":"backend-api","timestamp":"2026-02-04 13:14:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"adId":"6983435f608db9d8f70430a2","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/6983435f608db9d8f70430a2 \u001b[32m200\u001b[0m 1028.666 ms - 456\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:14:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:14:05","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 939.365 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 932.257 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1242.056 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1649.464 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/6983441c608db9d8f70436ce","service":"backend-api","timestamp":"2026-02-04 13:14:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:13"}
{"adId":"6983441c608db9d8f70436ce","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/6983441c608db9d8f70436ce \u001b[32m200\u001b[0m 1040.042 ms - 471\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:14:14","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 757.056 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 758.742 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1076.289 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1265.293 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:14:23"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 829.284 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 846.242 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:14:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 267.432 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 911.001 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 291.628 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[32m200\u001b[0m 317.360 ms - 447\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 983.018 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1574.562 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2140.580 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1343.411 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1163.391 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2195.585 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:14:28","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:28"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:14:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 872.934 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1155.875 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 834.258 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:14:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[32m200\u001b[0m 1066.402 ms - 61\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1355.362 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1018.057 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1945.835 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1074.654 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:14:35","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 860.266 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1103.492 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 302.446 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:49"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[32m200\u001b[0m 2076.588 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 338.518 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 13:14:59"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 13:15:00"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 13:15:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1724.150 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:15:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:15:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:15:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 250.639 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:15:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:23:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:23:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:23:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:23:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1569.922 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 624.953 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:23:16","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1070.422 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1427.466 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[36m304\u001b[0m 2609.374 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 272.122 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 13:23:49"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 13:23:50"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 13:23:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[36m304\u001b[0m 1703.609 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:23:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:24:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 821.922 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 277.325 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 268.924 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:28"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 13:24:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 13:24:28"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:28"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 2066.053 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 252.007 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:24:30"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:24:30","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 822.671 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1134.762 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1442.883 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1722.542 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[32m200\u001b[0m 1937.462 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:24:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 792.649 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:24:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:38"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 758.674 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1030.167 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[32m200\u001b[0m 1312.535 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[32m200\u001b[0m 1569.716 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1074.080 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1078.602 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:24:40","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:40"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:24:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 761.032 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1015.298 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 852.001 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1111.024 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1373.904 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1627.332 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1033.921 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1037.443 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:24:44"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:24:44","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 793.495 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:45"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:24:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1046.412 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:24:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 853.451 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 856.632 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:49"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 970.191 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:24:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1209.867 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1478.092 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1816.242 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1030.664 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1018.617 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:24:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:24:52"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:24:52"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:24:52","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 781.534 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:52"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:24:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1248.410 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:24:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:25:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:25:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:25:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:25:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:25:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:25:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1381.042 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:25:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 295.521 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:25:04"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:25:04","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:25:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 884.369 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:25:05"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 13:25:05"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 13:25:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1318.295 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:25:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[36m304\u001b[0m 1892.238 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:25:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[36m304\u001b[0m 2321.970 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:25:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:29:21"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:29:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:29:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:29:22"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:29:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:29:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1386.421 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 321.849 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:23"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:29:24","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 928.119 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1214.879 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[36m304\u001b[0m 1799.696 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[36m304\u001b[0m 2301.403 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1203.026 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1209.574 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:29:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:29:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 804.437 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1099.109 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1397.489 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1148.595 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1152.495 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2026.334 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:29:29"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:29:29","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:29:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 794.327 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1098.849 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:29:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:30:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:30:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:30:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 772.785 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:30:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:30:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:30:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:30:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 956.229 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:30:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:31:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:31:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:31:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 799.080 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:31:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:31:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:31:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:31:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 906.371 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:31:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:32:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:32:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:32:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 763.622 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:32:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:32:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:32:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:32:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 926.215 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:32:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:33:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:33:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:33:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 863.994 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:33:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:33:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:33:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:33:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 759.536 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:33:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:34:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:34:06"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:34:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 819.537 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:34:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:34:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:34:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:34:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 832.167 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:34:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:35:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:35:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:35:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 750.503 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:35:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:35:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:35:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:35:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 785.461 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:35:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:36:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:36:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:36:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 814.179 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:36:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:36:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:36:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:36:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 787.019 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:36:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:37:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:37:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:37:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1065.029 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:37:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:38:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:38:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:38:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:38:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:38:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 910.964 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:38:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 13:40:21"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:40:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:40:21"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[32m201\u001b[0m 2339.613 ms - 128\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:40:27"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:40:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:40:28"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[31m500\u001b[0m 509.635 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:40:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:40:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:40:36"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[31m500\u001b[0m 519.481 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:40:52"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:40:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:40:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:40:52"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1343.557 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:40:53"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:40:54","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 970.197 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 999.701 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:40:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1404.331 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:40:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:41:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:41:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 13:41:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:41:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:41:02"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[32m201\u001b[0m 2543.369 ms - 128\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:41:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:41:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:41:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:41:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:41:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:41:36"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[31m500\u001b[0m 548.844 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:41:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:42:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:42:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:42:56"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:42:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:42:57"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[31m500\u001b[0m 565.839 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:42:57"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-04 13:43:13"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:43:18"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 13:43:19"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 13:43:19"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 13:43:19"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 13:43:19"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 13:43:19"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 13:43:22"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 13:43:22"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 13:43:23"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 13:43:23"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 13:43:23"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 13:43:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:43:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:43:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:43:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:43:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:43:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:43:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1426.189 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:43:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:43:37","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:43:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 854.619 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:43:38"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:43:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 877.576 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:43:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1206.444 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:43:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:44:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:44:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads/upload-image","service":"backend-api","timestamp":"2026-02-04 13:44:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:44:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:44:42"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads/upload-image \u001b[32m201\u001b[0m 2463.383 ms - 128\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:44:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:45:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:45:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:45:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:45:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:45:13"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[31m500\u001b[0m 604.710 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:45:13"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-04 13:45:35"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:45:37"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 13:45:38"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 13:45:38"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 13:45:38"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 13:45:38"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 13:45:38"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 13:45:43"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 13:45:43"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 13:45:43"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 13:45:43"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 13:45:43"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 13:45:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:46:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:46:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:46:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:46:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:46:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 1404.057 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:46:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:47:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:47:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:08"}
{"adId":"69834ddc38eb5f43a7616e57","createdBy":"6798101470646250be061204","level":"info","message":"[Advertisements] Created new advertisement","service":"backend-api","timestamp":"2026-02-04 13:47:09","type":"carousel"}
{"level":"info","message":"\u001b[0mPOST /api/v1/ads \u001b[32m201\u001b[0m 781.495 ms - 471\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:47:09","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 769.882 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 794.051 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1264.679 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1541.691 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:47:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 887.264 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 894.896 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 1174.193 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:22"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:22"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[32m200\u001b[0m 613.727 ms - 845\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 2318.303 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 2248.570 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 436.659 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:47:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 3076.870 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:24"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:24"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:47:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 3826.432 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1431.212 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1375.502 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 3623.684 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:47:25","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:25"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:47:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1092.659 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1377.847 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:47:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:47:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:47:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 776.931 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:47:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:48:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:48:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:48:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 850.125 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:48:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:48:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:48:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:48:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 748.649 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:48:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:49:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:49:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:49:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1291.176 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:49:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:50:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:50:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:50:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 895.768 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:50:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:50:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:50:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:50:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 980.847 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:50:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:51:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:51:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:51:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 791.933 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:51:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:51:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:51:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:51:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 905.235 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:51:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:52:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:52:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:52:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1113.925 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:52:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:52:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:52:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:52:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 7542.316 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:52:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:53:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1424.689 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 13:53:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 352.911 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1221.205 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 301.417 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 13:53:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 953.566 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 343.248 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1963.144 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 13:53:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1370.230 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2359.162 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1400.443 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 13:53:23"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 13:53:23","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 13:53:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 854.425 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1165.715 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 4263.631 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:53:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:53:54"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:53:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 807.468 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:53:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:54:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:54:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:54:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 836.091 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:54:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:54:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:54:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:54:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 758.650 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:54:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:55:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:55:26"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:55:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 878.058 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:55:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:55:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:55:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:55:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 958.568 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:55:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:56:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:56:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:56:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 773.422 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:56:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:56:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:56:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:56:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 763.586 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:56:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:57:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:57:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:57:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 857.752 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:57:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:58:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:58:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:58:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1025.736 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:58:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:58:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:58:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:58:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1002.743 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:58:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:59:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:59:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:59:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 821.760 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:59:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 13:59:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 13:59:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 13:59:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 880.746 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 13:59:34"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-04 14:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-04 14:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-04 14:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-04 14:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:00:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:00:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 775.658 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 539.021 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 543.164 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:22"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 352.389 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1192.455 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1203.138 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1565.302 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1454.295 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2431.384 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2143.568 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:00:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:00:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:00:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 755.308 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:00:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:01:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:01:06"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:01:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 855.922 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:01:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:01:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:01:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:01:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 820.791 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:01:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:02:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:02:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:02:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 815.950 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:02:25"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:02:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[32m200\u001b[0m 1167.845 ms - 61\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:02:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:02:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:02:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 271.285 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 270.548 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1126.222 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:02:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:02:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:02:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 2904.430 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 249.457 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:44"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:02:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[36m304\u001b[0m 2025.502 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:02:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 272.753 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:52"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:02:53"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 14:02:53"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 14:02:53"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 14:02:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[36m304\u001b[0m 1652.001 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:02:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:24"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:03:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:03:24"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:03:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:03:25"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 2093.750 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 266.689 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:03:27","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 796.228 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:27"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1055.528 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1318.910 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1597.814 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[32m200\u001b[0m 1870.179 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:03:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:08"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:05:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:05:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:09"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 2133.106 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:05:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 267.283 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:05:11","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 830.102 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1064.685 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1355.706 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1728.958 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[32m200\u001b[0m 2017.190 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 782.646 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1043.868 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[32m200\u001b[0m 1338.071 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[32m200\u001b[0m 1595.734 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1024.082 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1039.128 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:05:15"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:05:15","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 800.674 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:16"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:05:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1095.939 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:05:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 927.007 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 960.832 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:35"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1173.830 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:05:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 893.421 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 256.790 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 255.615 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 289.346 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:47"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1027.060 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1373.479 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2005.285 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 2210.206 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2422.548 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:05:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:06:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:06:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:06:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 881.457 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:06:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:06:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:06:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:06:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 798.498 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:06:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:07:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:07:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 393.528 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:07:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 397.817 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:07:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:07:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:07:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:07:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 826.722 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:07:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:07:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:07:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:07:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 936.085 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:07:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:08:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:08:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:08:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 879.553 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:08:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:08:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:08:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 535.149 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:08:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 541.991 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:08:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:08:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:08:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:08:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1194.606 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:08:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:09:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:09:21"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:09:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1296.712 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:09:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:09:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:09:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:09:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1019.037 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:09:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:10:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:10:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 388.234 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:10:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 395.356 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:10:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:10:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 407.906 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:10:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:10:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:10:23"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:10:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1342.637 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:10:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:10:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 346.736 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:10:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:10:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:10:54"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:10:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 980.674 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:10:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:11:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:11:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 938.414 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 364.326 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 410.322 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 455.855 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1751.041 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2588.860 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:11:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 2784.737 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1460.865 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:11:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:11:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:11:42"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:11:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:11:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:11:43"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:11:43"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:11:43","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 2575.098 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:11:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1956.012 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:44"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:11:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 5681.006 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 3728.746 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 7568.307 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:11:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:12:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:12:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:12:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1573.240 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:12:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:12:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:12:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:12:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1085.370 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:12:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:12:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:12:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 773.195 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:12:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 776.827 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:12:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:13:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:13:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:13:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1037.258 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:13:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:13:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:13:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:13:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:13:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:13:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 1174.809 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:13:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:14:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:08"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 922.921 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:14:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=salah \u001b[32m200\u001b[0m 1439.836 ms - 61\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:10"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:14:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:14:10"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:14:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:14:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1549.103 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1553.880 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2522.769 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:14:11","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:14:11"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 794.273 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1086.833 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 3891.399 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:14:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 312.657 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 316.487 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:14:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:15:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:15:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:15:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:15:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 936.750 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:15:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 941.246 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:15:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:15:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:15:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:15:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 906.036 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:15:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:16:14"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:16:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[36m304\u001b[0m 1101.275 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:16:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:16:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:16:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:16:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 762.824 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:16:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:16:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:16:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:16:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 774.379 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:16:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:17:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:17:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 766.727 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:17:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:17:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 803.895 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 304.301 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 277.167 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 299.157 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 761.659 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 998.458 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1374.144 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2390.082 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2812.983 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:17:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 5051.615 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:18:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:18:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:18:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:18:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 826.055 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:18:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:18:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:18:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:18:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 763.713 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:18:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:19:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:19:21"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:19:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:19:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:19:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:19:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 2092.283 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:19:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 509.888 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:19:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 514.498 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:19:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1243.090 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:19:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:19:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:19:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:19:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 868.134 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:19:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 389.881 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:20:50"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:20:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[36m304\u001b[0m 2464.217 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:20:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:20:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 279.619 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:20:56"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:20:56"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 14:20:56"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 14:20:56"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 14:20:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[36m304\u001b[0m 1555.662 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:20:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:01"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:21:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:21:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:02"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 2154.479 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:21:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 287.588 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:21:04","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 842.994 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1151.986 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1448.116 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1547.596 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[32m200\u001b[0m 2145.766 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:21:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 859.854 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 864.252 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:21:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 802.052 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 269.983 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 816.351 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:38"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 327.118 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 372.460 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 964.127 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[32m200\u001b[0m 1463.896 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1187.318 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1195.361 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 2447.713 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:21:41","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 930.471 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[32m200\u001b[0m 3454.967 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1209.628 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:21:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 314.044 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 907.901 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 373.228 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 323.431 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:21:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1173.502 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1703.198 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:21:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2638.522 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1765.693 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1737.472 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:21:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2834.873 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:57"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:21:57"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:21:57","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:21:57"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:21:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1093.021 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1393.827 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:21:58"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:21:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[36m304\u001b[0m 1061.962 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:21:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:22:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 851.607 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:44"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:22:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/product/697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 14:22:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:22:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:22:44"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 2280.732 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 265.580 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:22:46"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:22:46","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 827.731 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1107.116 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1408.297 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:22:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1814.464 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=200&page=1 \u001b[32m200\u001b[0m 2106.508 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1003.424 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:22:50"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1025.773 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:22:51"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:22:52"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:22:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[32m200\u001b[0m 2230.223 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[32m200\u001b[0m 2311.692 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1483.648 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1488.639 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[32m200\u001b[0m 3116.720 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:22:53"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:22:53","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 904.322 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:54"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:22:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1439.650 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:22:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:23:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:23:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:23:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 807.003 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:23:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:23:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:23:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:23:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 904.009 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:23:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:24:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:24:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:24:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 765.635 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:24:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:24:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:24:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:24:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1192.622 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:24:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:25:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:25:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:25:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1103.009 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:25:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:25:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:25:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:25:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 903.140 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:25:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:26:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:26:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:26:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1435.053 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:26:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:27:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:27:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:27:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 917.811 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:27:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:27:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:27:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:27:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1076.225 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:27:33"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:28:01"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 14:28:03"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 14:28:03"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 14:28:03"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 14:28:03"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 14:28:03"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 14:28:06"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 14:28:06"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 14:28:06"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 14:28:06"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 14:28:06"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 14:28:06"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:28:16"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 14:28:17"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 14:28:17"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 14:28:17"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 14:28:17"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 14:28:17"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 14:28:20"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 14:28:20"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 14:28:20"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 14:28:20"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 14:28:20"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 14:28:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:28:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:28:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:28:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:28:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:28:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 939.379 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:28:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:28:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:28:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:28:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:28:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 838.193 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:28:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:28:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:28:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:28:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:28:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:28:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 845.033 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:28:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/69834ddc38eb5f43a7616e57","service":"backend-api","timestamp":"2026-02-04 14:32:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:14"}
{"adId":"69834ddc38eb5f43a7616e57","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/69834ddc38eb5f43a7616e57 \u001b[32m200\u001b[0m 1266.334 ms - 492\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:32:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:32:16","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 976.250 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 968.019 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1279.477 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1549.216 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:32:20"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 964.007 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/6983441c608db9d8f70436ce","service":"backend-api","timestamp":"2026-02-04 14:32:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"adId":"6983441c608db9d8f70436ce","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/6983441c608db9d8f70436ce \u001b[32m200\u001b[0m 1121.532 ms - 492\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 14:32:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:32:47","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1050.669 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 1039.123 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1337.671 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1652.955 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:32:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[32m200\u001b[0m 434.591 ms - 887\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 997.446 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:32:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1508.778 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[36m304\u001b[0m 2021.043 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2073.538 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1231.374 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1239.618 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:32:56","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:32:56"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:32:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1101.249 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1416.973 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:32:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:33:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:33:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:33:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:33:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 583.179 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:33:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 571.590 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:33:09"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:33:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 983.252 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:33:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 2926.724 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:33:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:33:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:33:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:33:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 824.879 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:33:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:33:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:33:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:33:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 925.684 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:33:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:34:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:34:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 800.498 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:34:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 306.806 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:35"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 828.440 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:36"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1725.018 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 928.150 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2127.515 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 399.709 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1854.334 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1858.798 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 750.637 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:34:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:34:39"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:34:39"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:34:39","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:34:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2735.155 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:39"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:34:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1005.973 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1693.089 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:34:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:35:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:35:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:35:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1080.733 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:35:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:35:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:35:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:35:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1140.519 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:35:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:36:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:36:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1200.164 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 332.911 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:36:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1081.504 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 339.204 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 309.480 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:36:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1929.482 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 945.277 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2223.982 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1513.154 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1529.623 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2195.375 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:36:37"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:36:37","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:36:38"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:36:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1112.711 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1216.450 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:36:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:37:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:37:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:37:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 919.584 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:37:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:37:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:37:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:37:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 907.446 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:37:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:38:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:38:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:38:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 808.638 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:38:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:38:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:38:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 609.281 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:38:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 607.385 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:38:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:38:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 1012.457 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:38:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:38:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 374.140 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:38:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:38:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:38:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:38:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 830.640 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:38:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:39:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:39:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:39:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:39:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1406.277 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:39:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 349.327 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:39:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:39:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:39:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:39:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 829.569 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:39:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:39:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:39:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 709.312 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:39:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 721.133 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:39:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:40:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:40:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:40:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 836.094 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:40:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:40:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:40:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:40:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1041.389 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:40:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:41:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:41:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:41:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1010.283 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:41:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:41:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:41:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 382.106 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:41:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 518.774 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:41:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:41:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 318.158 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:41:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:41:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:41:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:41:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 953.932 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:41:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 428.565 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 424.890 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:42:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1877.743 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:42:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 4285.122 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 4307.798 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:42:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1224.301 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:42:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:42:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:42:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 921.576 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:42:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:43:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:43:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:43:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1066.494 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:43:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:43:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:43:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:43:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1111.782 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:43:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:44:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:44:22"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:44:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1130.748 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:44:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:44:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:44:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:44:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1526.793 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:44:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:45:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:45:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:45:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 940.504 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:45:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:45:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:45:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:45:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1083.036 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:45:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:46:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 301.803 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1216.174 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 715.650 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:46:16"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 361.795 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1476.053 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1966.105 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:46:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2512.939 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1288.396 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1369.080 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2774.710 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:46:18"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:46:18","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:46:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 943.255 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1378.257 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:46:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:46:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:46:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1234.931 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:46:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:47:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:47:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:47:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 894.390 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:47:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:47:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:47:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:47:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1129.226 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:47:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:48:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:48:22"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:48:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 782.723 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:48:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:48:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:48:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 792.536 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:48:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 795.254 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:48:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:48:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:48:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:48:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 2228.685 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:48:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:49:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:49:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:49:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 898.254 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:49:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:49:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:49:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:49:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1133.823 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:49:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:50:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:50:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:50:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1127.985 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:50:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:50:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:50:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:51:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 2082.871 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:51:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:51:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:51:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:51:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 3320.181 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:51:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:52:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:52:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:52:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1821.906 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:52:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:52:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:52:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:52:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:52:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:52:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 797.502 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:52:24"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:52:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:52:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1372.362 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:52:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2522.034 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:52:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2629.499 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:52:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 373.764 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:53:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 924.639 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:53:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1432.648 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:53:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1756.442 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:53:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:54:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:54:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:54:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:54:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:54:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 273.464 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:54:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:54:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:54:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 828.985 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:54:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1319.884 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:54:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1950.193 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:54:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 303.817 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:57:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 256.038 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 786.724 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1371.231 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:57:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1635.197 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1036.798 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1068.045 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 1865.247 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:58:00","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:58:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 877.472 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:01"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:58:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1161.269 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:58:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:58:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:58:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 768.963 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:58:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:59:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 815.695 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:59:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 887.276 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 14:59:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 311.508 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 282.666 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 897.270 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 14:59:57"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1464.896 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1051.392 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1996.387 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1075.475 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 1825.580 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 14:59:59"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 14:59:59"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 14:59:59","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 994.144 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 14:59:59"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 14:59:59"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-04 15:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-04 15:00:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1280.397 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-04 15:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-04 15:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:00:01"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:00:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[36m304\u001b[0m 1588.912 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:00:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:00:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:00:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:00:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 808.277 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:00:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:01:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:01:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 808.636 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 309.673 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 314.430 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 413.165 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 279.148 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 981.691 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:01:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1527.457 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2065.547 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1157.312 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1160.065 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 1932.777 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:01:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:01:32"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:01:32"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:01:32","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:01:32"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:01:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1339.132 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1636.524 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:01:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:02:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:02:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:02:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 815.345 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:02:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:02:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:02:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:02:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1416.688 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:02:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:03:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:03:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:03:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 802.683 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:03:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:03:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:03:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:03:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 767.270 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:03:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:03:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:03:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 353.018 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:03:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 356.732 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:03:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:04:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:04:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:04:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 884.617 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:04:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:04:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:04:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:04:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 816.555 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:04:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 281.861 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 814.108 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 273.098 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 339.678 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1088.298 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1664.129 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:14:13"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2278.913 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1442.601 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:14:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1582.374 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2512.955 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:14:15","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 951.226 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1243.850 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:14:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:14:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:14:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 792.461 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:14:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:15:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:15:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:15:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 769.393 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:15:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:15:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:15:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:15:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 749.002 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:15:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:16:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:16:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:16:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 779.394 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:16:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:16:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:16:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:16:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 821.637 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:16:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:17:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:17:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:17:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 964.554 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:17:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:17:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:17:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:17:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:17:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:17:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 575.028 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:17:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 586.539 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:17:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:17:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1175.333 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:17:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1126.436 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:17:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:18:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 269.997 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:18:13","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 988.762 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:18:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1428.341 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:18:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1548.467 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:18:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:18:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 353.713 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:18:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:18:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:18:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:18:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 779.346 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:18:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:19:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:19:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:19:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 772.225 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:19:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:19:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:19:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:19:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 840.415 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:19:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:20:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:20:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:20:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 760.443 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:20:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:20:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:20:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:20:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 830.545 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:20:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:21:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:21:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:21:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 773.093 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:21:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:21:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:21:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:21:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 780.322 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:21:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:22:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:22:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 760.013 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 489.349 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 480.996 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 496.393 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:41"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:22:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 2107.436 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 490.216 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2635.350 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 3017.759 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:22:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:22:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:22:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1514.830 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:22:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:23:21"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:23:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 767.871 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 510.069 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 514.956 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1133.703 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1149.402 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1429.804 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:23:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:23:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:23:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 799.471 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:23:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:24:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 262.155 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:24:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:24:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 329.332 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:24:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:25:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:25:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:25:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:25:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 936.894 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:25:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 941.852 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:25:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:25:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:25:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 2320.071 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 602.505 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 609.169 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:26:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 790.473 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 709.056 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 321.454 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 857.689 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:26:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1060.735 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:56"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:26:56"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:26:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1465.463 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1107.520 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1114.157 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:26:57","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 828.268 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1429.991 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 3449.628 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:26:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:27:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:27:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:27:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:27:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 299.699 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:27:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 303.246 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:27:02"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:27:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 1277.892 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:27:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 3284.278 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:27:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:29:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:29:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 15:29:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:29:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:29:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 2335.221 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:29:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 849.559 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 851.990 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 324.981 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:29:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 848.246 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=valentine-gift \u001b[36m304\u001b[0m 1143.381 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1586.075 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2550.493 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1685.666 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1203.746 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1700.257 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:29:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:47"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:29:47"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:29:47","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:29:47"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:29:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1262.342 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1517.166 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:29:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/ads/69834ddc38eb5f43a7616e57","service":"backend-api","timestamp":"2026-02-04 15:30:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:30:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:30:35"}
{"adId":"69834ddc38eb5f43a7616e57","level":"info","message":"[Advertisements] Updated advertisement","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/ads/69834ddc38eb5f43a7616e57 \u001b[32m200\u001b[0m 1095.512 ms - 492\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 15:30:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:30:37","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1042.772 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[32m200\u001b[0m 1019.324 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1364.879 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1801.942 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:30:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:30:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:30:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:30:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:30:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:30:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:30:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:30:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:30:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:30:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:30:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 990.689 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[32m200\u001b[0m 984.776 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:30:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:30:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:30:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 911.538 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:30:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:31:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:31:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:31:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:31:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 875.514 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1554.652 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:31:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[32m200\u001b[0m 319.554 ms - 887\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:31:10","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1022.610 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 900.100 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1286.455 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 326.948 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 1028.535 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1512.129 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 907.482 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 300.073 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:31:11"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:12"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2243.585 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1171.113 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1271.476 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 2097.653 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:31:13","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 785.892 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:31:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1074.864 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 15:31:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 275.629 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 800.780 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 15:31:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1312.753 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[36m304\u001b[0m 1519.041 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1651.412 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1095.735 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1098.837 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:31:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:26"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:31:26"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:31:26","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:26"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:31:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 819.540 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1079.518 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:31:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:31:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:31:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 888.687 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:31:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:32:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:32:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:32:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 863.416 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:32:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:32:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:32:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:32:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 834.497 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:32:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:33:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:33:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:33:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 792.177 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:33:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:34:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:34:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:34:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 926.990 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:34:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:34:15"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:34:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:34:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:34:15"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1281.452 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:34:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:34:17","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 765.806 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1022.660 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:34:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 761.127 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:34:18"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-04 15:34:19"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 15:34:23"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 15:34:25"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 15:34:25"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 15:34:25"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 15:34:25"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 15:34:25"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 15:34:28"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 15:34:28"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 15:34:28"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 15:34:28"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 15:34:28"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 15:34:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:53:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:53:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:53:48"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:53:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:53:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 15:53:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 15:53:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:53:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:53:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 15:53:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1441.942 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:53:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1077.071 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:53:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:53:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:53:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 15:53:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:53:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:53:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 15:53:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:53:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 15:53:51"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 15:53:51"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 15:53:51","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:53:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 15:53:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 15:53:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 936.532 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:53:51"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 15:53:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1214.202 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:53:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 15:53:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 15:53:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 786.253 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 15:53:52"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-04 16:32:37"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-04 17:26:41"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-04 17:26:41"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-04 18:20:44"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-04 18:20:44"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-04 19:14:47"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-04 19:14:47"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-04 20:08:49"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-04 20:15:18"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-04 20:15:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:16:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:16:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 20:16:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 20:16:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 20:16:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 20:16:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 20:16:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 20:16:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1348.015 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:16:18"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 20:16:19"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 20:16:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 2800.985 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:16:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 20:16:20","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 20:16:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 748.495 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:16:21"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 20:16:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 988.746 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:16:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1010.713 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:16:21"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-04 20:23:13"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-04 20:23:23"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-04 20:23:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:25:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:25:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 20:25:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 20:25:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 20:25:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 20:25:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 20:25:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 20:25:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1005.633 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:25:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 20:25:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 20:25:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 2972.389 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:25:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 20:25:06","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 20:25:06"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 20:25:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 770.290 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:25:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1012.862 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:25:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 2353.430 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:25:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:27:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:27:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 20:27:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 20:27:22"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 20:27:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 20:27:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 20:27:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 20:27:22"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1251.569 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1066.321 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/ads","service":"backend-api","timestamp":"2026-02-04 20:27:23"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 20:27:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 20:27:24"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 20:27:24"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 20:27:24","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 20:27:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 20:27:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 749.908 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:27:24"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 20:27:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1011.461 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:27:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads \u001b[36m304\u001b[0m 2424.947 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:27:26"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-04 20:45:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:47:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:47:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 20:47:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 20:47:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[31m500\u001b[0m 5019.810 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:47:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[31m500\u001b[0m 5007.416 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:47:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:49:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:49:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 20:49:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 20:49:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[31m500\u001b[0m 5005.430 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:49:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[31m500\u001b[0m 5004.418 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:49:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:51:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 20:51:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 20:51:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 20:51:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[31m500\u001b[0m 5004.315 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:51:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[31m500\u001b[0m 5003.420 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 20:51:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 21:40:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 21:40:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 21:40:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 21:40:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[31m500\u001b[0m 5008.186 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:40:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[31m500\u001b[0m 5005.823 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:40:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:46:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:46:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:46:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:46:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 21:46:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 21:46:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:46:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:46:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 21:46:55"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error fetching parent categories: read ECONNRESET","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000001a7"},"maxSetVersion":176,"servers":{"cluster0-shard-00-00.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":92924463,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":92924603,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":92924602,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-w9egen-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"backend-api","stack":"MongoServerSelectionError: read ECONNRESET\n    at Topology.selectServer (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/sdam/topology.js:327:38)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:555:9)\n    at process.processTimers (node:internal/timers:529:7)\n    at async tryOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:148:18)\n    at async executeOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async FindCursor._initialize (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:632:27)\n    at async FindCursor.fetchBatch (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:666:13)\n    at async FindCursor.next (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:342:17)","timestamp":"2026-02-04 21:47:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[31m500\u001b[0m 5023.007 ms - 57\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[31m500\u001b[0m 5012.023 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[31m500\u001b[0m 5015.040 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[31m500\u001b[0m 5019.247 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[31m500\u001b[0m 5023.954 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[31m500\u001b[0m 5040.853 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 21:47:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[31m500\u001b[0m 5036.015 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[31m500\u001b[0m 5027.756 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[31m500\u001b[0m 5029.499 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[31m500\u001b[0m 5021.705 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[31m500\u001b[0m 5039.316 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[31m500\u001b[0m 5039.411 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[31m500\u001b[0m 5015.925 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 21:47:10"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error fetching parent categories: read ECONNRESET","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000001a7"},"maxSetVersion":176,"servers":{"cluster0-shard-00-00.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":92934894,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":92934893,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":92934875,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-w9egen-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"backend-api","stack":"MongoServerSelectionError: read ECONNRESET\n    at Topology.selectServer (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/sdam/topology.js:327:38)\n    at async tryOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:148:18)\n    at async executeOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async FindCursor._initialize (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:632:27)\n    at async FindCursor.fetchBatch (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:666:13)\n    at async FindCursor.next (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:342:17)\n    at async [Symbol.asyncIterator] (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:250:34)\n    at async FindCursor.toArray (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:422:26)\n    at async model.Query._find (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/query.js:2430:14)","timestamp":"2026-02-04 21:47:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[31m500\u001b[0m 5031.285 ms - 57\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 21:47:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[31m500\u001b[0m 5020.396 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:47:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 21:47:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[31m500\u001b[0m 5028.444 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[31m500\u001b[0m 5014.130 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[31m500\u001b[0m 5006.402 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[31m500\u001b[0m 5006.431 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[31m500\u001b[0m 5005.136 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[31m500\u001b[0m 5005.639 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:47:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:48:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:48:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:48:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:48:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 21:48:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:48:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:48:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 21:48:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 21:48:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[31m500\u001b[0m 5034.362 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:48:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:48:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[31m500\u001b[0m 5043.309 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:48:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[31m500\u001b[0m 5039.022 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:48:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[31m500\u001b[0m 5116.905 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:48:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[31m500\u001b[0m 5071.633 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:48:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[31m500\u001b[0m 5069.044 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:48:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:48:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 21:48:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:48:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:48:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 21:48:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[31m500\u001b[0m 5006.188 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[31m500\u001b[0m 5003.343 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[31m500\u001b[0m 5004.317 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[31m500\u001b[0m 5004.357 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:49:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:49:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 21:49:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:49:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:49:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:49:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:49:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[31m500\u001b[0m 5029.132 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:49:32"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error fetching parent categories: read ECONNRESET","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000001a7"},"maxSetVersion":176,"servers":{"cluster0-shard-00-00.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":93076789,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":93076789,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":93076753,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-w9egen-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"backend-api","stack":"MongoServerSelectionError: read ECONNRESET\n    at Topology.selectServer (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/sdam/topology.js:327:38)\n    at async tryOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:148:18)\n    at async executeOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async FindCursor._initialize (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:632:27)\n    at async FindCursor.fetchBatch (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:666:13)\n    at async FindCursor.next (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:342:17)\n    at async [Symbol.asyncIterator] (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:250:34)\n    at async FindCursor.toArray (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:422:26)\n    at async model.Query._find (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/query.js:2430:14)","timestamp":"2026-02-04 21:49:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[31m500\u001b[0m 5028.950 ms - 57\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[31m500\u001b[0m 5030.047 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:49:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[31m500\u001b[0m 5015.040 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[31m500\u001b[0m 5008.525 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[31m500\u001b[0m 5009.710 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:49:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:49:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[31m500\u001b[0m 5017.409 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[31m500\u001b[0m 5007.835 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:49:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[31m500\u001b[0m 5003.661 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[31m500\u001b[0m 5010.557 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:49:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[31m500\u001b[0m 5008.540 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[31m500\u001b[0m 5004.949 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:49:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 21:51:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 21:51:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 21:51:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 21:51:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[31m500\u001b[0m 5004.983 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:52:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[31m500\u001b[0m 5006.358 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:52:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:57:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[31m500\u001b[0m 5015.396 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:57:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:58:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:58:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 21:58:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:58:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:58:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 21:58:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 21:58:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:58:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[31m500\u001b[0m 5006.131 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error fetching parent categories: read ECONNRESET","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000001a7"},"maxSetVersion":176,"servers":{"cluster0-shard-00-00.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":93645305,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":93645304,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":93645245,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-w9egen-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"backend-api","stack":"MongoServerSelectionError: read ECONNRESET\n    at Topology.selectServer (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/sdam/topology.js:327:38)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:555:9)\n    at process.processTimers (node:internal/timers:529:7)\n    at async tryOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:148:18)\n    at async executeOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async FindCursor._initialize (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:632:27)\n    at async FindCursor.fetchBatch (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:666:13)\n    at async FindCursor.next (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:342:17)","timestamp":"2026-02-04 21:59:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[31m500\u001b[0m 5007.912 ms - 57\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[31m500\u001b[0m 5008.413 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[31m500\u001b[0m 5009.325 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[31m500\u001b[0m 5007.838 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[31m500\u001b[0m 5022.935 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:59:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[31m500\u001b[0m 5008.704 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 21:59:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[31m500\u001b[0m 5021.604 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[31m500\u001b[0m 5006.364 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:06"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error fetching parent categories: read ECONNRESET","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000001a7"},"maxSetVersion":176,"servers":{"cluster0-shard-00-00.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":93650067,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":93650066,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":93650066,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-w9egen-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"backend-api","stack":"MongoServerSelectionError: read ECONNRESET\n    at Topology.selectServer (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/sdam/topology.js:327:38)\n    at async tryOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:148:18)\n    at async executeOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async FindCursor._initialize (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:632:27)\n    at async FindCursor.fetchBatch (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:666:13)\n    at async FindCursor.next (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:342:17)\n    at async [Symbol.asyncIterator] (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:250:34)\n    at async FindCursor.toArray (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:422:26)\n    at async model.Query._find (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/query.js:2430:14)","timestamp":"2026-02-04 21:59:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[31m500\u001b[0m 5004.791 ms - 57\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[31m500\u001b[0m 5006.447 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[31m500\u001b[0m 5006.581 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[31m500\u001b[0m 5003.243 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 21:59:11"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-04 22:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-04 22:00:00"}
{"level":"error","message":"[WithdrawalCleanupJob] ‚ùå Scheduled cleanup failed: Connection operation buffering timed out after 10000ms","service":"backend-api","stack":"MongooseError: Connection operation buffering timed out after 10000ms\n    at NativeConnection._waitForConnect (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/connection.js:869:13)\n    at async NativeConnection.startSession (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/connection.js:692:3)\n    at async cleanupStuckWithdrawals (/Users/mac/Desktop/Saiisai/backend/src/jobs/withdrawalCleanupJob.js:25:19)\n    at async /Users/mac/Desktop/Saiisai/backend/src/jobs/withdrawalCleanupJob.js:138:7\n    at async Timeout._onTimeout (/Users/mac/Desktop/Saiisai/backend/node_modules/node-cron/dist/cjs/scheduler/runner.js:70:44)","timestamp":"2026-02-04 22:00:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 22:00:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:00:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:00:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 22:00:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[31m500\u001b[0m 5006.704 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:00:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[31m500\u001b[0m 5004.032 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:00:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:03:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:03:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 22:03:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 22:03:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[31m500\u001b[0m 5005.954 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:03:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[31m500\u001b[0m 5005.009 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:03:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:04:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:04:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:04:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:04:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:04:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 22:04:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 22:04:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:04:52"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error fetching parent categories: getaddrinfo ENOTFOUND cluster0-shard-00-01.lax0r.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000001a7"},"maxSetVersion":176,"servers":{"cluster0-shard-00-00.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":93990920,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":94001728,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":94001729,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-w9egen-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"backend-api","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND cluster0-shard-00-01.lax0r.mongodb.net\n    at Topology.selectServer (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/sdam/topology.js:327:38)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:555:9)\n    at process.processTimers (node:internal/timers:529:7)\n    at async tryOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:148:18)\n    at async executeOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async FindCursor._initialize (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:632:27)\n    at async FindCursor.fetchBatch (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:666:13)\n    at async FindCursor.next (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:342:17)","timestamp":"2026-02-04 22:04:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[31m500\u001b[0m 5031.447 ms - 57\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:04:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[31m500\u001b[0m 5023.572 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:04:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:04:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[31m500\u001b[0m 5028.050 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:04:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[31m500\u001b[0m 5039.790 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:04:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:04:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[31m500\u001b[0m 5039.749 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:04:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:04:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 22:04:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[31m500\u001b[0m 5039.890 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:04:57"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error fetching parent categories: getaddrinfo ENOTFOUND cluster0-shard-00-01.lax0r.mongodb.net","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000001a7"},"maxSetVersion":176,"servers":{"cluster0-shard-00-00.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":94006962,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":94006809,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":94006810,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-w9egen-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"backend-api","stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND cluster0-shard-00-01.lax0r.mongodb.net\n    at Topology.selectServer (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/sdam/topology.js:327:38)\n    at async tryOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:148:18)\n    at async executeOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async FindCursor._initialize (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:632:27)\n    at async FindCursor.fetchBatch (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:666:13)\n    at async FindCursor.next (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:342:17)\n    at async [Symbol.asyncIterator] (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:250:34)\n    at async FindCursor.toArray (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:422:26)\n    at async model.Query._find (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/query.js:2430:14)","timestamp":"2026-02-04 22:05:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[31m500\u001b[0m 5035.058 ms - 57\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:05:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[31m500\u001b[0m 5026.713 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:05:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[31m500\u001b[0m 5019.700 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:05:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:09:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:09:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 22:09:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 22:09:15"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:09:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 22:09:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 22:09:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 6702.858 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:09:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[32m200\u001b[0m 7917.997 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:09:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[32m200\u001b[0m 8145.858 ms - 221\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:09:19"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-04 22:10:07"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:10"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 22:10:11"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 22:10:11"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 22:10:11"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 22:10:11"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 22:10:11"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 22:10:17"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 22:10:17"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 22:10:17"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 22:10:17"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 22:10:17"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 22:10:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 22:10:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[32m200\u001b[0m 6161.352 ms - 887\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:25"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:10:37"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:10:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 22:10:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:40"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:10:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 5455.709 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:45"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:10:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 22:10:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 2294.894 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:47"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:10:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[32m200\u001b[0m 10058.898 ms - 999\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 22:10:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[32m200\u001b[0m 2346.421 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 22:10:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[32m200\u001b[0m 9900.849 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[32m200\u001b[0m 15146.838 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:54"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:10:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 22:10:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:10:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 22:10:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 15476.922 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[32m200\u001b[0m 6003.228 ms - 905\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[32m200\u001b[0m 16103.107 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 22:10:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:10:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 6215.895 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:10:56"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 22:10:56"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 22:10:56","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:10:56"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 22:10:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 895.484 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[32m200\u001b[0m 1045.873 ms - 90\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:10:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/recommendations/track","service":"backend-api","timestamp":"2026-02-04 22:10:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 294.323 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:58"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:10:58"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:10:58"}
{"buffer":{"data":[105,117,255,99,50,6,192,165,122,22,102,36],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 22:10:58"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:10:58"}
{"level":"info","message":"\u001b[0mPOST /api/v1/analytics/views \u001b[32m200\u001b[0m 493.198 ms - 59\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:58"}
{"level":"info","message":"\u001b[0mPOST /api/v1/recommendations/track \u001b[32m200\u001b[0m 717.614 ms - 62\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:58"}
{"isAdmin":true,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"6975ff633206c0a57a166624","sellerId":null,"service":"backend-api","status":"active","timestamp":"2026-02-04 22:10:58"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 22:10:58"}
{"level":"info","message":"[getProductReviews] Product ID: 6975ff633206c0a57a166624","service":"backend-api","timestamp":"2026-02-04 22:10:59"}
{"level":"info","message":"[getProductReviews] User: 6798101470646250be061204, Role: admin","service":"backend-api","timestamp":"2026-02-04 22:10:59"}
{"level":"info","message":"[getProductReviews] Status filter:","service":"backend-api","timestamp":"2026-02-04 22:10:59"}
{"level":"info","message":"[getProductReviews] Found 1 reviews","service":"backend-api","timestamp":"2026-02-04 22:10:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/6975ff633206c0a57a166624/reviews \u001b[36m304\u001b[0m 1252.173 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/6975ff633206c0a57a166624 \u001b[32m200\u001b[0m 1466.370 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:10:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/history","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"error","message":"[Recommendation] Error getting also bought products: Cannot read properties of undefined (reading 'toString')","service":"backend-api","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:79\n    at Array.map (<anonymous>)\n    at Object.getAlsoBoughtProducts (/Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/recommendationController.js:40:20","timestamp":"2026-02-04 22:11:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/6975ff633206c0a57a166624/ai-similar?limit=10 \u001b[36m304\u001b[0m 449.978 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/6975ff633206c0a57a166624/related?limit=10 \u001b[36m304\u001b[0m 516.053 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68bc7bebcb754e89b11dcb6e","attributes":[],"createdAt":"2025-09-06T18:22:35.626Z","id":"68bc7bebcb754e89b11dcb6e","image":"https://res.cloudinary.com/dz2xqjv8q/image/upload/v1698247967/eazworld/1_1_dk0l6h.jpg","isSubcategory":false,"name":"Electronics","parentCategory":null,"productCount":14,"products":["6923012ba32993880cecd430","6923012ba32993880cecd422","6923012ba32993880cecd418","6923012ba32993880cecd432","6975fa1306bfb079fd228471","6975ff633206c0a57a166624","692d7bf22ecf623f4471ff19","692d7bf22ecf623f4471ff10","692d7bf22ecf623f4471fee7","692d7bf12ecf623f4471fede","692d7bf12ecf623f4471fe5b","6977b86c3b035fa9f7db36d4","6977eeaec33eafe54dfe4953","6977f0c15a774b18128b4d54"],"slug":"electronics","status":"active","subcategories":["68bcbb90076567b9b13c3a01","68bcbee3076567b9b13c3a5d","68bcc01f076567b9b13c3a99","68bcc158076567b9b13c3ade","68bcc3ab076567b9b13c3b2d","68bcc4e1076567b9b13c3b86","68bcc660076567b9b13c3be9","68bd73ebdbd5363df50c89ae","68bd7884dbd5363df50c8a20"],"updatedAt":"2026-01-26T23:00:10.077Z"}],"_docs":{"68bcbee3076567b9b13c3a5d":"68bc7bebcb754e89b11dcb6e"},"_queryProjection":null,"path":"parentCategory"},"value":"68bc7bebcb754e89b11dcb6e"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68bcbee3076567b9b13c3a5d":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68bcbee3076567b9b13c3a5d","attributes":[{"_id":"68bcbee3076567b9b13c3a5e","id":"68bcbee3076567b9b13c3a5e","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Processor","type":"enum","values":["Intel i5","Intel i7","Intel i9","AMD Ryzen 5","Ryzen 7","Ryzen 9","Apple M1","M2"]},{"_id":"68bcbee3076567b9b13c3a5f","id":"68bcbee3076567b9b13c3a5f","isFilterable":true,"isRequired":false,"isVariant":true,"name":"RAM","type":"enum","values":["8GB","16GB","32GB","64GB"]},{"_id":"68bcbee3076567b9b13c3a60","id":"68bcbee3076567b9b13c3a60","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Storage","type":"enum","values":["256GB SSD","512GB SSD","1TB SSD","2TB SSD"]},{"_id":"68bcbee3076567b9b13c3a61","id":"68bcbee3076567b9b13c3a61","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Graphics Card","type":"enum","values":["Integrated","NVIDIA RTX 3050","RTX 3060","RTX 3070","RTX 3080","AMD Radeon RX 6800"]},{"_id":"68bcbee3076567b9b13c3a62","id":"68bcbee3076567b9b13c3a62","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Screen Size","type":"enum","values":["13‚Äù","14‚Äù","15.6‚Äù","16‚Äù","17‚Äù"]},{"_id":"68bcbee3076567b9b13c3a63","id":"68bcbee3076567b9b13c3a63","isFilterable":false,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Silver","Black","Gray","Blue"]}],"createdAt":"2025-09-06T23:08:19.297Z","description":"Portable computers designed for work, study, and gaming with integrated screens and keyboards.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757245117/categories/1757245114839-613580450-image.jpg","name":"Laptops","parentCategory":{"__v":0,"_id":"68bc7bebcb754e89b11dcb6e","attributes":[],"createdAt":"2025-09-06T18:22:35.626Z","id":"68bc7bebcb754e89b11dcb6e","image":"https://res.cloudinary.com/dz2xqjv8q/image/upload/v1698247967/eazworld/1_1_dk0l6h.jpg","isSubcategory":false,"name":"Electronics","parentCategory":null,"productCount":14,"products":["6923012ba32993880cecd430","6923012ba32993880cecd422","6923012ba32993880cecd418","6923012ba32993880cecd432","6975fa1306bfb079fd228471","6975ff633206c0a57a166624","692d7bf22ecf623f4471ff19","692d7bf22ecf623f4471ff10","692d7bf22ecf623f4471fee7","692d7bf12ecf623f4471fede","692d7bf12ecf623f4471fe5b","6977b86c3b035fa9f7db36d4","6977eeaec33eafe54dfe4953","6977f0c15a774b18128b4d54"],"slug":"electronics","status":"active","subcategories":["68bcbb90076567b9b13c3a01","68bcbee3076567b9b13c3a5d","68bcc01f076567b9b13c3a99","68bcc158076567b9b13c3ade","68bcc3ab076567b9b13c3b2d","68bcc4e1076567b9b13c3b86","68bcc660076567b9b13c3be9","68bd73ebdbd5363df50c89ae","68bd7884dbd5363df50c8a20"],"updatedAt":"2026-01-26T23:00:10.077Z"},"products":["6975ff633206c0a57a166624"],"slug":"laptops","status":"active","subcategories":[],"updatedAt":"2026-01-25T12:00:31.604Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68bc7bebcb754e89b11dcb6e","attributes":[],"createdAt":"2025-09-06T18:22:35.626Z","id":"68bc7bebcb754e89b11dcb6e","image":"https://res.cloudinary.com/dz2xqjv8q/image/upload/v1698247967/eazworld/1_1_dk0l6h.jpg","isSubcategory":false,"name":"Electronics","parentCategory":null,"productCount":14,"products":["6923012ba32993880cecd430","6923012ba32993880cecd422","6923012ba32993880cecd418","6923012ba32993880cecd432","6975fa1306bfb079fd228471","6975ff633206c0a57a166624","692d7bf22ecf623f4471ff19","692d7bf22ecf623f4471ff10","692d7bf22ecf623f4471fee7","692d7bf12ecf623f4471fede","692d7bf12ecf623f4471fe5b","6977b86c3b035fa9f7db36d4","6977eeaec33eafe54dfe4953","6977f0c15a774b18128b4d54"],"slug":"electronics","status":"active","subcategories":["68bcbb90076567b9b13c3a01","68bcbee3076567b9b13c3a5d","68bcc01f076567b9b13c3a99","68bcc158076567b9b13c3ade","68bcc3ab076567b9b13c3b2d","68bcc4e1076567b9b13c3b86","68bcc660076567b9b13c3be9","68bd73ebdbd5363df50c89ae","68bd7884dbd5363df50c8a20"],"updatedAt":"2026-01-26T23:00:10.077Z"}],"_docs":{"68bcbee3076567b9b13c3a5d":"68bc7bebcb754e89b11dcb6e"},"_queryProjection":null,"path":"parentCategory"},"value":"68bc7bebcb754e89b11dcb6e"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68bcbee3076567b9b13c3a5d":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68bcbee3076567b9b13c3a5d","attributes":[{"_id":"68bcbee3076567b9b13c3a5e","id":"68bcbee3076567b9b13c3a5e","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Processor","type":"enum","values":["Intel i5","Intel i7","Intel i9","AMD Ryzen 5","Ryzen 7","Ryzen 9","Apple M1","M2"]},{"_id":"68bcbee3076567b9b13c3a5f","id":"68bcbee3076567b9b13c3a5f","isFilterable":true,"isRequired":false,"isVariant":true,"name":"RAM","type":"enum","values":["8GB","16GB","32GB","64GB"]},{"_id":"68bcbee3076567b9b13c3a60","id":"68bcbee3076567b9b13c3a60","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Storage","type":"enum","values":["256GB SSD","512GB SSD","1TB SSD","2TB SSD"]},{"_id":"68bcbee3076567b9b13c3a61","id":"68bcbee3076567b9b13c3a61","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Graphics Card","type":"enum","values":["Integrated","NVIDIA RTX 3050","RTX 3060","RTX 3070","RTX 3080","AMD Radeon RX 6800"]},{"_id":"68bcbee3076567b9b13c3a62","id":"68bcbee3076567b9b13c3a62","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Screen Size","type":"enum","values":["13‚Äù","14‚Äù","15.6‚Äù","16‚Äù","17‚Äù"]},{"_id":"68bcbee3076567b9b13c3a63","id":"68bcbee3076567b9b13c3a63","isFilterable":false,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Silver","Black","Gray","Blue"]}],"createdAt":"2025-09-06T23:08:19.297Z","description":"Portable computers designed for work, study, and gaming with integrated screens and keyboards.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757245117/categories/1757245114839-613580450-image.jpg","name":"Laptops","parentCategory":{"__v":0,"_id":"68bc7bebcb754e89b11dcb6e","attributes":[],"createdAt":"2025-09-06T18:22:35.626Z","id":"68bc7bebcb754e89b11dcb6e","image":"https://res.cloudinary.com/dz2xqjv8q/image/upload/v1698247967/eazworld/1_1_dk0l6h.jpg","isSubcategory":false,"name":"Electronics","parentCategory":null,"productCount":14,"products":["6923012ba32993880cecd430","6923012ba32993880cecd422","6923012ba32993880cecd418","6923012ba32993880cecd432","6975fa1306bfb079fd228471","6975ff633206c0a57a166624","692d7bf22ecf623f4471ff19","692d7bf22ecf623f4471ff10","692d7bf22ecf623f4471fee7","692d7bf12ecf623f4471fede","692d7bf12ecf623f4471fe5b","6977b86c3b035fa9f7db36d4","6977eeaec33eafe54dfe4953","6977f0c15a774b18128b4d54"],"slug":"electronics","status":"active","subcategories":["68bcbb90076567b9b13c3a01","68bcbee3076567b9b13c3a5d","68bcc01f076567b9b13c3a99","68bcc158076567b9b13c3ade","68bcc3ab076567b9b13c3b2d","68bcc4e1076567b9b13c3b86","68bcc660076567b9b13c3be9","68bd73ebdbd5363df50c89ae","68bd7884dbd5363df50c8a20"],"updatedAt":"2026-01-26T23:00:10.077Z"},"products":["6975ff633206c0a57a166624"],"slug":"laptops","status":"active","subcategories":[],"updatedAt":"2026-01-25T12:00:31.604Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/68bcbee3076567b9b13c3a5d \u001b[36m304\u001b[0m 545.236 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/6975ff633206c0a57a166624/also-bought?limit=10 \u001b[36m304\u001b[0m 749.895 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:11:00"}
{"level":"info","message":"\u001b[0mPOST /api/v1/history \u001b[32m201\u001b[0m 1017.530 ms - 48\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:11:01"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-04 22:11:11"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-04 22:11:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:11:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:11:26"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:11:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 760.294 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:11:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:11:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:11:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:11:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 841.589 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:11:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:12:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:12:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:12:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1107.714 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:12:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:12:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:12:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:13:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 682.255 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:13:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:13:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:13:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:13:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:13:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:13:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 22:13:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 22:13:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 766.191 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:13:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:13:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 22:13:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 22:13:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 22:13:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:13:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:13:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:13:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 22:13:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 2727.057 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:13:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:13:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 2971.476 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:13:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 687.863 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:14:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:14:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:14:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 953.484 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:14:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:14:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:14:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:14:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 751.337 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:14:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:15:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:15:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:15:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1178.749 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:15:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:15:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:15:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:15:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 787.984 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:15:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:16:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:16:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:16:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 722.832 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:16:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:16:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:16:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:16:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 703.244 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:16:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:17:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:17:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:17:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 815.061 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:17:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:17:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:17:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:17:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 734.829 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:17:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:18:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:18:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:18:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 750.275 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:18:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:54:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:54:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:54:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 751.120 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:54:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:13"}
{"level":"info","message":"[Admin Login] Triggering seller credits backfill in background (adminId: 6798101470646250be061204)","service":"backend-api","timestamp":"2026-02-04 22:55:15"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-04 22:55:15"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-04 22:55:15"}
{"level":"info","message":"[OrderService] Backfill: found 3 delivered order(s) to process (limit=100)","service":"backend-api","timestamp":"2026-02-04 22:55:16"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-04 22:55:16"}
{"deviceId":"098fb7d6-7340-4ec5-a993-a1fdb85b27d7","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazadmin","service":"backend-api","timestamp":"2026-02-04 22:55:16","userId":"6798101470646250be061204","userModel":"Admin"}
{"buffer":{"data":[105,131,206,84,80,174,152,163,199,219,191,78],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-04 22:55:16"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/login \u001b[32m200\u001b[0m 3723.645 ms - 241\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:55:16"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by admin (6798101470646250be061204) - Risk: low - Platform: eazadmin","service":"backend-api","timestamp":"2026-02-04 22:55:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/order","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 22:55:17"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:55:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 22:55:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/stats","service":"backend-api","timestamp":"2026-02-04 22:55:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:55:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:55:18"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 22:55:18"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 22:55:18","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 738.995 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:55:18"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 22:55:18"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:55:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 22:55:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1234.171 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:55:18"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260131-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 22:55:19"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:55:19"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 22:55:19"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:55:19"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 22:55:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=5&sort=createdAt:desc \u001b[36m304\u001b[0m 2712.501 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:55:20"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0001 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 22:55:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/order \u001b[36m304\u001b[0m 3366.374 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:55:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/stats \u001b[36m304\u001b[0m 3384.734 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:55:21"}
{"level":"warn","message":"[OrderService] Backfill: order #ORD-20260201-0003 skipped - Sellers have already been credited for this order; payout status synced to paid","service":"backend-api","timestamp":"2026-02-04 22:55:22"}
{"level":"info","message":"[Admin Login] Seller credits backfill complete: processed=3, credited=0, skipped=3","service":"backend-api","timestamp":"2026-02-04 22:55:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/review","service":"backend-api","timestamp":"2026-02-04 22:55:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:55:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 22:55:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/review?page=1&limit=100 \u001b[36m304\u001b[0m 1293.681 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:55:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 22:55:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:55:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 22:55:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 22:55:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:55:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 22:55:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1241.458 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:55:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/review","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 22:55:36"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 22:55:36","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 945.031 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:55:37"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 22:55:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1235.187 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:55:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/review?page=1&limit=100 \u001b[36m304\u001b[0m 3422.222 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:55:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:55:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:55:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:55:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1121.045 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:55:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:56:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 22:56:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:56:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:56:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:56:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 22:56:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 22:56:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 22:56:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 265.800 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:56:03"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:56:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 22:56:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:56:04"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 22:56:04"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 22:56:04","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 22:56:04"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 22:56:04"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 22:56:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 733.813 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:56:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 950.782 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:56:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 988.949 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:56:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100&promotionKey=ramdan-special \u001b[32m200\u001b[0m 1578.021 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 22:56:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:02:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:02:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:02:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 759.862 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:02:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:02:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:02:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:02:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 742.875 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:02:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:02:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:02:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:02:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 644.428 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:02:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:02:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:02:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:02:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 886.901 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:02:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:03:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:03:21"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:03:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 828.747 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:03:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:03:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:03:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:03:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 777.350 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:03:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:03:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:03:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:03:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 670.188 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:03:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 244.289 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 309.919 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 318.715 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:03:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[32m200\u001b[0m 811.219 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:03:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 1876.764 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:03:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1428.141 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:03:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1822.438 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:03:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 2480.522 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:03:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 2984.441 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:03:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:04:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:04:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:04:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 893.595 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:04:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:04:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:04:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:04:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 868.529 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:04:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:05:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:05:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:05:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 715.678 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:05:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:05:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:05:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:05:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1019.059 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:06:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:06:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:06:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 785.709 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:06:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:06:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:06:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:06:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1115.913 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:06:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:07:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:07:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:07:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 916.649 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:07:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:07:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:07:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:07:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 783.152 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:07:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:08:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:08:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:08:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 911.190 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:08:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:08:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:08:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:08:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 776.779 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:08:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:09:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:09:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:09:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 706.576 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:09:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:09:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:09:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:09:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 721.147 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:09:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:10:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:10:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:10:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 992.247 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:10:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:10:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:10:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:10:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 800.683 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:10:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:11:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:11:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:11:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 820.898 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:11:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:11:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:11:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:11:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1123.456 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:11:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:12:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:12:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 753.571 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:12:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:12:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 747.758 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:52"}
{"level":"info","message":"\u001b[0mPOST /api/v1/cart \u001b[33m403\u001b[0m 1.718 ms - 122\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 23:12:52"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:12:53"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:12:53"}
{"level":"info","message":"[addToCart] Added new item to cart: product=6977f0c15a774b18128b4d54, variant=6977f0c15a774b18128b4d55, quantity=1","service":"backend-api","timestamp":"2026-02-04 23:12:53"}
{"level":"info","message":"[addToCart] Cart saved with 1 items","service":"backend-api","timestamp":"2026-02-04 23:12:54"}
{"level":"info","message":"\u001b[0mPOST /api/v1/cart \u001b[32m200\u001b[0m 2443.659 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 231.555 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"[ActivityLog] Logged: ADD_TO_CART (OTHER); by buyer (696ebf88f32a5928b76eaa36) - Risk: low - Platform: eazmain","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 23:12:55","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 685.551 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 778.148 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 23:12:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 929.808 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1041.995 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:56"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:12:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 265.414 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:12:56"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:12:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:12:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 239.112 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1303.557 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1673.397 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[36m304\u001b[0m 742.837 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[32m200\u001b[0m 1433.260 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[36m304\u001b[0m 1677.380 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:12:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:13:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 23:13:08"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:13:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:13:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:13:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/address","service":"backend-api","timestamp":"2026-02-04 23:13:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:13:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/wallet/balance","service":"backend-api","timestamp":"2026-02-04 23:13:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:13:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[32m200\u001b[0m 1625.882 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:13:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/shipping/pickup-centers \u001b[36m304\u001b[0m 261.507 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:13:10"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:13:10"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:13:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:13:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/address \u001b[36m304\u001b[0m 899.439 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:13:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/wallet/balance \u001b[36m304\u001b[0m 900.718 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:13:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:13:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/shipping/pickup-centers?city=ACCRA \u001b[36m304\u001b[0m 307.050 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:13:11"}
{"level":"info","message":"\u001b[0mPOST /api/v1/shipping/shipping-options \u001b[32m200\u001b[0m 600.327 ms - 965\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:13:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:13:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:13:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 900.567 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:13:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:13:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:13:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/order","service":"backend-api","timestamp":"2026-02-04 23:13:27"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:13:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:13:27"}
{"level":"warn","message":"[Order] Product \"apple imac desktop\" belongs to unverified seller 6970b22eaba06cadfd4b8035. Proceeding with order as per current business rules.","service":"backend-api","timestamp":"2026-02-04 23:13:28"}
{"level":"info","message":"Found products:","service":"backend-api","timestamp":"2026-02-04 23:13:29"}
{"buyerCity":"ACCRA","itemsCount":1,"level":"info","message":"[calculateShippingQuote] Starting calculation:","method":"dispatch","pickupCenterId":null,"service":"backend-api","timestamp":"2026-02-04 23:13:29"}
{"deliveryMethod":"dispatch","level":"info","message":"[calculateShippingQuote] Calculation complete:","perSellerCount":1,"service":"backend-api","timestamp":"2026-02-04 23:13:30","totalShippingFee":15}
{"level":"info","message":"[ResendClient] ‚úÖ Resend client configured","service":"backend-api","timestamp":"2026-02-04 23:13:32"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Order Confirmation - Order #ORD-20260204-0001","timestamp":"2026-02-04 23:13:32","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"c894a599-4dec-4723-b770-e7ecafcd40de","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-04 23:13:33","to":"benzflex00@gmail.com"}
{"level":"info","message":"[createOrder] ‚úÖ Order confirmation email sent to benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:13:33"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"New Order #ORD-20260204-0001 - Saiisai","timestamp":"2026-02-04 23:13:33","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"42c2d004-1e1d-4cfb-8e14-a3782ab4cd69","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-04 23:13:34","to":"benzflex00@gmail.com"}
{"level":"info","message":"[createOrder] ‚úÖ New order email sent to seller benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:13:34"}
{"level":"info","message":"\u001b[0mPOST /api/v1/order \u001b[32m201\u001b[0m 7623.419 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:13:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:13:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:13:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/payment/paystack/initialize","service":"backend-api","timestamp":"2026-02-04 23:13:34"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:13:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:13:35"}
{"EAZMAIN_URL":"NOT SET","FRONTEND_URL":"http://localhost:5173","MAIN_APP_URL":"NOT SET","NODE_ENV":"development","PAYSTACK_CALLBACK_BASE_URL":"[SET]","level":"info","message":"[Paystack Initialize] üîç Environment Variables:","service":"backend-api","timestamp":"2026-02-04 23:13:35"}
{"0":"h","1":"t","10":"i","11":"i","12":"s","13":"a","14":"i","15":".","16":"c","17":"o","18":"m","2":"t","3":"p","4":"s","5":":","6":"/","7":"/","8":"s","9":"a","level":"info","message":"[Paystack Initialize] ‚úÖ Using base URL from env:","service":"backend-api","timestamp":"2026-02-04 23:13:35"}
{"ADMIN_URL":"NOT SET","EAZMAIN_URL":"NOT SET","FRONTEND_URL":"http://localhost:5173","MAIN_APP_URL":"NOT SET","finalCallbackUrl":"https://saiisai.com/order-confirmation?orderId=6983d29b50ae98a3c7dbc440","level":"info","message":"[Paystack Initialize] üîç Environment Variables Check:","selectedBaseUrl":"https://saiisai.com","service":"backend-api","timestamp":"2026-02-04 23:13:35"}
{"0":"h","1":"t","10":"i","11":"i","12":"s","13":"a","14":"i","15":".","16":"c","17":"o","18":"m","19":"/","2":"t","20":"o","21":"r","22":"d","23":"e","24":"r","25":"-","26":"c","27":"o","28":"n","29":"f","3":"p","30":"i","31":"r","32":"m","33":"a","34":"t","35":"i","36":"o","37":"n","38":"?","39":"o","4":"s","40":"r","41":"d","42":"e","43":"r","44":"I","45":"d","46":"=","47":"6","48":"9","49":"8","5":":","50":"3","51":"d","52":"2","53":"9","54":"b","55":"5","56":"0","57":"a","58":"e","59":"9","6":"/","60":"8","61":"a","62":"3","63":"c","64":"7","65":"d","66":"b","67":"c","68":"4","69":"4","7":"/","70":"0","8":"s","9":"a","level":"info","message":"[Paystack Initialize] ‚úÖ Callback URL configured correctly:","service":"backend-api","timestamp":"2026-02-04 23:13:35"}
{"0":"h","1":"t","10":"i","11":"i","12":"s","13":"a","14":"i","15":".","16":"c","17":"o","18":"m","19":"/","2":"t","20":"o","21":"r","22":"d","23":"e","24":"r","25":"-","26":"c","27":"o","28":"n","29":"f","3":"p","30":"i","31":"r","32":"m","33":"a","34":"t","35":"i","36":"o","37":"n","38":"?","39":"o","4":"s","40":"r","41":"d","42":"e","43":"r","44":"I","45":"d","46":"=","47":"6","48":"9","49":"8","5":":","50":"3","51":"d","52":"2","53":"9","54":"b","55":"5","56":"0","57":"a","58":"e","59":"9","6":"/","60":"8","61":"a","62":"3","63":"c","64":"7","65":"d","66":"b","67":"c","68":"4","69":"4","7":"/","70":"0","71":"&","72":"r","73":"e","74":"f","75":"e","76":"r","77":"e","78":"n","79":"c","8":"s","80":"e","81":"=","82":"X","83":"X","84":"X","85":"&","86":"t","87":"r","88":"x","89":"r","9":"a","90":"e","91":"f","92":"=","93":"X","94":"X","95":"X","level":"info","message":"[Paystack Initialize] Expected final URL:","service":"backend-api","timestamp":"2026-02-04 23:13:35"}
{"0":"h","1":"t","10":"i","11":"i","12":"s","13":"a","14":"i","15":".","16":"c","17":"o","18":"m","19":"/","2":"t","20":"o","21":"r","22":"d","23":"e","24":"r","25":"-","26":"c","27":"o","28":"n","29":"f","3":"p","30":"i","31":"r","32":"m","33":"a","34":"t","35":"i","36":"o","37":"n","38":"?","39":"o","4":"s","40":"r","41":"d","42":"e","43":"r","44":"I","45":"d","46":"=","47":"6","48":"9","49":"8","5":":","50":"3","51":"d","52":"2","53":"9","54":"b","55":"5","56":"0","57":"a","58":"e","59":"9","6":"/","60":"8","61":"a","62":"3","63":"c","64":"7","65":"d","66":"b","67":"c","68":"4","69":"4","7":"/","70":"0","8":"s","9":"a","level":"info","message":"[Paystack Initialize] Paystack Payload callback_url:","service":"backend-api","timestamp":"2026-02-04 23:13:35"}
{"0":"6","1":"9","10":"a","11":"e","12":"9","13":"8","14":"a","15":"3","16":"c","17":"7","18":"d","19":"b","2":"8","20":"c","21":"4","22":"4","23":"0","3":"3","4":"d","5":"2","6":"9","7":"b","8":"5","9":"0","level":"info","message":"[Paystack Initialize] Order ID:","service":"backend-api","timestamp":"2026-02-04 23:13:35"}
{"level":"info","message":"\u001b[0mPOST /api/v1/payment/paystack/initialize \u001b[32m200\u001b[0m 1841.279 ms - 97\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:13:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:16:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:16:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:16:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 773.348 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:16:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:17:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:17:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1028.180 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 2620.912 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 2650.948 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[36m304\u001b[0m 3726.226 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:17"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:17:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[32m200\u001b[0m 4868.970 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 23:17:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 23:17:18"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:17:19"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:17:19"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:17:19"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:17:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 1509.505 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 3984.065 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 7057.819 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 2021.450 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 7106.776 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/recommendations/track","service":"backend-api","timestamp":"2026-02-04 23:17:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 404.690 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:22"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:17:22"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:17:22"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:17:22"}
{"buffer":{"data":[105,117,255,99,50,6,192,165,122,22,102,36],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 23:17:22"}
{"level":"info","message":"\u001b[0mPOST /api/v1/analytics/views \u001b[32m200\u001b[0m 643.435 ms - 59\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:22"}
{"level":"info","message":"\u001b[0mPOST /api/v1/recommendations/track \u001b[32m200\u001b[0m 866.203 ms - 62\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:22"}
{"isAdmin":true,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"6975ff633206c0a57a166624","sellerId":null,"service":"backend-api","status":"active","timestamp":"2026-02-04 23:17:22"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 23:17:22"}
{"level":"info","message":"[getProductReviews] Product ID: 6975ff633206c0a57a166624","service":"backend-api","timestamp":"2026-02-04 23:17:23"}
{"level":"info","message":"[getProductReviews] User: 6798101470646250be061204, Role: admin","service":"backend-api","timestamp":"2026-02-04 23:17:23"}
{"level":"info","message":"[getProductReviews] Status filter:","service":"backend-api","timestamp":"2026-02-04 23:17:23"}
{"level":"info","message":"[getProductReviews] Found 1 reviews","service":"backend-api","timestamp":"2026-02-04 23:17:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/6975ff633206c0a57a166624/reviews \u001b[36m304\u001b[0m 1293.902 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/6975ff633206c0a57a166624 \u001b[32m200\u001b[0m 1666.174 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/history","service":"backend-api","timestamp":"2026-02-04 23:17:24"}
{"level":"error","message":"[Recommendation] Error getting also bought products: Cannot read properties of undefined (reading 'toString')","service":"backend-api","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:79\n    at Array.map (<anonymous>)\n    at Object.getAlsoBoughtProducts (/Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/recommendationController.js:40:20","timestamp":"2026-02-04 23:17:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/6975ff633206c0a57a166624/related?limit=10 \u001b[32m200\u001b[0m 1005.290 ms - 1017\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:25"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:17:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:17:25"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68bc7bebcb754e89b11dcb6e","attributes":[],"createdAt":"2025-09-06T18:22:35.626Z","id":"68bc7bebcb754e89b11dcb6e","image":"https://res.cloudinary.com/dz2xqjv8q/image/upload/v1698247967/eazworld/1_1_dk0l6h.jpg","isSubcategory":false,"name":"Electronics","parentCategory":null,"productCount":14,"products":["6923012ba32993880cecd430","6923012ba32993880cecd422","6923012ba32993880cecd418","6923012ba32993880cecd432","6975fa1306bfb079fd228471","6975ff633206c0a57a166624","692d7bf22ecf623f4471ff19","692d7bf22ecf623f4471ff10","692d7bf22ecf623f4471fee7","692d7bf12ecf623f4471fede","692d7bf12ecf623f4471fe5b","6977b86c3b035fa9f7db36d4","6977eeaec33eafe54dfe4953","6977f0c15a774b18128b4d54"],"slug":"electronics","status":"active","subcategories":["68bcbb90076567b9b13c3a01","68bcbee3076567b9b13c3a5d","68bcc01f076567b9b13c3a99","68bcc158076567b9b13c3ade","68bcc3ab076567b9b13c3b2d","68bcc4e1076567b9b13c3b86","68bcc660076567b9b13c3be9","68bd73ebdbd5363df50c89ae","68bd7884dbd5363df50c8a20"],"updatedAt":"2026-01-26T23:00:10.077Z"}],"_docs":{"68bcbee3076567b9b13c3a5d":"68bc7bebcb754e89b11dcb6e"},"_queryProjection":null,"path":"parentCategory"},"value":"68bc7bebcb754e89b11dcb6e"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68bcbee3076567b9b13c3a5d":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68bcbee3076567b9b13c3a5d","attributes":[{"_id":"68bcbee3076567b9b13c3a5e","id":"68bcbee3076567b9b13c3a5e","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Processor","type":"enum","values":["Intel i5","Intel i7","Intel i9","AMD Ryzen 5","Ryzen 7","Ryzen 9","Apple M1","M2"]},{"_id":"68bcbee3076567b9b13c3a5f","id":"68bcbee3076567b9b13c3a5f","isFilterable":true,"isRequired":false,"isVariant":true,"name":"RAM","type":"enum","values":["8GB","16GB","32GB","64GB"]},{"_id":"68bcbee3076567b9b13c3a60","id":"68bcbee3076567b9b13c3a60","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Storage","type":"enum","values":["256GB SSD","512GB SSD","1TB SSD","2TB SSD"]},{"_id":"68bcbee3076567b9b13c3a61","id":"68bcbee3076567b9b13c3a61","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Graphics Card","type":"enum","values":["Integrated","NVIDIA RTX 3050","RTX 3060","RTX 3070","RTX 3080","AMD Radeon RX 6800"]},{"_id":"68bcbee3076567b9b13c3a62","id":"68bcbee3076567b9b13c3a62","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Screen Size","type":"enum","values":["13‚Äù","14‚Äù","15.6‚Äù","16‚Äù","17‚Äù"]},{"_id":"68bcbee3076567b9b13c3a63","id":"68bcbee3076567b9b13c3a63","isFilterable":false,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Silver","Black","Gray","Blue"]}],"createdAt":"2025-09-06T23:08:19.297Z","description":"Portable computers designed for work, study, and gaming with integrated screens and keyboards.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757245117/categories/1757245114839-613580450-image.jpg","name":"Laptops","parentCategory":{"__v":0,"_id":"68bc7bebcb754e89b11dcb6e","attributes":[],"createdAt":"2025-09-06T18:22:35.626Z","id":"68bc7bebcb754e89b11dcb6e","image":"https://res.cloudinary.com/dz2xqjv8q/image/upload/v1698247967/eazworld/1_1_dk0l6h.jpg","isSubcategory":false,"name":"Electronics","parentCategory":null,"productCount":14,"products":["6923012ba32993880cecd430","6923012ba32993880cecd422","6923012ba32993880cecd418","6923012ba32993880cecd432","6975fa1306bfb079fd228471","6975ff633206c0a57a166624","692d7bf22ecf623f4471ff19","692d7bf22ecf623f4471ff10","692d7bf22ecf623f4471fee7","692d7bf12ecf623f4471fede","692d7bf12ecf623f4471fe5b","6977b86c3b035fa9f7db36d4","6977eeaec33eafe54dfe4953","6977f0c15a774b18128b4d54"],"slug":"electronics","status":"active","subcategories":["68bcbb90076567b9b13c3a01","68bcbee3076567b9b13c3a5d","68bcc01f076567b9b13c3a99","68bcc158076567b9b13c3ade","68bcc3ab076567b9b13c3b2d","68bcc4e1076567b9b13c3b86","68bcc660076567b9b13c3be9","68bd73ebdbd5363df50c89ae","68bd7884dbd5363df50c8a20"],"updatedAt":"2026-01-26T23:00:10.077Z"},"products":["6975ff633206c0a57a166624"],"slug":"laptops","status":"active","subcategories":[],"updatedAt":"2026-01-25T12:00:31.604Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:17:25"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68bc7bebcb754e89b11dcb6e","attributes":[],"createdAt":"2025-09-06T18:22:35.626Z","id":"68bc7bebcb754e89b11dcb6e","image":"https://res.cloudinary.com/dz2xqjv8q/image/upload/v1698247967/eazworld/1_1_dk0l6h.jpg","isSubcategory":false,"name":"Electronics","parentCategory":null,"productCount":14,"products":["6923012ba32993880cecd430","6923012ba32993880cecd422","6923012ba32993880cecd418","6923012ba32993880cecd432","6975fa1306bfb079fd228471","6975ff633206c0a57a166624","692d7bf22ecf623f4471ff19","692d7bf22ecf623f4471ff10","692d7bf22ecf623f4471fee7","692d7bf12ecf623f4471fede","692d7bf12ecf623f4471fe5b","6977b86c3b035fa9f7db36d4","6977eeaec33eafe54dfe4953","6977f0c15a774b18128b4d54"],"slug":"electronics","status":"active","subcategories":["68bcbb90076567b9b13c3a01","68bcbee3076567b9b13c3a5d","68bcc01f076567b9b13c3a99","68bcc158076567b9b13c3ade","68bcc3ab076567b9b13c3b2d","68bcc4e1076567b9b13c3b86","68bcc660076567b9b13c3be9","68bd73ebdbd5363df50c89ae","68bd7884dbd5363df50c8a20"],"updatedAt":"2026-01-26T23:00:10.077Z"}],"_docs":{"68bcbee3076567b9b13c3a5d":"68bc7bebcb754e89b11dcb6e"},"_queryProjection":null,"path":"parentCategory"},"value":"68bc7bebcb754e89b11dcb6e"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68bcbee3076567b9b13c3a5d":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68bcbee3076567b9b13c3a5d","attributes":[{"_id":"68bcbee3076567b9b13c3a5e","id":"68bcbee3076567b9b13c3a5e","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Processor","type":"enum","values":["Intel i5","Intel i7","Intel i9","AMD Ryzen 5","Ryzen 7","Ryzen 9","Apple M1","M2"]},{"_id":"68bcbee3076567b9b13c3a5f","id":"68bcbee3076567b9b13c3a5f","isFilterable":true,"isRequired":false,"isVariant":true,"name":"RAM","type":"enum","values":["8GB","16GB","32GB","64GB"]},{"_id":"68bcbee3076567b9b13c3a60","id":"68bcbee3076567b9b13c3a60","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Storage","type":"enum","values":["256GB SSD","512GB SSD","1TB SSD","2TB SSD"]},{"_id":"68bcbee3076567b9b13c3a61","id":"68bcbee3076567b9b13c3a61","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Graphics Card","type":"enum","values":["Integrated","NVIDIA RTX 3050","RTX 3060","RTX 3070","RTX 3080","AMD Radeon RX 6800"]},{"_id":"68bcbee3076567b9b13c3a62","id":"68bcbee3076567b9b13c3a62","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Screen Size","type":"enum","values":["13‚Äù","14‚Äù","15.6‚Äù","16‚Äù","17‚Äù"]},{"_id":"68bcbee3076567b9b13c3a63","id":"68bcbee3076567b9b13c3a63","isFilterable":false,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Silver","Black","Gray","Blue"]}],"createdAt":"2025-09-06T23:08:19.297Z","description":"Portable computers designed for work, study, and gaming with integrated screens and keyboards.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757245117/categories/1757245114839-613580450-image.jpg","name":"Laptops","parentCategory":{"__v":0,"_id":"68bc7bebcb754e89b11dcb6e","attributes":[],"createdAt":"2025-09-06T18:22:35.626Z","id":"68bc7bebcb754e89b11dcb6e","image":"https://res.cloudinary.com/dz2xqjv8q/image/upload/v1698247967/eazworld/1_1_dk0l6h.jpg","isSubcategory":false,"name":"Electronics","parentCategory":null,"productCount":14,"products":["6923012ba32993880cecd430","6923012ba32993880cecd422","6923012ba32993880cecd418","6923012ba32993880cecd432","6975fa1306bfb079fd228471","6975ff633206c0a57a166624","692d7bf22ecf623f4471ff19","692d7bf22ecf623f4471ff10","692d7bf22ecf623f4471fee7","692d7bf12ecf623f4471fede","692d7bf12ecf623f4471fe5b","6977b86c3b035fa9f7db36d4","6977eeaec33eafe54dfe4953","6977f0c15a774b18128b4d54"],"slug":"electronics","status":"active","subcategories":["68bcbb90076567b9b13c3a01","68bcbee3076567b9b13c3a5d","68bcc01f076567b9b13c3a99","68bcc158076567b9b13c3ade","68bcc3ab076567b9b13c3b2d","68bcc4e1076567b9b13c3b86","68bcc660076567b9b13c3be9","68bd73ebdbd5363df50c89ae","68bd7884dbd5363df50c8a20"],"updatedAt":"2026-01-26T23:00:10.077Z"},"products":["6975ff633206c0a57a166624"],"slug":"laptops","status":"active","subcategories":[],"updatedAt":"2026-01-25T12:00:31.604Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:17:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/68bcbee3076567b9b13c3a5d \u001b[36m304\u001b[0m 1416.398 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/6975ff633206c0a57a166624/ai-similar?limit=10 \u001b[32m200\u001b[0m 1412.195 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/6975ff633206c0a57a166624/also-bought?limit=10 \u001b[32m200\u001b[0m 1459.476 ms - 1017\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:25"}
{"level":"info","message":"\u001b[0mPOST /api/v1/history \u001b[32m200\u001b[0m 1453.649 ms - 130\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:17:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:17:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:17:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1662.109 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:17:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:18:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:18:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:18:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:18:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/wallet/balance","service":"backend-api","timestamp":"2026-02-04 23:18:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/order/get-user-orders","service":"backend-api","timestamp":"2026-02-04 23:18:10"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:18:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:18:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:18:11"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:18:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/wallet/balance \u001b[36m304\u001b[0m 1435.843 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:18:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1444.113 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:18:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/order/get-user-orders \u001b[32m200\u001b[0m 2252.441 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:18:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:18:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:18:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:18:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 745.726 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:18:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:19:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:19:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:19:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 728.269 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:19:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:19:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:19:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:19:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 755.025 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:19:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:20:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:20:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:20:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 764.999 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:20:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:20:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:20:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:20:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 797.936 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:20:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:21:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:21:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:21:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 804.936 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:21:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:21:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:21:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:21:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1015.898 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:21:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:22:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:22:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:22:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 704.180 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:22:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:22:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:22:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:22:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 804.524 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:22:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:23:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:23:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:23:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 783.083 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:23:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:23:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:23:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:23:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 718.022 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:23:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:24:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:24:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:24:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 735.610 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:32"}
{"email":"benzflex00@gmail.com","emailVerified":true,"hasPassword":true,"ip":"127.0.0.1","level":"info","message":"[Seller Login] Seller found - checking authorization","sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","status":"active","timestamp":"2026-02-04T23:24:33.115Z"}
{"email":"benzflex00@gmail.com","hasPassword":true,"ip":"127.0.0.1","level":"info","message":"[Seller Login] Verifying password","passwordLength":60,"sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","timestamp":"2026-02-04T23:24:33.115Z"}
{"email":"benzflex00@gmail.com","ip":"127.0.0.1","level":"info","message":"[Seller Login] Password verification result","passwordValid":true,"sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","timestamp":"2026-02-04T23:24:33.544Z"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-04 23:24:33"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-04 23:24:33"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-04 23:24:33"}
{"deviceId":"95b6bc3a-e69d-4eac-9f37-35a7f9e9b9d4","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazseller","service":"backend-api","timestamp":"2026-02-04 23:24:33","userId":"6970b22eaba06cadfd4b8035","userModel":"Seller"}
{"buffer":{"data":[105,131,213,49,80,174,152,163,199,219,198,134],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-04 23:24:34"}
{"cookieDomain":"not set","email":"benzflex00@gmail.com","ip":"127.0.0.1","level":"info","message":"[Seller Login] ‚úÖ Login successful","nodeEnv":"development","origin":"http://localhost:5174","sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","status":"active","timestamp":"2026-02-04T23:24:34.947Z"}
{"level":"info","message":"\u001b[0mPOST /api/v1/seller/login \u001b[32m200\u001b[0m 2096.158 ms - 348\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:34"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by seller (6970b22eaba06cadfd4b8035) - Risk: low - Platform: eazseller","service":"backend-api","timestamp":"2026-02-04 23:24:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:24:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1191.230 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:24:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[36m304\u001b[0m 960.297 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/order/get-seller-orders","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/order/get-seller-orders","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 220.405 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 23:24:37","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 679.969 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:24:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:24:38"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:24:38"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 23:24:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[32m200\u001b[0m 967.654 ms - 243\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 976.317 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:24:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:24:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/analytics/seller/6970b22eaba06cadfd4b8035/views \u001b[32m200\u001b[0m 1002.886 ms - 66\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/products \u001b[32m200\u001b[0m 1256.815 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:24:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product \u001b[32m200\u001b[0m 1686.426 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:24:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[32m200\u001b[0m 1979.816 ms - 987\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/order/get-seller-orders \u001b[32m200\u001b[0m 5286.649 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:24:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:25:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:25:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:25:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 762.168 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:25:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:25:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:25:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:25:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 754.839 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:25:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:25:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:25:54"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:25:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 718.344 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:25:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:25:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:25:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:25:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:25:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:25:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:25:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 383.710 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:25:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 377.660 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:25:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:25:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/public/featured?limit=8 \u001b[32m200\u001b[0m 374.020 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:25:56"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:25:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/eazshop \u001b[32m200\u001b[0m 889.585 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:25:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:25:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:25:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 23:25:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 23:25:57"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:25:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:25:57"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:25:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:25:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1197.226 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:25:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 640.626 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:25:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1799.415 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:25:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 1827.242 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:25:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1062.145 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:25:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"info","message":"\u001b[0mPOST /api/v1/analytics/views \u001b[33m403\u001b[0m 1.903 ms - 122\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"info","message":"\u001b[0mPOST /api/v1/recommendations/track \u001b[33m403\u001b[0m 1.533 ms - 122\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/recommendations/track","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 357.293 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"info","message":"\u001b[0mPOST /api/v1/analytics/views \u001b[32m200\u001b[0m 596.826 ms - 59\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:04"}
{"level":"info","message":"\u001b[0mPOST /api/v1/recommendations/track \u001b[32m200\u001b[0m 782.760 ms - 62\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 23:26:05"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"info","message":"[getProductReviews] Product ID: 697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"info","message":"[getProductReviews] User: 6798101470646250be061204, Role: admin","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"info","message":"[getProductReviews] Status filter:","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"info","message":"[getProductReviews] Found 1 reviews","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7/reviews \u001b[32m200\u001b[0m 1227.565 ms - 662\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1515.502 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/history","service":"backend-api","timestamp":"2026-02-04 23:26:05"}
{"level":"error","message":"[Recommendation] Error getting also bought products: Cannot read properties of undefined (reading 'toString')","service":"backend-api","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:79\n    at Array.map (<anonymous>)\n    at Object.getAlsoBoughtProducts (/Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/recommendationController.js:40:20","timestamp":"2026-02-04 23:26:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/related?limit=10 \u001b[32m200\u001b[0m 465.676 ms - 344\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:06"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"}],"_docs":{"68c150f5079f517f4e9cff02":"68c14745079f517f4e9ced3a"},"_queryProjection":null,"path":"parentCategory"},"value":"68c14745079f517f4e9ced3a"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68c150f5079f517f4e9cff02":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68c150f5079f517f4e9cff02","attributes":[{"_id":"68c150f5079f517f4e9cff03","id":"68c150f5079f517f4e9cff03","isFilterable":true,"isRequired":true,"isVariant":false,"name":"Type","type":"enum","values":["Caps","Mittens","Socks","Bibs","Blankets"]},{"_id":"68c150f5079f517f4e9cff04","id":"68c150f5079f517f4e9cff04","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Material","type":"enum","values":["Cotton","Wool","Fleece"]},{"_id":"68c150f5079f517f4e9cff05","id":"68c150f5079f517f4e9cff05","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Blue","Pink","White","Yellow"]}],"createdAt":"2025-09-10T10:20:37.177Z","description":"Caps, mittens, socks, bibs, and blankets.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757499636/categories/1757499634936-899114318-image.jpg","name":"Baby Accessories","parentCategory":{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"},"products":["692d7bef2ecf623f4471fdd3","697f27d103669e15755d61d7"],"slug":"baby-accessories","status":"active","subcategories":[],"updatedAt":"2026-02-04T14:22:45.725Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:26:06"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"}],"_docs":{"68c150f5079f517f4e9cff02":"68c14745079f517f4e9ced3a"},"_queryProjection":null,"path":"parentCategory"},"value":"68c14745079f517f4e9ced3a"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68c150f5079f517f4e9cff02":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68c150f5079f517f4e9cff02","attributes":[{"_id":"68c150f5079f517f4e9cff03","id":"68c150f5079f517f4e9cff03","isFilterable":true,"isRequired":true,"isVariant":false,"name":"Type","type":"enum","values":["Caps","Mittens","Socks","Bibs","Blankets"]},{"_id":"68c150f5079f517f4e9cff04","id":"68c150f5079f517f4e9cff04","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Material","type":"enum","values":["Cotton","Wool","Fleece"]},{"_id":"68c150f5079f517f4e9cff05","id":"68c150f5079f517f4e9cff05","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Blue","Pink","White","Yellow"]}],"createdAt":"2025-09-10T10:20:37.177Z","description":"Caps, mittens, socks, bibs, and blankets.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757499636/categories/1757499634936-899114318-image.jpg","name":"Baby Accessories","parentCategory":{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"},"products":["692d7bef2ecf623f4471fdd3","697f27d103669e15755d61d7"],"slug":"baby-accessories","status":"active","subcategories":[],"updatedAt":"2026-02-04T14:22:45.725Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:26:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/68c150f5079f517f4e9cff02 \u001b[32m200\u001b[0m 493.554 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/ai-similar?limit=10 \u001b[32m200\u001b[0m 501.355 ms - 362\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:06"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:26:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:26:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/also-bought?limit=10 \u001b[32m200\u001b[0m 678.359 ms - 344\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:06"}
{"level":"info","message":"\u001b[0mPOST /api/v1/history \u001b[32m200\u001b[0m 792.478 ms - 130\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:26:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:26:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 788.587 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:26:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:26:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:26:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 769.645 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:26:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:27:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:27:26"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:27:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 872.214 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:27:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:27:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:27:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:27:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 746.376 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:27:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:28:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:28:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:28:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:28:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 23:28:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:28:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:28:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:28:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:28:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:28:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:28:01"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 23:28:01"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 23:28:01","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 23:28:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 775.981 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:28:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1012.039 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:28:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1029.969 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:28:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1874.326 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:28:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:28:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:28:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:28:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 669.162 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:28:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:29:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:29:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:29:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 714.693 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:29:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:29:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 731.527 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:29:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[32m200\u001b[0m 908.204 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:29:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1015.765 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:29:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[32m200\u001b[0m 1291.609 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:29:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1842.485 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:29:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:29:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:29:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:29:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 680.046 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:29:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:29:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:29:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:29:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?page=1&limit=20 \u001b[32m200\u001b[0m 1440.519 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:29:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:29:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:29:48"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-04 23:29:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-04 23:29:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:29:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:29:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:29:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 897.098 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:29:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1127.040 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:29:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:30:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:30:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:30:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 696.478 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:30:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:30:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:30:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:30:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 966.648 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:30:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:31:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:31:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:31:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 940.639 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:31:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:31:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:31:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:31:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 675.423 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:31:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:32:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:32:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:32:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 809.834 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:32:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 23:35:32","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 719.808 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 747.640 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 912.296 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 970.422 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 2096.890 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin","service":"backend-api","timestamp":"2026-02-04 23:35:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:35:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/users?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 944.791 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[32m200\u001b[0m 1142.687 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin?page=1&limit=10&sort=createdAt:desc \u001b[32m200\u001b[0m 1497.212 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 23:35:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:35:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-04 23:35:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:35:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:45"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:35:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:35:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:35:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:35:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[32m200\u001b[0m 794.895 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:35:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:35:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1260.315 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[32m200\u001b[0m 1364.136 ms - 527\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[32m200\u001b[0m 1845.427 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:35:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-04 23:35:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:35:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-04 23:35:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:35:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:35:47"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-04T23:35:47.344Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:35:48"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-04T23:35:47.344Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:35:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1239.590 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:35:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 23:36:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 23:36:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1208.491 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 23:36:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 23:36:03","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 736.482 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[36m304\u001b[0m 911.569 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 955.365 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 1148.792 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1209.201 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1593.059 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-04 23:36:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-04 23:36:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:05"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-04T23:36:04.825Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:36:05"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-04T23:36:04.825Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:36:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1292.470 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1206.809 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1651.818 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:13"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:36:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:36:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 23:36:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:13"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:36:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:36:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1296.640 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 23:36:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1785.285 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:15"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1280.541 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:20"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:36:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:36:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 23:36:20"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:21"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:36:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:36:21"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:21"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1232.306 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1762.357 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:33"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:36:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:36:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:36:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 23:36:33"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:34"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:36:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:36:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:36:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:36:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1187.621 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1747.939 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:36:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 23:37:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:37:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:37:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 23:37:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1331.606 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 23:37:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 23:37:04","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 778.757 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[32m200\u001b[0m 848.826 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 992.553 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:37:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:37:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:37:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1417.924 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:37:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 1430.508 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:37:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1764.815 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:37:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:37:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-04 23:37:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:37:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:37:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-04 23:37:06"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:37:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:37:06"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-04T23:37:06.249Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:37:07"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-04T23:37:06.249Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:37:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1407.797 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:37:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 23:38:06"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:38:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:38:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 23:38:06"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1151.511 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 23:38:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 23:38:08","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 717.044 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[32m200\u001b[0m 699.211 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 948.988 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1182.513 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:38:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 1413.857 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:38:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1660.562 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:38:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:38:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-04 23:38:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:38:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:38:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-04 23:38:10"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:38:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:38:10"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-04T23:38:10.710Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:38:10"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-04T23:38:10.710Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:38:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1362.519 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:38:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 23:41:34","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 724.111 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 23:41:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1088.708 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1185.187 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1200.831 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-04T23:41:35.088Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-04T23:41:35.088Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1362.195 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[36m304\u001b[0m 712.152 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1704.574 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:41:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:36"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:41:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:41:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 1384.593 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1695.800 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 23:41:40"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-04 23:41:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1188.520 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-04 23:41:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:41:43"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 23:41:43"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 23:41:43","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 778.242 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[36m304\u001b[0m 777.835 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:43"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 23:41:43"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:43"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1173.344 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1298.783 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 1420.436 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1694.520 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-04 23:41:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-04 23:41:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-04 23:41:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:41:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-04 23:41:45"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-04T23:41:45.347Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:41:45"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-04T23:41:45.347Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:41:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1351.954 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:41:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:45:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:45:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 712.909 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 350.783 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 265.694 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:45:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 898.592 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1464.598 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"\u001b[0mPOST /api/v1/analytics/views \u001b[32m200\u001b[0m 582.096 ms - 59\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/recommendations/track","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"[getProductReviews] Product ID: 697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"[getProductReviews] User: 6798101470646250be061204, Role: admin","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"[getProductReviews] Status filter:","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"[getProductReviews] Found 1 reviews","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7/reviews \u001b[36m304\u001b[0m 1228.933 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 23:45:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 1782.980 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2076.654 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1722.948 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"info","message":"\u001b[0mPOST /api/v1/recommendations/track \u001b[32m200\u001b[0m 886.488 ms - 62\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[32m200\u001b[0m 1209.806 ms - 221\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/history","service":"backend-api","timestamp":"2026-02-04 23:45:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/related?limit=10 \u001b[36m304\u001b[0m 663.649 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:40"}
{"level":"error","message":"[Recommendation] Error getting also bought products: Cannot read properties of undefined (reading 'toString')","service":"backend-api","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:79\n    at Array.map (<anonymous>)\n    at Object.getAlsoBoughtProducts (/Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/recommendationController.js:40:20","timestamp":"2026-02-04 23:45:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1460.323 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:45:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:45:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 23:45:40"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:45:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:45:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/ai-similar?limit=10 \u001b[36m304\u001b[0m 1092.734 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:40"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"}],"_docs":{"68c150f5079f517f4e9cff02":"68c14745079f517f4e9ced3a"},"_queryProjection":null,"path":"parentCategory"},"value":"68c14745079f517f4e9ced3a"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68c150f5079f517f4e9cff02":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68c150f5079f517f4e9cff02","attributes":[{"_id":"68c150f5079f517f4e9cff03","id":"68c150f5079f517f4e9cff03","isFilterable":true,"isRequired":true,"isVariant":false,"name":"Type","type":"enum","values":["Caps","Mittens","Socks","Bibs","Blankets"]},{"_id":"68c150f5079f517f4e9cff04","id":"68c150f5079f517f4e9cff04","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Material","type":"enum","values":["Cotton","Wool","Fleece"]},{"_id":"68c150f5079f517f4e9cff05","id":"68c150f5079f517f4e9cff05","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Blue","Pink","White","Yellow"]}],"createdAt":"2025-09-10T10:20:37.177Z","description":"Caps, mittens, socks, bibs, and blankets.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757499636/categories/1757499634936-899114318-image.jpg","name":"Baby Accessories","parentCategory":{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"},"products":["692d7bef2ecf623f4471fdd3","697f27d103669e15755d61d7"],"slug":"baby-accessories","status":"active","subcategories":[],"updatedAt":"2026-02-04T14:22:45.725Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:45:40"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"}],"_docs":{"68c150f5079f517f4e9cff02":"68c14745079f517f4e9ced3a"},"_queryProjection":null,"path":"parentCategory"},"value":"68c14745079f517f4e9ced3a"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68c150f5079f517f4e9cff02":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68c150f5079f517f4e9cff02","attributes":[{"_id":"68c150f5079f517f4e9cff03","id":"68c150f5079f517f4e9cff03","isFilterable":true,"isRequired":true,"isVariant":false,"name":"Type","type":"enum","values":["Caps","Mittens","Socks","Bibs","Blankets"]},{"_id":"68c150f5079f517f4e9cff04","id":"68c150f5079f517f4e9cff04","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Material","type":"enum","values":["Cotton","Wool","Fleece"]},{"_id":"68c150f5079f517f4e9cff05","id":"68c150f5079f517f4e9cff05","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Blue","Pink","White","Yellow"]}],"createdAt":"2025-09-10T10:20:37.177Z","description":"Caps, mittens, socks, bibs, and blankets.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757499636/categories/1757499634936-899114318-image.jpg","name":"Baby Accessories","parentCategory":{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"},"products":["692d7bef2ecf623f4471fdd3","697f27d103669e15755d61d7"],"slug":"baby-accessories","status":"active","subcategories":[],"updatedAt":"2026-02-04T14:22:45.725Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:45:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/68c150f5079f517f4e9cff02 \u001b[36m304\u001b[0m 1090.493 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:45:41"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 23:45:41"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 23:45:41","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mPOST /api/v1/history \u001b[32m200\u001b[0m 1245.293 ms - 130\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/also-bought?limit=10 \u001b[36m304\u001b[0m 1370.447 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:45:41"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 23:45:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 846.210 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1119.507 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:45:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:46:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:46:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 806.014 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 256.651 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 275.520 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:46:23"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 781.924 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"level":"info","message":"\u001b[0mPOST /api/v1/analytics/views \u001b[32m200\u001b[0m 670.395 ms - 59\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-04 23:46:24"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/recommendations/track","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1443.425 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-04 23:46:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1753.499 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[getProductReviews] Product ID: 697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[getProductReviews] User: 6798101470646250be061204, Role: admin","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[getProductReviews] Status filter:","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[getProductReviews] Found 1 reviews","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7/reviews \u001b[36m304\u001b[0m 1524.512 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1776.492 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 1964.152 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"\u001b[0mPOST /api/v1/recommendations/track \u001b[32m200\u001b[0m 850.588 ms - 62\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 1084.313 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:46:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 951.038 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 731.949 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 23:46:26","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 647.239 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"error","message":"[Recommendation] Error getting also bought products: Cannot read properties of undefined (reading 'toString')","service":"backend-api","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:79\n    at Array.map (<anonymous>)\n    at Object.getAlsoBoughtProducts (/Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/recommendationController.js:40:20","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 977.723 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/related?limit=10 \u001b[36m304\u001b[0m 464.056 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/history","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/ai-similar?limit=10 \u001b[36m304\u001b[0m 506.886 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1038.115 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/also-bought?limit=10 \u001b[36m304\u001b[0m 736.879 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:26"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"}],"_docs":{"68c150f5079f517f4e9cff02":"68c14745079f517f4e9ced3a"},"_queryProjection":null,"path":"parentCategory"},"value":"68c14745079f517f4e9ced3a"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68c150f5079f517f4e9cff02":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68c150f5079f517f4e9cff02","attributes":[{"_id":"68c150f5079f517f4e9cff03","id":"68c150f5079f517f4e9cff03","isFilterable":true,"isRequired":true,"isVariant":false,"name":"Type","type":"enum","values":["Caps","Mittens","Socks","Bibs","Blankets"]},{"_id":"68c150f5079f517f4e9cff04","id":"68c150f5079f517f4e9cff04","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Material","type":"enum","values":["Cotton","Wool","Fleece"]},{"_id":"68c150f5079f517f4e9cff05","id":"68c150f5079f517f4e9cff05","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Blue","Pink","White","Yellow"]}],"createdAt":"2025-09-10T10:20:37.177Z","description":"Caps, mittens, socks, bibs, and blankets.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757499636/categories/1757499634936-899114318-image.jpg","name":"Baby Accessories","parentCategory":{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"},"products":["692d7bef2ecf623f4471fdd3","697f27d103669e15755d61d7"],"slug":"baby-accessories","status":"active","subcategories":[],"updatedAt":"2026-02-04T14:22:45.725Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:46:27"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"}],"_docs":{"68c150f5079f517f4e9cff02":"68c14745079f517f4e9ced3a"},"_queryProjection":null,"path":"parentCategory"},"value":"68c14745079f517f4e9ced3a"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68c150f5079f517f4e9cff02":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68c150f5079f517f4e9cff02","attributes":[{"_id":"68c150f5079f517f4e9cff03","id":"68c150f5079f517f4e9cff03","isFilterable":true,"isRequired":true,"isVariant":false,"name":"Type","type":"enum","values":["Caps","Mittens","Socks","Bibs","Blankets"]},{"_id":"68c150f5079f517f4e9cff04","id":"68c150f5079f517f4e9cff04","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Material","type":"enum","values":["Cotton","Wool","Fleece"]},{"_id":"68c150f5079f517f4e9cff05","id":"68c150f5079f517f4e9cff05","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Blue","Pink","White","Yellow"]}],"createdAt":"2025-09-10T10:20:37.177Z","description":"Caps, mittens, socks, bibs, and blankets.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757499636/categories/1757499634936-899114318-image.jpg","name":"Baby Accessories","parentCategory":{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"},"products":["692d7bef2ecf623f4471fdd3","697f27d103669e15755d61d7"],"slug":"baby-accessories","status":"active","subcategories":[],"updatedAt":"2026-02-04T14:22:45.725Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-04 23:46:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/68c150f5079f517f4e9cff02 \u001b[36m304\u001b[0m 740.000 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:27"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:46:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-04 23:46:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:46:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-04 23:46:27"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-04 23:46:27"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-04 23:46:27","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mPOST /api/v1/history \u001b[32m200\u001b[0m 805.600 ms - 130\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 896.453 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:27"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-04 23:46:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1137.019 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 2184.598 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-04 23:46:28"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:55:50"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 23:55:52"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 23:55:52"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 23:55:52"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 23:55:52"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 23:55:52"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 23:55:55"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 23:55:55"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 23:55:55"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 23:55:55"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 23:55:55"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 23:55:55"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-04 23:56:07"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-04 23:56:09"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-04 23:56:09"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-04 23:56:09"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-04 23:56:09"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-04 23:56:09"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-04 23:56:14"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-04 23:56:14"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-04 23:56:14"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-04 23:56:14"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-04 23:56:14"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-04 23:56:14"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-05 00:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-05 00:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-05 00:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-05 00:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 00:11:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 00:11:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1176.965 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 00:11:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 00:11:16","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 818.188 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[32m200\u001b[0m 819.735 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1067.421 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[32m200\u001b[0m 1353.410 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 1519.773 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1756.291 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 00:11:17"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 00:11:17"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:18"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T00:11:17.837Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 00:11:18"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T00:11:17.837Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 00:11:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1233.175 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for PATCH /api/v1/seller/697605eb3206c0a57a1667cd/document-status","service":"backend-api","timestamp":"2026-02-05 00:11:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:37"}
{"level":"info","message":"\u001b[0mPATCH /api/v1/seller/697605eb3206c0a57a1667cd/document-status \u001b[32m200\u001b[0m 1916.146 ms - 904\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-05 00:11:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 00:11:39","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 710.143 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[32m200\u001b[0m 740.267 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1202.157 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T00:11:39.730Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T00:11:39.730Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1184.586 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1187.071 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[32m200\u001b[0m 1202.201 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:40"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:11:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:11:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 1567.966 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 2042.503 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:11:41"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:21:10"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:21:12"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:21:12"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:21:12"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:21:12"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:21:12"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 00:21:14"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 00:21:14"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 00:21:14"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 00:21:14"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 00:21:14"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 00:21:14"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:21:18"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:21:20"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:21:20"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:21:20"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:21:20"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:21:20"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 00:21:22"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 00:21:22"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 00:21:22"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 00:21:22"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 00:21:22"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 00:21:22"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:24:00"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:24:02"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:24:02"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:24:02"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:24:02"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:24:02"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 00:24:05"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 00:24:05"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 00:24:05"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 00:24:05"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 00:24:05"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 00:24:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:24:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:24:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:24:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:24:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:24:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:24:06"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:24:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:24:06"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 00:24:06"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 00:24:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 00:24:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:24:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:24:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:24:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:24:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:24:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:24:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:24:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 7536.337 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:24:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 7554.234 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:24:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 8259.925 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:24:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[32m200\u001b[0m 8306.089 ms - 297\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:24:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 8475.468 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:24:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:24:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:24:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:24:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1492.613 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:24:22"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:25:18"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:25:19"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:25:19"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:25:19"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:25:19"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:25:19"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 00:25:22"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 00:25:22"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 00:25:22"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 00:25:22"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 00:25:22"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 00:25:22"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:25:27"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:25:28"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:25:28"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:25:28"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:25:28"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:25:28"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:25:31"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:25:32"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:25:32"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:25:32"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:25:32"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:25:32"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 00:25:36"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 00:25:36"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 00:25:36"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 00:25:36"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 00:25:36"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 00:25:36"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:32:41"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:32:43"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:32:43"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:32:43"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:32:43"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:32:43"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 00:32:46"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 00:32:46"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 00:32:46"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 00:32:46"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 00:32:46"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 00:32:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:35:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:35:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:35:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:35:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 00:35:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:35:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:35:04"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:35:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:35:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:35:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:35:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:35:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:35:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:35:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 1587.708 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:35:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:35:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:35:09"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 00:35:09"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 00:35:09","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:35:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:35:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:35:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 4910.436 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:35:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[32m200\u001b[0m 5190.216 ms - 298\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:35:09"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 00:35:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 7341.686 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:35:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 8629.141 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:35:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 9230.295 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:35:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:35:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:35:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:35:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 729.969 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:35:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:36:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:36:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:36:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 669.978 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:36:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:36:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:36:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:36:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 901.639 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:36:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:49:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 00:49:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 00:49:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1007.576 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1226.310 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 00:49:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 00:49:04","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 733.402 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[32m200\u001b[0m 944.393 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1176.714 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[32m200\u001b[0m 1147.523 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 1237.604 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 00:49:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1648.348 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 00:49:05","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 671.574 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 864.724 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1395.710 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/[object%20Object] \u001b[33m400\u001b[0m 941.334 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 00:49:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/[object%20Object] \u001b[33m400\u001b[0m 553.075 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T00:49:06.293Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T00:49:06.293Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1136.072 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1969.218 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 00:49:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:49:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:49:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:49:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 724.775 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 943.755 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1399.795 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:49:08"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:50:16"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:50:17"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:50:17"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:50:17"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:50:17"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:50:17"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 00:50:21"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 00:50:21"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 00:50:21"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 00:50:21"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 00:50:21"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 00:50:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 00:51:34","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 797.158 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:51:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 880.417 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:51:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1016.637 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:51:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1487.062 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:51:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1563.723 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:51:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[32m200\u001b[0m 2718.837 ms - 975\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:51:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:51:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:51:46"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:51:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:51:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:51:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:51:46"}
{"level":"info","message":"\u001b[0mPOST /api/v1/paymentrequest \u001b[33m403\u001b[0m 773.959 ms - 383\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:51:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:52:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:52:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:52:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 981.594 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:52:06"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:52:31"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:52:33"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:52:33"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:52:33"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:52:33"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:52:33"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 00:52:35"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 00:52:35"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 00:52:35"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 00:52:35"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 00:52:35"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 00:52:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:52:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:52:36"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:52:37"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:52:38"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:52:38"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:52:38"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:52:38"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:52:38"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 00:52:41"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 00:52:41"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 00:52:41"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 00:52:41"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 00:52:41"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 00:52:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:53:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:53:06"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:53:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 962.086 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:53:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:53:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:53:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:53:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 848.544 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:53:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:54:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:54:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:54:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 741.859 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:54:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:54:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:54:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:54:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 813.644 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:54:40"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:54:42"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:54:43"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:54:43"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:54:43"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:54:44"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:54:44"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 00:54:46"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 00:54:46"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 00:54:46"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 00:54:46"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 00:54:46"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 00:54:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:55:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:55:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:55:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 778.370 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:55:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:55:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:55:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:55:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 4082.395 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:55:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:56:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:56:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:56:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:56:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:56:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:56:15"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:56:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:56:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:56:15"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 00:56:15"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 00:56:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 00:56:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 847.957 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:56:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:56:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:56:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:56:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:56:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:56:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:56:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 733.292 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:56:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 941.489 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:56:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 988.306 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:56:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1395.225 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:56:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:56:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:56:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:56:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 711.587 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:56:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:56:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:56:53"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:56:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:56:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:56:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:56:54"}
{"level":"info","message":"\u001b[0mPOST /api/v1/paymentrequest \u001b[33m403\u001b[0m 1643.722 ms - 686\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:56:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:57:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:57:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:57:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 736.142 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:57:17"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:57:33"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:57:34"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:57:34"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:57:34"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:57:34"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:57:34"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 00:57:37"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 00:57:37"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 00:57:37"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 00:57:37"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 00:57:37"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 00:57:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:57:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:57:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:57:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 793.817 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:57:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:58:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:58:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:58:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 727.685 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:58:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:58:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:58:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1301.271 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:58:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:58:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:58:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:58:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:58:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 00:58:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:58:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:58:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:58:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:58:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:58:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:58:34"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 00:58:34"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 00:58:34","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 739.362 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:58:34"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 00:58:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 984.362 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:58:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1363.798 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:58:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 2287.634 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:58:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 799.843 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:58:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1040.561 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:58:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1491.036 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:58:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:58:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:58:55"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:58:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 00:58:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:58:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 00:58:56"}
{"level":"info","message":"\u001b[0mPOST /api/v1/paymentrequest \u001b[31m500\u001b[0m 2676.268 ms - 386\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:58:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:59:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:59:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:59:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 859.677 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:59:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 00:59:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 00:59:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 00:59:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 690.154 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 00:59:36"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 00:59:43"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 00:59:45"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 00:59:45"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 00:59:45"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 00:59:45"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 00:59:45"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 00:59:47"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 00:59:47"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 00:59:47"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 00:59:47"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 00:59:47"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 00:59:47"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-05 01:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-05 01:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-05 01:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-05 01:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:00:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 01:00:06"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:00:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 859.385 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:00:06"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-05 01:00:36"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 01:00:39"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 01:00:40"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 01:00:40"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 01:00:40"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 01:00:40"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 01:00:40"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 01:00:43"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 01:00:43"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 01:00:43"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 01:00:43"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 01:00:43"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 01:00:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:01:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 01:01:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:01:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 956.893 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:01:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:01:26"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:01:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1113.540 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:01:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 01:01:28","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 712.460 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:01:28"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 01:01:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1084.251 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:01:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1317.113 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:01:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1602.379 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:01:29"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 01:01:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 01:01:29"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 01:01:29"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 01:01:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 01:01:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:01:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:01:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:01:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:01:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:01:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 687.233 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:01:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 933.280 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:01:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1492.819 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:01:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:01:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 01:01:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:01:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 759.856 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:01:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:02:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:02:07"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 01:02:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 01:02:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:02:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:02:07"}
{"level":"info","message":"\u001b[0mPOST /api/v1/paymentrequest \u001b[33m403\u001b[0m 875.074 ms - 339\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:02:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:02:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 01:02:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:02:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 825.299 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:02:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:03:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 01:03:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:03:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 943.039 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:03:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:05:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 01:05:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 01:05:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 959.173 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1193.787 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 01:05:39","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 726.308 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:05:39"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1399.079 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[36m304\u001b[0m 1397.310 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 1426.562 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1736.000 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 01:05:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:05:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:05:41"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 01:05:41"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 01:05:41","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 2061.068 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 01:05:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 870.303 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:41"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 01:05:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1515.394 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 2123.428 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/[object%20Object] \u001b[33m400\u001b[0m 1918.697 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T01:05:42.615Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T01:05:42.615Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1512.729 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 2990.043 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/[object%20Object] \u001b[33m400\u001b[0m 480.003 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 01:05:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 826.902 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1121.406 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1580.386 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 01:05:44"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 01:35:52"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 01:35:52"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 03:05:57"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 04:00:03"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 04:54:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 07:06:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:06:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 07:06:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 937.511 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:06:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:06:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:06:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:06:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:06:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:06:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:06:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 2968.280 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 784.821 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1677.310 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:06:46","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 2347.606 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 683.104 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:06:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 2978.943 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:06:47"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:06:47"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:06:47","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[36m304\u001b[0m 1018.338 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 07:06:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[32m200\u001b[0m 1469.463 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:47"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:06:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1235.130 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/[object%20Object] \u001b[33m400\u001b[0m 1013.241 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 739.632 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 2870.779 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/[object%20Object] \u001b[33m400\u001b[0m 483.547 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1407.409 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:06:50"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 2338.265 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 4674.936 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:06:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 07:06:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 07:06:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:06:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:06:52"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T07:06:51.788Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 07:06:52"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T07:06:51.788Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 07:06:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1498.104 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:06:52"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 07:09:46"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 07:09:46"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 07:09:57"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 07:09:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:14:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 07:14:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 07:14:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 902.432 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:14:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:14:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:14:12"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 2663.530 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 763.213 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 07:14:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 750.639 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:14:14","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1941.653 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 07:14:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 1525.583 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 2817.649 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:14:15"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:14:15","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[32m200\u001b[0m 1558.907 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:16"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:14:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[36m304\u001b[0m 2532.239 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 925.890 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 07:14:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 4029.938 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 07:14:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/[object%20Object] \u001b[33m400\u001b[0m 921.605 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/[object%20Object] \u001b[33m400\u001b[0m 419.048 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 3370.912 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 07:14:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:14:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:14:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 728.870 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:18"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 07:14:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 945.278 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[32m200\u001b[0m 1447.748 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:19"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:14:19"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:14:19"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T07:14:19.067Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 07:14:19"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T07:14:19.067Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 07:14:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1422.957 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:14:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:22:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:22:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:22:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:22:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:22:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:22:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:22:38"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:22:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:22:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:22:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:22:39","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 687.306 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 748.657 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 931.651 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:22:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1329.139 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:22:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1433.988 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:22:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 2442.321 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:22:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:23:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:23:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:23:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 906.461 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:23:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:23:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:23:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:23:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 698.707 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:23:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:24:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:24:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:24:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 953.973 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:24:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:24:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:24:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:24:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 746.544 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:24:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:25:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:25:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:25:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 753.740 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:25:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 766.419 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:25:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 971.429 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:25:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1010.550 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:25:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1528.370 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:25:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:25:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:25:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:25:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 695.804 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:25:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:26:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:26:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1035.532 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:26:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:26:15","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 770.250 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:26:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1022.253 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:26:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1436.780 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:26:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 2647.710 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:26:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:26:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 903.340 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:26:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1124.540 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:26:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1559.379 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:26:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:26:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:26:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:26:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 690.658 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:26:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:27:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:27:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:27:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 872.662 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:27:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:27:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:27:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:27:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1225.045 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:27:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:28:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:28:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:28:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 857.591 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:28:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:28:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:28:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:28:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 977.977 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:28:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:29:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:29:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:29:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 669.998 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:29:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:29:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:29:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:29:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1162.029 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:29:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:30:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:30:22"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:30:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 647.297 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:30:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:30:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:30:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:30:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 976.366 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:30:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:31:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:31:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:31:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1119.111 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:31:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:31:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:31:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1018.348 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:31:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:31:32","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 743.981 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:31:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 936.960 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:31:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1297.651 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:31:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 2253.091 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:31:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:31:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:31:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:31:34"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:31:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:31:34"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:31:34"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:31:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:31:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:31:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:31:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:31:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:31:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:31:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 663.532 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:31:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 865.030 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:31:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1360.484 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:31:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:32:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:32:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 690.423 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:32:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:32:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:32:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1092.442 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:32:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:56"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/order/get-seller-orders","service":"backend-api","timestamp":"2026-02-05 07:32:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/order/get-seller-orders","service":"backend-api","timestamp":"2026-02-05 07:32:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 246.457 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:32:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:32:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:32:56"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:32:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:32:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:32:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:32:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/product \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:32:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/order/get-seller-orders \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:32:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:32:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 881.334 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:32:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/order/get-seller-orders","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/order/get-seller-orders","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 359.809 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:32:59","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 806.927 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:32:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1060.967 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[32m200\u001b[0m 1673.469 ms - 298\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1278.604 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/product \u001b[32m200\u001b[0m 3762.425 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 723.194 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 977.480 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/order/get-seller-orders \u001b[32m200\u001b[0m 4625.424 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1479.873 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:16"}
{"level":"info","message":"\u001b[0mPOST /api/v1/seller/logout \u001b[32m200\u001b[0m 5.712 ms - 56\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[33m401\u001b[0m 218.678 ms - 376\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[33m401\u001b[0m 233.351 ms - 376\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:23"}
{"email":"benzflex00@gmail.com","emailVerified":true,"hasPassword":true,"ip":"127.0.0.1","level":"info","message":"[Seller Login] Seller found - checking authorization","sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","status":"active","timestamp":"2026-02-05T07:33:23.586Z"}
{"email":"benzflex00@gmail.com","hasPassword":true,"ip":"127.0.0.1","level":"info","message":"[Seller Login] Verifying password","passwordLength":60,"sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","timestamp":"2026-02-05T07:33:23.587Z"}
{"email":"benzflex00@gmail.com","ip":"127.0.0.1","level":"info","message":"[Seller Login] Password verification result","passwordValid":true,"sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","timestamp":"2026-02-05T07:33:24.025Z"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-05 07:33:24"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-05 07:33:24"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-05 07:33:24"}
{"deviceId":"1adf2367-5fa4-4f61-9088-6634000ecb9f","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazseller","service":"backend-api","timestamp":"2026-02-05 07:33:24","userId":"6970b22eaba06cadfd4b8035","userModel":"Seller"}
{"buffer":{"data":[105,132,71,196,64,167,0,78,244,75,53,139],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-05 07:33:24"}
{"cookieDomain":"not set","email":"benzflex00@gmail.com","ip":"127.0.0.1","level":"info","message":"[Seller Login] ‚úÖ Login successful","nodeEnv":"development","origin":"http://localhost:5174","sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","status":"active","timestamp":"2026-02-05T07:33:26.632Z"}
{"level":"info","message":"\u001b[0mPOST /api/v1/seller/login \u001b[32m200\u001b[0m 3307.022 ms - 348\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:26"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by seller (6970b22eaba06cadfd4b8035) - Risk: low - Platform: eazseller","service":"backend-api","timestamp":"2026-02-05 07:33:26"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1620.885 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[36m304\u001b[0m 1298.205 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:33:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:29"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/order/get-seller-orders","service":"backend-api","timestamp":"2026-02-05 07:33:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/order/get-seller-orders","service":"backend-api","timestamp":"2026-02-05 07:33:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:33:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 261.782 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:33:30"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:33:30"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:33:30","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:33:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:33:30"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:33:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:30"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:33:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 769.700 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 950.788 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1546.535 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/product \u001b[36m304\u001b[0m 1769.770 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/order/get-seller-orders \u001b[36m304\u001b[0m 5507.883 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 3216.504 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 935.053 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1182.070 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1375.090 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1649.730 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions/6984425b835acc410b81d1d7 \u001b[33m404\u001b[0m 893.932 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?page=1&limit=100 \u001b[32m200\u001b[0m 1751.912 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:33:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:33:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?page=1&limit=20 \u001b[32m200\u001b[0m 1739.997 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:33:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:34:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:34:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:34:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 907.708 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:34:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:34:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:34:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:34:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 658.945 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:34:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:35:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:35:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:35:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 730.893 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:35:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:35:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:35:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:35:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 783.452 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:35:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:36:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:36:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:36:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1116.891 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:36:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:36:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:36:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:36:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 736.114 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:36:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:37:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:37:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:37:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 712.398 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:37:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:37:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:37:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:37:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 661.057 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:37:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:38:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:38:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:38:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 749.531 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:38:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:38:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:38:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:38:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 728.948 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:38:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:39:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:39:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:39:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 736.034 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:39:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 07:39:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:27"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 07:39:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 893.391 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:27"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1201.551 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 07:39:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:39:29","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 741.945 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 980.809 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[36m304\u001b[0m 863.944 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1133.533 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1357.202 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 07:39:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 1173.705 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:39:30","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 639.902 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 851.977 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[32m200\u001b[0m 1156.299 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/[object%20Object] \u001b[33m400\u001b[0m 893.062 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1631.971 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 711.770 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/[object%20Object] \u001b[33m400\u001b[0m 434.681 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1369.539 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 887.449 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 07:39:31"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:39:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:39:32"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T07:39:31.569Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 07:39:32"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T07:39:31.569Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 07:39:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1153.012 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:39:32"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 07:48:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:48:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:48:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:48:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:48:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:48:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:48:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:48:10"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:48:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:48:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:48:10"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 07:48:11"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 07:48:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:48:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:48:13"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:48:13"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:48:13","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:48:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:48:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:48:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:48:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 3844.919 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:48:14"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:48:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 4270.434 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:48:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 4542.457 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:48:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:48:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:48:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:48:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 5624.470 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:48:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 6615.856 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:48:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 6696.970 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:48:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:48:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:48:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:48:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 828.428 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:48:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:49:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:49:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:49:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 788.290 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:49:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:49:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:49:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:49:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 922.856 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:49:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:50:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:50:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:50:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 737.802 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:50:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:50:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:50:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:50:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 937.039 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:50:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:51:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:51:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:51:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 894.708 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:51:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:51:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:51:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:51:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 761.463 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:51:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 930.462 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:51:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1204.749 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1202.749 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1543.614 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:52:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:52:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:52:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1002.299 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:52:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 07:52:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 07:52:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 945.285 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1281.207 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 07:52:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:52:41","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 735.162 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 940.877 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[36m304\u001b[0m 1113.816 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1214.663 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:52:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1338.373 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:52:42","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 838.662 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:52:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1374.979 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1165.783 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 2783.656 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 717.320 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 979.320 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1663.304 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:44"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/[object%20Object] \u001b[33m400\u001b[0m 2840.473 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 07:52:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 3730.534 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 07:52:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 07:52:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/[object%20Object] \u001b[33m400\u001b[0m 488.072 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 07:52:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 07:52:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 07:52:46"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T07:52:46.188Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 07:52:46"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T07:52:46.188Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 07:52:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1148.244 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:52:46"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 07:56:52"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 07:56:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:56:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:56:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:56:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:56:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:56:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:56:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:56:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 07:56:53"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:56:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 07:56:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:56:59"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 07:56:59"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 07:56:59","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:56:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:56:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:56:59"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 07:57:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:57:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:57:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 7201.588 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:57:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:57:00"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/seller/payout/requests","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:57:00"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 07:57:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 07:57:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 7951.244 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:57:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:57:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:57:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:57:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 8768.523 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:57:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 9007.148 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:57:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:57:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:57:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 11057.665 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:57:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/payout/requests \u001b[32m200\u001b[0m 3870.769 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:57:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 12100.958 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:57:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:57:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:57:21"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/seller/payout/request/6983eb5280d3679b5e9d8aef/resend-otp","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 07:57:21"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/seller/payout/request/6983eb5280d3679b5e9d8aef/resend-otp","service":"backend-api","timestamp":"2026-02-05 07:57:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/seller/payout/request/6983eb5280d3679b5e9d8aef/resend-otp","service":"backend-api","timestamp":"2026-02-05 07:57:21"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:57:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 07:57:22"}
{"level":"info","message":"\u001b[0mPOST /api/v1/seller/payout/request/6983eb5280d3679b5e9d8aef/resend-otp \u001b[31m500\u001b[0m 1716.723 ms - 354\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:57:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:57:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:57:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:57:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1622.733 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:57:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:58:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:58:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:58:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1041.282 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:58:03"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 07:58:24"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 07:58:25"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 07:58:25"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 07:58:25"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 07:58:25"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 07:58:25"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 07:58:29"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 07:58:29"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 07:58:29"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 07:58:29"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 07:58:29"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 07:58:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:58:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:58:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:58:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 3264.174 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:58:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:59:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:59:06"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:59:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 700.386 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:59:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:59:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 07:59:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 07:59:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 755.709 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 07:59:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 07:59:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 08:00:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:00"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 08:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-05 08:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-05 08:00:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 925.581 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:00"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1199.400 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 08:00:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 08:00:02","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 676.203 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 905.828 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[36m304\u001b[0m 906.834 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 1131.398 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 08:00:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1341.285 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 08:00:03","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 709.201 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 1633.708 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 889.618 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1141.150 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1456.166 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/[object%20Object] \u001b[33m400\u001b[0m 871.827 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 08:00:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/seller/payout/requests","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/[object%20Object] \u001b[33m400\u001b[0m 424.457 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T08:00:03.880Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T08:00:03.880Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1141.373 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/payout/requests \u001b[36m304\u001b[0m 970.604 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:00:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:00:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 08:00:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:00:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:00:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:00:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:00:42"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 08:00:42"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 08:00:42","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:00:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:00:42"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 08:00:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1618.125 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1764.099 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 2191.264 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 3488.579 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:00:45"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 08:00:49"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 08:00:49"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 08:01:00"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 08:01:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:01:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:01:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:01:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 733.507 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:01:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:01:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:01:26"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/seller/payout/request/6983eb5280d3679b5e9d8aef/resend-otp","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 08:01:26"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/seller/payout/request/6983eb5280d3679b5e9d8aef/resend-otp","service":"backend-api","timestamp":"2026-02-05 08:01:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/seller/payout/request/6983eb5280d3679b5e9d8aef/resend-otp","service":"backend-api","timestamp":"2026-02-05 08:01:26"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:01:26"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:01:26"}
{"level":"info","message":"‚ö†Ô∏è [resendOtp] Recipient code not found. Recreating from payment details...","service":"backend-api","timestamp":"2026-02-05 08:01:27"}
{"level":"info","message":"‚úÖ [resendOtp] Recreated recipient from payment details:","paymentMethod":"mtn_momo","recipientCode":"RCP_4pe4283uh609l51","recipientName":"umar faisal","service":"backend-api","timestamp":"2026-02-05 08:01:28"}
{"level":"info","message":"üîç [resendOtp] Checking current transfer status from Paystack...","service":"backend-api","timestamp":"2026-02-05 08:01:28"}
{"fullStatus":"{\n  \"amount\": 100000,\n  \"createdAt\": \"2026-02-05T07:10:18.000Z\",\n  \"currency\": \"GHS\",\n  \"domain\": \"test\",\n  \"failures\": null,\n  \"id\": 951482904,\n  \"integration\": 1205003,\n  \"reason\": \"Payout for eazworld - Request #6983eb5280d3679b5e9d8aef\",\n  \"reference\": \"rekv5ao9z9q42f9rxi6p\",\n  \"source\": \"balance\",\n  \"source_details\": null,\n  \"status\": \"otp\",\n  \"titan_code\": null,\n  \"transfer_code\": \"TRF_xygv8xtqd7g2ki75\",\n  \"batch_code\": null,\n  \"request\": 1197907214,\n  \"transferred_at\": null,\n  \"updatedAt\": \"2026-02-05T07:10:18.000Z\",\n  \"recipient\": {\n    \"active\": true,\n    \"createdAt\": \"2025-11-25T10:57:10.000Z\",\n    \"currency\": \"GHS\",\n    \"description\": null,\n    \"domain\": \"test\",\n    \"email\": null,\n    \"id\": 116219070,\n    \"integration\": 1205003,\n    \"metadata\": null,\n    \"name\": \"umar faisal\",\n    \"recipient_code\": \"RCP_4pe4283uh609l51\",\n    \"type\": \"mobile_money\",\n    \"updatedAt\": \"2025-11-25T10:57:10.000Z\",\n    \"is_deleted\": false,\n    \"isDeleted\": false,\n    \"details\": {\n      \"authorization_code\": null,\n      \"account_number\": \"0244388190\",\n      \"account_name\": null,\n      \"bank_code\": \"MTN\",\n      \"bank_name\": \"MTN\"\n    }\n  },\n  \"session\": {\n    \"provider\": null,\n    \"id\": null\n  },\n  \"fee_charged\": 0,\n  \"fees_breakdown\": null,\n  \"gateway_response\": null\n}","level":"info","message":"üîç [resendOtp] Current transfer status from Paystack:","service":"backend-api","status":"otp","timestamp":"2026-02-05 08:01:29","transferCode":"TRF_xygv8xtqd7g2ki75"}
{"level":"info","message":"üì§ [resendOtp] Attempting to resend OTP for existing transfer...","service":"backend-api","timestamp":"2026-02-05 08:01:29"}
{"level":"info","message":"OTP has been resent","service":"backend-api","status":true,"timestamp":"2026-02-05 08:01:29"}
{"level":"info","message":"üîç [resendOtp] Verifying transfer status after resend...","service":"backend-api","timestamp":"2026-02-05 08:01:29"}
{"fullStatus":"{\n  \"amount\": 100000,\n  \"createdAt\": \"2026-02-05T07:10:18.000Z\",\n  \"currency\": \"GHS\",\n  \"domain\": \"test\",\n  \"failures\": null,\n  \"id\": 951482904,\n  \"integration\": 1205003,\n  \"reason\": \"Payout for eazworld - Request #6983eb5280d3679b5e9d8aef\",\n  \"reference\": \"rekv5ao9z9q42f9rxi6p\",\n  \"source\": \"balance\",\n  \"source_details\": null,\n  \"status\": \"otp\",\n  \"titan_code\": null,\n  \"transfer_code\": \"TRF_xygv8xtqd7g2ki75\",\n  \"batch_code\": null,\n  \"request\": 1197907214,\n  \"transferred_at\": null,\n  \"updatedAt\": \"2026-02-05T07:10:18.000Z\",\n  \"recipient\": {\n    \"active\": true,\n    \"createdAt\": \"2025-11-25T10:57:10.000Z\",\n    \"currency\": \"GHS\",\n    \"description\": null,\n    \"domain\": \"test\",\n    \"email\": null,\n    \"id\": 116219070,\n    \"integration\": 1205003,\n    \"metadata\": null,\n    \"name\": \"umar faisal\",\n    \"recipient_code\": \"RCP_4pe4283uh609l51\",\n    \"type\": \"mobile_money\",\n    \"updatedAt\": \"2025-11-25T10:57:10.000Z\",\n    \"is_deleted\": false,\n    \"isDeleted\": false,\n    \"details\": {\n      \"authorization_code\": null,\n      \"account_number\": \"0244388190\",\n      \"account_name\": null,\n      \"bank_code\": \"MTN\",\n      \"bank_name\": \"MTN\"\n    }\n  },\n  \"session\": {\n    \"provider\": null,\n    \"id\": null\n  },\n  \"fee_charged\": 0,\n  \"fees_breakdown\": null,\n  \"gateway_response\": null\n}","isOtpStatus":true,"level":"info","message":"‚úÖ [resendOtp] Transfer status after resend:","service":"backend-api","status":"otp","timestamp":"2026-02-05 08:01:29"}
{"level":"info","message":"‚úÖ [resendOtp] Transfer is now in OTP status - ready for verification","service":"backend-api","timestamp":"2026-02-05 08:01:29"}
{"level":"info","message":"\u001b[0mPOST /api/v1/seller/payout/request/6983eb5280d3679b5e9d8aef/resend-otp \u001b[32m200\u001b[0m 3500.740 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:01:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:01:29"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/seller/payout/requests","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 08:01:29"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 08:01:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 08:01:29"}
{"level":"info","message":"[ActivityLog] Logged: WITHDRAWAL_OTP_RESENT (OTHER); by seller (6970b22eaba06cadfd4b8035) - Risk: low - Platform: eazseller","service":"backend-api","timestamp":"2026-02-05 08:01:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:01:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:01:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/payout/requests \u001b[32m200\u001b[0m 1017.604 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:01:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:01:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:01:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:01:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 776.090 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:01:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:02:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:02:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:02:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 793.118 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:02:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:02:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:02:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:02:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 866.383 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:02:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:03:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:03:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:03:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 920.048 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:03:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:03:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:03:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:03:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 874.139 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:03:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:04:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:04:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:04:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 766.410 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:04:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:04:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:04:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:04:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 744.469 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:04:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:04:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 08:04:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:04:55"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:04:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:04:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 08:04:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 947.557 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:04:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:04:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:04:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:04:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:04:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 08:04:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:04:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:04:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:04:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 733.831 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:04:57"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:04:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:04:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 2772.940 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:04:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1448.699 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 08:04:58","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/seller/payout/requests","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/697605eb3206c0a57a1667cd","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 08:04:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 2403.571 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 884.201 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/payout/requests \u001b[36m304\u001b[0m 967.576 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 3079.857 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:04:59"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 08:05:00","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1082.809 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:05:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/697605eb3206c0a57a1667cd \u001b[36m304\u001b[0m 2404.236 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:05:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:05:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:05:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 08:05:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 2641.324 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:05:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:05:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:05:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 08:05:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 2878.211 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/[object%20Object] \u001b[33m400\u001b[0m 910.488 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/[object%20Object] \u001b[33m400\u001b[0m 465.602 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 3158.116 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 08:05:02"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:05:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:05:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 08:05:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:05:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:05:03"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T08:05:03.801Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 08:05:04"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T08:05:03.801Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 08:05:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1097.154 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:05:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 08:12:51"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 08:12:52"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 08:12:54"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:12:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 4609.726 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 08:12:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:12:55"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 08:12:55"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 08:12:55","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:12:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:12:55"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 08:12:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[36m304\u001b[0m 5082.832 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:12:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 08:12:56"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:12:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 5204.336 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:12:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:56"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/[object%20Object] \u001b[33m400\u001b[0m 5832.667 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/seller/payout/requests","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[32m200\u001b[0m 1800.641 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 2283.650 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[36m304\u001b[0m 6831.484 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/payout/requests \u001b[36m304\u001b[0m 1120.033 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 854.824 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 264.564 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 08:12:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 08:12:59","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T08:12:59.202Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T08:12:59.202Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 2946.136 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 2944.276 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[36m304\u001b[0m 1058.198 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1370.232 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 288.921 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-05 08:12:59"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2065.263 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-05 08:13:00"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[36m304\u001b[0m 2776.033 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1061.394 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"}],"_docs":{"68c150f5079f517f4e9cff02":"68c14745079f517f4e9ced3a"},"_queryProjection":null,"path":"parentCategory"},"value":"68c14745079f517f4e9ced3a"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68c150f5079f517f4e9cff02":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68c150f5079f517f4e9cff02","attributes":[{"_id":"68c150f5079f517f4e9cff03","id":"68c150f5079f517f4e9cff03","isFilterable":true,"isRequired":true,"isVariant":false,"name":"Type","type":"enum","values":["Caps","Mittens","Socks","Bibs","Blankets"]},{"_id":"68c150f5079f517f4e9cff04","id":"68c150f5079f517f4e9cff04","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Material","type":"enum","values":["Cotton","Wool","Fleece"]},{"_id":"68c150f5079f517f4e9cff05","id":"68c150f5079f517f4e9cff05","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Blue","Pink","White","Yellow"]}],"createdAt":"2025-09-10T10:20:37.177Z","description":"Caps, mittens, socks, bibs, and blankets.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757499636/categories/1757499634936-899114318-image.jpg","name":"Baby Accessories","parentCategory":{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"},"products":["692d7bef2ecf623f4471fdd3","697f27d103669e15755d61d7"],"slug":"baby-accessories","status":"active","subcategories":[],"updatedAt":"2026-02-04T14:22:45.725Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"}],"_docs":{"68c150f5079f517f4e9cff02":"68c14745079f517f4e9ced3a"},"_queryProjection":null,"path":"parentCategory"},"value":"68c14745079f517f4e9ced3a"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68c150f5079f517f4e9cff02":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68c150f5079f517f4e9cff02","attributes":[{"_id":"68c150f5079f517f4e9cff03","id":"68c150f5079f517f4e9cff03","isFilterable":true,"isRequired":true,"isVariant":false,"name":"Type","type":"enum","values":["Caps","Mittens","Socks","Bibs","Blankets"]},{"_id":"68c150f5079f517f4e9cff04","id":"68c150f5079f517f4e9cff04","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Material","type":"enum","values":["Cotton","Wool","Fleece"]},{"_id":"68c150f5079f517f4e9cff05","id":"68c150f5079f517f4e9cff05","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Blue","Pink","White","Yellow"]}],"createdAt":"2025-09-10T10:20:37.177Z","description":"Caps, mittens, socks, bibs, and blankets.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757499636/categories/1757499634936-899114318-image.jpg","name":"Baby Accessories","parentCategory":{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"},"products":["692d7bef2ecf623f4471fdd3","697f27d103669e15755d61d7"],"slug":"baby-accessories","status":"active","subcategories":[],"updatedAt":"2026-02-04T14:22:45.725Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/68c150f5079f517f4e9cff02 \u001b[36m304\u001b[0m 556.802 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:13:00"}
{"level":"info","message":"[getProductReviews] Product ID: 697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"[getProductReviews] User: 6798101470646250be061204, Role: admin","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"[getProductReviews] Status filter:","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"[getProductReviews] Found 1 reviews","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7/reviews \u001b[36m304\u001b[0m 1317.624 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"error","message":"[Recommendation] Error getting also bought products: Cannot read properties of undefined (reading 'toString')","service":"backend-api","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:79\n    at Array.map (<anonymous>)\n    at Object.getAlsoBoughtProducts (/Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/recommendationController.js:40:20","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1719.844 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/related?limit=10 \u001b[36m304\u001b[0m 527.805 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/ai-similar?limit=10 \u001b[36m304\u001b[0m 508.837 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/also-bought?limit=10 \u001b[36m304\u001b[0m 759.347 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/[object%20Object] \u001b[33m400\u001b[0m 550.926 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:13:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:13:02"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 08:13:02"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 08:13:02","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 08:13:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/6798101470646250be061204 \u001b[33m404\u001b[0m 762.210 ms - 396\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 798.936 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 08:13:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 08:13:02"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 08:13:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1036.791 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 3165.161 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 08:13:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 772.301 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 08:13:03"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 09:06:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:23:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:24:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:24:01"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"Error fetching parent categories: connect ECONNREFUSED 89.194.104.24:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000001a7"},"maxSetVersion":176,"servers":{"cluster0-shard-00-00.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138341411,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138341310,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138341304,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-w9egen-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"backend-api","stack":"MongoServerSelectionError: connect ECONNREFUSED 89.194.104.24:27017\n    at Topology.selectServer (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/sdam/topology.js:327:38)\n    at async tryOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:148:18)\n    at async executeOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async FindCursor._initialize (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:632:27)\n    at async FindCursor.fetchBatch (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:666:13)\n    at async FindCursor.next (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:342:17)\n    at async [Symbol.asyncIterator] (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:250:34)\n    at async FindCursor.toArray (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:422:26)\n    at async model.Query._find (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/query.js:2430:14)","timestamp":"2026-02-05 10:24:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[31m500\u001b[0m 5008.446 ms - 57\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[31m500\u001b[0m 5010.253 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[31m500\u001b[0m 5010.458 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[31m500\u001b[0m 5008.399 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[31m500\u001b[0m 5008.811 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[31m500\u001b[0m 5013.160 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:24:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[31m500\u001b[0m 5015.813 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[31m500\u001b[0m 5015.017 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[31m500\u001b[0m 5012.587 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[31m500\u001b[0m 5013.803 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7/reviews \u001b[31m500\u001b[0m 5006.685 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/68c150f5079f517f4e9cff02 \u001b[31m500\u001b[0m 5014.113 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/seller/payout/requests","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 10:24:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/payout/requests \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"[Recommendation] Error getting related products: connect ECONNREFUSED 89.194.104.24:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000001a7"},"maxSetVersion":176,"servers":{"cluster0-shard-00-00.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138351271,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138351268,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138351266,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-w9egen-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"backend-api","stack":"MongoServerSelectionError: connect ECONNREFUSED 89.194.104.24:27017\n    at Topology.selectServer (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/sdam/topology.js:327:38)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:555:9)\n    at process.processTimers (node:internal/timers:529:7)\n    at async tryOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:148:18)\n    at async executeOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async FindCursor._initialize (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:632:27)\n    at async FindCursor.fetchBatch (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:666:13)\n    at async FindCursor.next (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:342:17)","timestamp":"2026-02-05 10:24:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/related?limit=10 \u001b[32m200\u001b[0m 5027.781 ms - 55\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"[Recommendation] Error getting also bought products: connect ECONNREFUSED 89.194.104.24:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000001a7"},"maxSetVersion":176,"servers":{"cluster0-shard-00-00.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138351271,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138351268,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138351266,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-w9egen-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"backend-api","stack":"MongoServerSelectionError: connect ECONNREFUSED 89.194.104.24:27017\n    at Topology.selectServer (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/sdam/topology.js:327:38)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:555:9)\n    at process.processTimers (node:internal/timers:529:7)\n    at async tryOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:148:18)\n    at async executeOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async FindCursor._initialize (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:632:27)\n    at async FindCursor.fetchBatch (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:666:13)\n    at async FindCursor.next (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:342:17)","timestamp":"2026-02-05 10:24:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[31m500\u001b[0m 5026.814 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 10:24:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/[object%20Object] \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/6798101470646250be061204 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/697605eb3206c0a57a1667cd/payout \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:18"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"[Recommendation] Error getting related products: connect ECONNREFUSED 89.194.104.24:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000001a7"},"maxSetVersion":176,"servers":{"cluster0-shard-00-00.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138353865,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138353862,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138353862,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-w9egen-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"backend-api","stack":"MongoServerSelectionError: connect ECONNREFUSED 89.194.104.24:27017\n    at Topology.selectServer (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/sdam/topology.js:327:38)\n    at async tryOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:148:18)\n    at async executeOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async FindCursor._initialize (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:632:27)\n    at async FindCursor.fetchBatch (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:666:13)\n    at async FindCursor.next (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:342:17)\n    at async Collection.findOne (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/collection.js:313:24)\n    at async model.Query._findOne (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/query.js:2710:15)\n    at async model.Query.exec (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/query.js:4627:63)","timestamp":"2026-02-05 10:24:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/ai-similar?limit=10 \u001b[32m200\u001b[0m 5025.317 ms - 73\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:18"}
{"cause":{"beforeHandshake":false,"errorLabelSet":{}},"errorLabelSet":{},"level":"error","message":"[Recommendation] Error getting related products: connect ECONNREFUSED 89.194.104.24:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":{"$oid":"7fffffff00000000000001a7"},"maxSetVersion":176,"servers":{"cluster0-shard-00-00.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-00.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138353865,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-01.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-01.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138353862,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"cluster0-shard-00-02.lax0r.mongodb.net:27017":{"$clusterTime":null,"address":"cluster0-shard-00-02.lax0r.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":138353862,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-w9egen-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"backend-api","stack":"MongoServerSelectionError: connect ECONNREFUSED 89.194.104.24:27017\n    at Topology.selectServer (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/sdam/topology.js:327:38)\n    at async tryOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:148:18)\n    at async executeOperation (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async FindCursor._initialize (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/find_cursor.js:62:26)\n    at async FindCursor.cursorInit (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:632:27)\n    at async FindCursor.fetchBatch (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:666:13)\n    at async FindCursor.next (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/cursor/abstract_cursor.js:342:17)\n    at async Collection.findOne (/Users/mac/Desktop/Saiisai/backend/node_modules/mongodb/lib/collection.js:313:24)\n    at async model.Query._findOne (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/query.js:2710:15)\n    at async model.Query.exec (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/query.js:4627:63)","timestamp":"2026-02-05 10:24:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/also-bought?limit=10 \u001b[32m200\u001b[0m 10018.868 ms - 55\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[31m500\u001b[0m 5020.256 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:24:18"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 10:24:57"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 10:24:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:29"}
{"email":"benzflex00@gmail.com","emailVerified":true,"hasPassword":true,"ip":"127.0.0.1","level":"info","message":"[Seller Login] Seller found - checking authorization","sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","status":"active","timestamp":"2026-02-05T10:46:29.769Z"}
{"email":"benzflex00@gmail.com","hasPassword":true,"ip":"127.0.0.1","level":"info","message":"[Seller Login] Verifying password","passwordLength":60,"sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","timestamp":"2026-02-05T10:46:29.771Z"}
{"email":"benzflex00@gmail.com","ip":"127.0.0.1","level":"info","message":"[Seller Login] Password verification result","passwordValid":true,"sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","timestamp":"2026-02-05T10:46:30.200Z"}
{"level":"info","message":"[createDeviceSession] Development mode - skipping device limit check","service":"backend-api","timestamp":"2026-02-05 10:46:30"}
{"0":"L","1":"o","10":"o","11":"r","12":"k","2":"c","3":"a","4":"l","5":" ","6":"N","7":"e","8":"t","9":"w","level":"info","message":"[createDeviceSession] Location detected (async):","service":"backend-api","timestamp":"2026-02-05 10:46:30"}
{"level":"info","message":"[createDeviceSession] Suspicious device check:","service":"backend-api","timestamp":"2026-02-05 10:46:30"}
{"deviceId":"a8910f76-3ee1-4f1d-a280-f68292f2eabe","deviceType":"desktop","ipAddress":"127.0.0.1","level":"info","message":"[createDeviceSession] Creating device session with data:","platform":"eazseller","service":"backend-api","timestamp":"2026-02-05 10:46:30","userId":"6970b22eaba06cadfd4b8035","userModel":"Seller"}
{"buffer":{"data":[105,132,117,6,27,138,56,147,36,133,188,29],"type":"Buffer"},"level":"info","message":"[createDeviceSession] ‚úÖ Device session created successfully:","service":"backend-api","timestamp":"2026-02-05 10:46:30"}
{"cookieDomain":"not set","email":"benzflex00@gmail.com","ip":"127.0.0.1","level":"info","message":"[Seller Login] ‚úÖ Login successful","nodeEnv":"development","origin":"http://localhost:5174","sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","status":"active","timestamp":"2026-02-05T10:46:32.122Z"}
{"level":"info","message":"\u001b[0mPOST /api/v1/seller/login \u001b[32m200\u001b[0m 2886.022 ms - 348\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:32"}
{"level":"info","message":"[ActivityLog] Logged: LOGIN (OTHER); by seller (6970b22eaba06cadfd4b8035) - Risk: low - Platform: eazseller","service":"backend-api","timestamp":"2026-02-05 10:46:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 10:46:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1104.735 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 10:46:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[36m304\u001b[0m 1162.173 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:46:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 10:46:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:34"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/order/get-seller-orders","service":"backend-api","timestamp":"2026-02-05 10:46:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/order/get-seller-orders","service":"backend-api","timestamp":"2026-02-05 10:46:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 10:46:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 10:46:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:46:35"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 10:46:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:46:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 10:46:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 1330.848 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 1776.340 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:46:37"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 10:46:37"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 10:46:37","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 10:46:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/product \u001b[36m304\u001b[0m 2769.884 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[32m200\u001b[0m 3110.097 ms - 89\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[32m200\u001b[0m 4035.456 ms - 298\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/order/get-seller-orders \u001b[36m304\u001b[0m 5888.426 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 10:46:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[32m200\u001b[0m 1392.159 ms - 975\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 804.986 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1420.812 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1118.148 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1611.698 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:46:50"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/seller/payout/requests","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 10:46:50"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 10:46:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 10:46:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:46:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 10:46:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/payout/requests \u001b[32m200\u001b[0m 1013.778 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:46:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:47:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:47:06"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:47:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 984.546 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:47:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:47:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:47:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:47:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 755.594 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:47:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:48:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:48:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:48:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 770.261 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:48:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:48:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:48:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:48:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 757.727 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:48:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:49:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:49:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:49:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 909.997 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:49:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:49:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:49:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:49:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1485.424 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:49:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:50:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:50:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:50:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 752.745 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:50:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:50:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:50:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:50:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 752.861 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:50:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:51:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:51:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:51:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 830.706 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:51:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:51:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:51:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:51:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 814.280 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:51:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:52:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:52:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:52:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 855.162 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:52:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:52:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:52:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:52:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 977.597 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:52:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:53:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:53:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:53:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 890.955 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:53:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:53:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:53:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:53:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 836.521 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:53:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:54:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:54:18"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:54:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 750.641 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:54:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:54:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:54:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:54:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 818.520 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:54:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:55:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:55:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:55:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 746.822 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:55:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:55:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:55:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:55:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 838.110 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:55:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:56:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:56:21"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:56:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 748.459 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:56:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:56:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:56:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:56:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 752.339 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:56:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:57:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:57:23"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:57:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 887.103 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:57:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:57:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:57:54"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:57:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 775.713 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:57:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:58:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:58:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:58:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 849.082 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:58:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:58:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:58:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:58:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 817.214 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:58:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:59:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:59:26"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:59:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 770.283 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:59:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 10:59:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 10:59:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 10:59:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 754.751 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 10:59:58"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-05 11:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-05 11:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-05 11:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-05 11:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:00:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:00:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:00:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 859.252 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:00:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:00:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:00:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:00:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 872.446 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:00:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:01:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:01:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:01:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 908.726 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:01:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:02:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:02:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:02:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 759.479 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:02:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:02:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:02:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:02:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 878.704 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:02:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:03:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:03:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:03:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 796.454 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:03:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:03:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:03:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:03:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 872.687 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:03:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:04:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:04:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:04:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 748.372 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:04:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:04:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:04:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:04:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 771.431 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:04:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:05:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:05:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:05:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 862.803 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:05:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:05:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:05:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:05:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 811.679 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:05:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:06:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:06:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:06:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 760.691 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:06:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:06:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:06:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:06:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 762.039 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:06:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:07:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:07:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:07:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 864.322 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:07:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:07:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:07:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:07:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 819.280 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:07:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:08:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:08:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:08:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 850.069 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:08:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:08:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:08:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:08:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 758.908 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:08:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:09:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:09:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:09:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 780.012 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:09:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:09:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:09:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:09:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 814.326 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:09:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:10:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:10:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:10:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 762.512 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:10:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:10:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:10:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:10:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 751.829 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:10:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:11:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:11:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:11:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 817.245 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:11:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:11:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:11:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:11:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 923.280 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:11:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:12:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1040.225 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 11:12:14","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 803.414 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 11:12:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1103.845 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1403.445 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1663.877 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:15"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/seller/payout/requests","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:12:15"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 11:12:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/seller/payout/requests","service":"backend-api","timestamp":"2026-02-05 11:12:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:12:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:12:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/payout/requests \u001b[36m304\u001b[0m 1054.017 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:20"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:12:20"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 11:12:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 11:12:20"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:12:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:12:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:12:21"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:12:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:12:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:12:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:12:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 762.534 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1053.444 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1667.516 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:39"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:12:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:12:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:12:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:12:40"}
{"level":"info","message":"[createPaymentRequest] Pending balance update for seller 6970b22eaba06cadfd4b8035:","service":"backend-api","timestamp":"2026-02-05 11:12:42"}
{"level":"info","message":"  Total Revenue (Balance);: 34042.56 (UNCHANGED - not deducted)","service":"backend-api","timestamp":"2026-02-05 11:12:42"}
{"level":"info","message":"  Pending Balance: 0 + 500 = 500","service":"backend-api","timestamp":"2026-02-05 11:12:42"}
{"level":"info","message":"  Locked Balance: 0 (unchanged);","service":"backend-api","timestamp":"2026-02-05 11:12:42"}
{"level":"info","message":"  Available Balance: 34042.56 - 500 = 33542.56 (decreased due to pending withdrawal);","service":"backend-api","timestamp":"2026-02-05 11:12:42"}
{"level":"info","message":"[createPaymentRequest] ‚úÖ Verified save - Total Revenue (Balance);: 34042.56 (UNCHANGED)","service":"backend-api","timestamp":"2026-02-05 11:12:43"}
{"level":"info","message":"[createPaymentRequest] ‚úÖ Verified save - LockedBalance: 0, PendingBalance: 500, WithdrawableBalance: 33542.56","service":"backend-api","timestamp":"2026-02-05 11:12:43"}
{"level":"error","message":"[FinanceAudit] ‚ùå Error logging finance operation: safePath is not defined","service":"backend-api","stack":"ReferenceError: safePath is not defined\n    at exports.logFinanceOperation (/Users/mac/Desktop/Saiisai/backend/src/services/financeAuditService.js:65:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:396:7)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 11:12:44"}
{"level":"info","message":"[ResendClient] ‚úÖ Resend client configured","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Payment Request Submitted","timestamp":"2026-02-05 11:12:44","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"2ca91ce1-d35b-41c4-aa80-d2ed62267663","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 11:12:44","to":"benzflex00@gmail.com"}
{"level":"info","message":"Sending SMS to 244388190: Your payment request of GHS 500.00 has been received and is being processed.","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"info","message":"[NotificationService] üîî Creating payout notification for 3 active admins (out of 3 total with status 'active');","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 6798101470646250be061204:","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 11:12:44"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 67e6cf65532239f7086a239b","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 67e6cf65532239f7086a239b:","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 11:12:44"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 684ff1bc8118ac2be8defdc6","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 684ff1bc8118ac2be8defdc6:","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 11:12:44"}
{"level":"info","message":"[NotificationService] ‚úÖ Created 0 payout notifications for admins","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"info","message":"[Payment Request] Admin notification created for withdrawal 69847b291b8a38932485bf06","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"info","message":"\u001b[0mPOST /api/v1/paymentrequest \u001b[32m201\u001b[0m 5469.674 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:12:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:12:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:12:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:12:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 756.135 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 760.246 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:12:45"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:12:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:12:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:12:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:12:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 833.079 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:12:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 11:13:00","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance","service":"backend-api","timestamp":"2026-02-05 11:13:00"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 11:13:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:13:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:13:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1146.168 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:13:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:13:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:13:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/697605eb3206c0a57a1667cd/balance \u001b[32m200\u001b[0m 1448.370 ms - 527\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:13:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1477.115 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:13:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:19"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:13:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 11:13:19"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:13:20"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:13:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1047.070 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:13:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:23"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/69847b291b8a38932485bf06","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:13:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/69847b291b8a38932485bf06","service":"backend-api","timestamp":"2026-02-05 11:13:23"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:13:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:13:23"}
{"hasPaymentDetails":true,"id":"69847b291b8a38932485bf06","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 11:13:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/69847b291b8a38932485bf06 \u001b[32m200\u001b[0m 1047.235 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:13:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:29"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/69847b291b8a38932485bf06/approve","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:13:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/69847b291b8a38932485bf06/approve","service":"backend-api","timestamp":"2026-02-05 11:13:29"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:13:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:13:29"}
{"allFields":["approvedByAdmin","rejectedByAdmin","_id","seller","amount","currency","paymentMethod","paymentDetails","status","reversed","reverseReason","approvedAt","rejectedAt","paystackRecipientCode","paystackTransferId","paystackTransferCode","paystackReference","otpSessionStatus","requiresPin","pinSubmitted","withholdingTax","withholdingTaxRate","amountRequested","amountPaidToSeller","sellerBalanceBefore","sellerBalanceAfter","isActive","deactivatedAt","paymentDate","createdAt","auditHistory","__v"],"hasPaymentDetails":true,"id":"69847b291b8a38932485bf06","isPaymentRequest":true,"level":"info","message":"[approveWithdrawalRequest] Withdrawal request fields:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentDetailsKeys":["phone","network","accountName"],"paymentMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 11:13:30"}
{"hasPaymentDetails":true,"isPaymentRequest":true,"level":"info","message":"[approveWithdrawalRequest] Using payment details from request:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentDetailsKeys":["phone","network","accountName"],"paymentMethod":"mtn_momo","resolvedPaymentMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 11:13:31","withdrawalRequestFields":["approvedByAdmin","rejectedByAdmin","_id","seller","amount","currency","paymentMethod","paymentDetails","status","reversed","reverseReason","approvedAt","rejectedAt","paystackRecipientCode","paystackTransferId","paystackTransferCode","paystackReference","otpSessionStatus","requiresPin","pinSubmitted","withholdingTax","withholdingTaxRate","amountRequested","amountPaidToSeller","sellerBalanceBefore","sellerBalanceAfter","isActive","deactivatedAt","paymentDate","createdAt","auditHistory","__v"]}
{"bank_code":"MTN","level":"info","message":"[approveWithdrawalRequest] Mobile money recipient data from request:","network":"MTN","paymentMethod":"mtn_momo","phone":"0244388190","service":"backend-api","timestamp":"2026-02-05 11:13:31"}
{"level":"info","message":"[approveWithdrawalRequest] Created recipient from payment details:","paymentMethod":"mtn_momo","recipientCode":"RCP_4pe4283uh609l51","service":"backend-api","timestamp":"2026-02-05 11:13:31"}
{"amount":50000,"endpoint":"/transfer","level":"info","message":"üí≥ [PayoutService] Initiating Paystack transfer:","reason":"Payout for eazworld - Request #69847b291b8a38932485bf06","recipientCode":"RCP_4pe4283uh609l51","service":"backend-api","timestamp":"2026-02-05 11:13:31"}
{"fullResponse":"{\n  \"status\": true,\n  \"message\": \"Transfer requires OTP to continue\",\n  \"data\": {\n    \"transfersessionid\": [],\n    \"transfertrials\": [],\n    \"domain\": \"test\",\n    \"amount\": 50000,\n    \"currency\": \"GHS\",\n    \"reference\": \"ao5u8wcy0w0hs5atvw13\",\n    \"source\": \"balance\",\n    \"source_details\": null,\n    \"reason\": \"Payout for eazworld - Request #69847b291b8a38932485bf06\",\n    \"status\": \"otp\",\n    \"failures\": null,\n    \"transfer_code\": \"TRF_tu0gdsioywd8ytm6\",\n    \"titan_code\": null,\n    \"transferred_at\": null,\n    \"id\": 951578579,\n    \"integration\": 1205003,\n    \"request\": 1198013772,\n    \"recipient\": 116219070,\n    \"createdAt\": \"2026-02-05T11:13:33.000Z\",\n    \"updatedAt\": \"2026-02-05T11:13:33.000Z\"\n  }\n}","level":"info","message":"üí≥ [PayoutService] Paystack transfer initiated response:","requiresOtp":true,"service":"backend-api","status":true,"timestamp":"2026-02-05 11:13:33","transferCode":"TRF_tu0gdsioywd8ytm6","transferStatus":"otp"}
{"level":"info","message":"üîê [PayoutService] ‚ö†Ô∏è PAYSTACK WILL GENERATE AND SEND OTP AUTOMATICALLY","service":"backend-api","timestamp":"2026-02-05 11:13:33"}
{"level":"info","message":"üîê [PayoutService] Paystack automatically sends OTP to recipient phone/email when transfer requires OTP","service":"backend-api","timestamp":"2026-02-05 11:13:33"}
{"level":"info","message":"üîê [PayoutService] Our backend does NOT generate the OTP - Paystack handles it","service":"backend-api","timestamp":"2026-02-05 11:13:33"}
{"0":"o","1":"t","2":"p","level":"info","message":"üîê [PayoutService] Transfer status:","service":"backend-api","timestamp":"2026-02-05 11:13:33"}
{"0":"T","1":"R","10":"i","11":"o","12":"y","13":"w","14":"d","15":"8","16":"y","17":"t","18":"m","19":"6","2":"F","3":"_","4":"t","5":"u","6":"0","7":"g","8":"d","9":"s","level":"info","message":"üîê [PayoutService] Transfer code:","service":"backend-api","timestamp":"2026-02-05 11:13:33"}
{"level":"info","message":"üí≥ [approveWithdrawalRequest] Paystack transfer initiated:","service":"backend-api","status":"otp","timestamp":"2026-02-05 11:13:33","transferCode":"TRF_tu0gdsioywd8ytm6","transferData":{"amount":50000,"createdAt":"2026-02-05T11:13:33.000Z","currency":"GHS","domain":"test","failures":null,"id":951578579,"integration":1205003,"reason":"Payout for eazworld - Request #69847b291b8a38932485bf06","recipient":116219070,"reference":"ao5u8wcy0w0hs5atvw13","request":1198013772,"source":"balance","source_details":null,"status":"otp","titan_code":null,"transfer_code":"TRF_tu0gdsioywd8ytm6","transferred_at":null,"transfersessionid":[],"transfertrials":[],"updatedAt":"2026-02-05T11:13:33.000Z"}}
{"isMobileMoney":true,"level":"info","message":"üí≥ [approveWithdrawalRequest] Paystack transfer status analysis:","paystackStatus":"otp","requiresPin":true,"service":"backend-api","timestamp":"2026-02-05 11:13:33","willSetStatusToAwaitingOtp":true}
{"finalStatus":"awaiting_paystack_otp","level":"info","message":"üí≥ [approveWithdrawalRequest] Setting withdrawal status:","paystackStatus":"otp","reason":"Paystack status is \"otp\" - will await OTP","service":"backend-api","shouldAwaitOtp":true,"timestamp":"2026-02-05 11:13:33"}
{"level":"info","message":"[approveWithdrawalRequest] Created TaxCollection record: 69847b5d1b8a38932485bf5f, Amount: 15, Rate: 0.03","service":"backend-api","timestamp":"2026-02-05 11:13:33"}
{"level":"info","message":"[approveWithdrawalRequest] Balance after admin approval for seller 6970b22eaba06cadfd4b8035:","service":"backend-api","timestamp":"2026-02-05 11:13:35"}
{"level":"info","message":"  Total Revenue (Balance);: 34042.56 (unchanged - will deduct when OTP verified)","service":"backend-api","timestamp":"2026-02-05 11:13:35"}
{"level":"info","message":"  Pending Balance: 500 (unchanged - awaiting OTP verification);","service":"backend-api","timestamp":"2026-02-05 11:13:35"}
{"level":"info","message":"  Locked Balance: 0 (unchanged);","service":"backend-api","timestamp":"2026-02-05 11:13:35"}
{"level":"info","message":"  Available Balance: 33542.56 ‚Üí 33542.56 (recalculated);","service":"backend-api","timestamp":"2026-02-05 11:13:35"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Withdrawal Request Received - GH‚Çµ500.00 - Saiisai","timestamp":"2026-02-05 11:13:36","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"173dffde-2f71-45f9-a99b-6643174522e5","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 11:13:37","to":"benzflex00@gmail.com"}
{"level":"info","message":"[approveWithdrawalRequest] ‚úÖ Withdrawal request email sent to seller benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/69847b291b8a38932485bf06/approve \u001b[32m200\u001b[0m 7932.155 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/69847b291b8a38932485bf06","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/69847b291b8a38932485bf06","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 11:13:37","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 826.813 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 11:13:37"}
{"hasPaymentDetails":true,"id":"69847b291b8a38932485bf06","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 11:13:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:13:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:13:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/69847b291b8a38932485bf06 \u001b[32m200\u001b[0m 1076.643 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:13:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:13:38"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/69847b291b8a38932485bf06","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:13:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/69847b291b8a38932485bf06","service":"backend-api","timestamp":"2026-02-05 11:13:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1077.179 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:13:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1317.537 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:13:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:13:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:13:38"}
{"hasPaymentDetails":true,"id":"69847b291b8a38932485bf06","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 11:13:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/69847b291b8a38932485bf06 \u001b[36m304\u001b[0m 1006.629 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:13:39"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 11:21:40"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 11:21:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:29:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:29:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:29:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:29:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:29:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:29:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:29:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:29:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:29:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-05 11:29:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:29:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-05 11:29:34"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:29:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 11:29:39"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:29:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 11:29:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:29:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/related?limit=10 \u001b[32m200\u001b[0m 6289.304 ms - 344\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:29:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[32m200\u001b[0m 6912.314 ms - 999\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:29:41"}
{"level":"error","message":"[Recommendation] Error getting also bought products: Cannot read properties of undefined (reading 'toString')","service":"backend-api","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:79\n    at Array.map (<anonymous>)\n    at Object.getAlsoBoughtProducts (/Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/recommendationController.js:40:20","timestamp":"2026-02-05 11:29:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[32m200\u001b[0m 7601.167 ms - 221\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:29:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:29:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/ai-similar?limit=10 \u001b[32m200\u001b[0m 1322.392 ms - 362\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:29:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/also-bought?limit=10 \u001b[32m200\u001b[0m 1957.020 ms - 344\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:29:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 11:29:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:29:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:29:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:29:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 2033.578 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:29:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:29:44"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 11:29:44"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 11:29:44","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[32m200\u001b[0m 9943.001 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:29:44"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:29:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:29:44"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 11:29:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:29:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 10569.064 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:29:45"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:29:45"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 11:29:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 11:29:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:29:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:29:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[32m200\u001b[0m 2710.839 ms - 300\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:29:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 11:29:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 1402.096 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:29:46"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/69847b291b8a38932485bf06","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:29:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/69847b291b8a38932485bf06","service":"backend-api","timestamp":"2026-02-05 11:29:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[32m200\u001b[0m 2005.275 ms - 988\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:29:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:29:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:29:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 11:29:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[32m200\u001b[0m 12103.211 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:29:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:29:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1934.197 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:29:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:29:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 4889.380 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 2251.582 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:29:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 11:29:47"}
{"hasPaymentDetails":true,"id":"69847b291b8a38932485bf06","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 11:29:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/69847b291b8a38932485bf06 \u001b[36m304\u001b[0m 2172.987 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:29:48"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 11:29:48"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 11:29:48","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 11:29:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1346.564 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:29:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:41:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:41:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:41:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:41:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 11:41:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:41:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:41:23"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:41:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:41:23"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:41:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:41:24"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 11:41:24"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 11:41:24","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:41:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:41:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:41:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:41:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:41:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 759.684 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:41:24"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 11:41:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 823.302 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:41:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1074.372 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:41:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1301.139 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:41:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1598.309 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:41:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:41:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:41:50"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:41:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:41:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:41:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:41:51"}
{"level":"info","message":"\u001b[0mPOST /api/v1/paymentrequest \u001b[33m403\u001b[0m 904.104 ms - 339\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:41:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:41:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:41:54"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:41:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 732.330 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:41:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:42:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:42:06"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:42:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:42:06"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:42:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:42:06"}
{"level":"info","message":"\u001b[0mPOST /api/v1/paymentrequest \u001b[33m403\u001b[0m 749.889 ms - 339\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:42:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:42:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:42:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:42:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1087.049 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:42:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:42:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:42:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:42:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 836.175 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:42:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:43:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:43:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:43:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 799.252 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:43:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:43:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:43:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:43:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 737.031 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:43:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:44:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:44:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:44:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 780.447 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:44:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:44:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:44:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:45:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 786.576 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:45:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/users?page=1&limit=10&sort=createdAt:desc \u001b[32m200\u001b[0m 1171.924 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:45:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[32m200\u001b[0m 1524.886 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:45:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin?page=1&limit=10&sort=createdAt:desc \u001b[32m200\u001b[0m 1797.659 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:45:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/6970b22eaba06cadfd4b8035/balance","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/6970b22eaba06cadfd4b8035/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/6970b22eaba06cadfd4b8035/payout","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller/6970b22eaba06cadfd4b8035","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/seller","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/6970b22eaba06cadfd4b8035/balance","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/sellers/6970b22eaba06cadfd4b8035/payout","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/sellers/6970b22eaba06cadfd4b8035/payout","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:20"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/6970b22eaba06cadfd4b8035 \u001b[32m200\u001b[0m 1238.650 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/6970b22eaba06cadfd4b8035/balance \u001b[32m200\u001b[0m 1494.012 ms - 535\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller?page=1&limit=10&sort=createdAt:desc \u001b[36m304\u001b[0m 1486.890 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 11:45:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/sellers/6970b22eaba06cadfd4b8035/payout \u001b[32m200\u001b[0m 2017.779 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/[object%20Object] \u001b[33m400\u001b[0m 1096.634 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/users/[object%20Object]","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/[object%20Object] \u001b[33m400\u001b[0m 595.255 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:45:22"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:45:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:45:23"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T11:45:23.249Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 11:45:23"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","createdAt":"init","email":"init","lastLogin":"init","name":"init","password":"require","passwordChangedAt":"init","passwordConfirm":"require","role":"init","status":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"createdAt":true,"email":true,"lastLogin":true,"name":true,"passwordChangedAt":true,"role":true,"status":true,"updatedAt":true},"require":{"password":true,"passwordConfirm":true}}},"exclude":true,"selected":{"active":0,"lastActivity":0,"password":0},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"6798101470646250be061204","createdAt":"2025-01-27T23:00:20.031Z","email":"fekt@icloud.com","lastLogin":"2026-02-04T23:20:06.957Z","name":"umar faisal","passwordChangedAt":"2025-01-19T00:00:00.000Z","role":"admin","status":"active","updatedAt":"2026-02-05T11:45:23.249Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 11:45:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/6798101470646250be061204 \u001b[32m200\u001b[0m 1358.583 ms - 355\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:45:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:47:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:47:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:47:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:47:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:47:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 11:47:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:47:29"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:47:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:47:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:47:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:47:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:47:33"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 11:47:33"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 11:47:33","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 11:47:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:47:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 4561.187 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:47:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 4770.594 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:47:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 4978.169 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:47:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:47:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:47:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 6571.509 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:47:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:47:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:47:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 963.930 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:47:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:47:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:47:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:47:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[32m200\u001b[0m 1540.360 ms - 988\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:47:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:47:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:47:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:47:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:47:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:47:48"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Your Login Code - Saiisai","timestamp":"2026-02-05 11:47:50","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"e71257f9-38a2-4562-9b4e-59489869a6fc","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 11:47:52","to":"benzflex00@gmail.com"}
{"level":"info","message":"\u001b[0mPOST /api/v1/seller/send-verification-email \u001b[32m200\u001b[0m 4015.614 ms - 70\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:47:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:48:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:48:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:48:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 711.421 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:48:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:48:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:48:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:48:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:48:12"}
{"level":"info","message":"\u001b[0mPOST /api/v1/seller/verify-email \u001b[32m200\u001b[0m 5038.069 ms - 206\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:48:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:48:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:48:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[32m200\u001b[0m 1470.566 ms - 975\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:48:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:48:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:48:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 961.274 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:48:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:48:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:48:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:48:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 652.256 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:48:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:49:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:49:05"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:49:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 637.889 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:49:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:49:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:49:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:49:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 646.397 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:49:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:50:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:50:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:50:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 655.715 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:50:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:50:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:50:38"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 11:51:08"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 11:51:08"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 11:51:09"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 11:51:09"}
{"level":"error","message":"[Recommendation] Error getting also bought products: Cannot read properties of undefined (reading 'toString')","service":"backend-api","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:79\n    at Array.map (<anonymous>)\n    at Object.getAlsoBoughtProducts (/Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/recommendationController.js:40:20","timestamp":"2026-02-05 11:51:11"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:51:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/related?limit=10 \u001b[36m304\u001b[0m 37367.038 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:51:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:51:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 38199.192 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:51:13"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:51:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 38616.482 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:51:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 11:51:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 39096.549 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:51:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:51:14"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 11:51:14"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 11:51:14","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 39350.697 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:14"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 11:51:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[32m200\u001b[0m 1272.949 ms - 89\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[32m200\u001b[0m 1701.362 ms - 300\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/also-bought?limit=10 \u001b[36m304\u001b[0m 39869.965 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:51:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 3235.082 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:51:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:51:15"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:51:15"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 11:51:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 11:51:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:51:15"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:51:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:51:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:51:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:51:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 772.726 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[32m200\u001b[0m 1000.071 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[32m200\u001b[0m 2754.126 ms - 975\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[32m200\u001b[0m 1519.941 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:51:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:51:25"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:51:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:51:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:51:26"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:26"}
{"level":"info","message":"[createPaymentRequest] Pending balance update for seller 6970b22eaba06cadfd4b8035:","service":"backend-api","timestamp":"2026-02-05 11:51:28"}
{"level":"info","message":"  Total Revenue (Balance);: 34042.56 (UNCHANGED - not deducted)","service":"backend-api","timestamp":"2026-02-05 11:51:28"}
{"level":"info","message":"  Pending Balance: 500 + 1000 = 1500","service":"backend-api","timestamp":"2026-02-05 11:51:28"}
{"level":"info","message":"  Locked Balance: 0 (unchanged);","service":"backend-api","timestamp":"2026-02-05 11:51:28"}
{"level":"info","message":"  Available Balance: 33542.56 - 1000 = 32542.559999999998 (decreased due to pending withdrawal);","service":"backend-api","timestamp":"2026-02-05 11:51:28"}
{"level":"info","message":"[createPaymentRequest] ‚úÖ Verified save - Total Revenue (Balance);: 34042.56 (UNCHANGED)","service":"backend-api","timestamp":"2026-02-05 11:51:30"}
{"level":"info","message":"[createPaymentRequest] ‚úÖ Verified save - LockedBalance: 0, PendingBalance: 1500, WithdrawableBalance: 32542.559999999998","service":"backend-api","timestamp":"2026-02-05 11:51:30"}
{"level":"error","message":"[FinanceAudit] ‚ùå Error logging finance operation: safePath is not defined","service":"backend-api","stack":"ReferenceError: safePath is not defined\n    at exports.logFinanceOperation (/Users/mac/Desktop/Saiisai/backend/src/services/financeAuditService.js:65:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:396:7)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 11:51:30"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Payment Request Submitted","timestamp":"2026-02-05 11:51:30","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"cfb675e2-e970-461f-8fc7-dd0d21279ca6","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 11:51:31","to":"benzflex00@gmail.com"}
{"level":"info","message":"Sending SMS to 244388190: Your payment request of GHS 1000.00 has been received and is being processed.","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"info","message":"[NotificationService] üîî Creating payout notification for 3 active admins (out of 3 total with status 'active');","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 6798101470646250be061204:","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 11:51:31"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 67e6cf65532239f7086a239b","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 67e6cf65532239f7086a239b:","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 11:51:31"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 684ff1bc8118ac2be8defdc6","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 684ff1bc8118ac2be8defdc6:","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 11:51:31"}
{"level":"info","message":"[NotificationService] ‚úÖ Created 0 payout notifications for admins","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"info","message":"[Payment Request] Admin notification created for withdrawal 698484401b8a38932485c45d","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"info","message":"\u001b[0mPOST /api/v1/paymentrequest \u001b[32m201\u001b[0m 5713.738 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 1836.781 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:51:33"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:51:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 11:51:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:51:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 752.221 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 11:51:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 11:51:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:51:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1237.704 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:51:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:51:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:51:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:51:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 11:51:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:51:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:51:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 11:51:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/6970b22eaba06cadfd4b8035/balance","service":"backend-api","timestamp":"2026-02-05 11:51:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/seller/6970b22eaba06cadfd4b8035/balance","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 11:51:48","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1126.053 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1374.976 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/seller/6970b22eaba06cadfd4b8035/balance \u001b[32m200\u001b[0m 1373.223 ms - 557\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:51:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:51:53"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:51:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 11:51:53"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:51:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:51:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1175.796 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:51:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:52:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 11:52:00"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 11:52:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","service":"backend-api","timestamp":"2026-02-05 11:52:00"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 11:52:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 11:52:00"}
{"hasPaymentDetails":true,"id":"6983eb5280d3679b5e9d8aef","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 11:52:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef \u001b[32m200\u001b[0m 1207.153 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 11:52:01"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-05 12:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-05 12:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-05 12:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-05 12:00:00"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 12:02:15"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 12:02:17"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 12:02:17"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 12:02:17"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 12:02:17"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 12:02:17"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 12:02:20"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 12:02:20"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 12:02:20"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 12:02:20"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 12:02:20"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 12:02:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:05:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:05:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:05:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 12:05:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:05:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:05:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:05:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 12:05:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1077.097 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1283.279 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","service":"backend-api","timestamp":"2026-02-05 12:05:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 12:05:37","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 767.514 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1012.020 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"hasPaymentDetails":true,"id":"6983eb5280d3679b5e9d8aef","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef \u001b[36m304\u001b[0m 1020.683 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[32m200\u001b[0m 1270.952 ms - 988\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:05:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 12:05:38","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 748.340 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[32m200\u001b[0m 1516.882 ms - 321\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1021.118 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:05:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 788.486 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:05:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1037.089 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:05:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1541.816 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:05:39"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 12:20:34"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 12:20:34"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 12:20:45"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 12:20:45"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 12:24:35"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 12:24:37"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 12:24:37"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 12:24:37"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 12:24:37"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 12:24:37"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 12:24:39"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 12:24:39"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 12:24:39"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 12:24:39"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 12:24:39"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 12:24:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:27:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:27:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:27:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 12:27:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:27:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:27:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:27:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 12:27:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:27:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:27:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1096.185 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:27:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1302.346 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 12:27:09","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:27:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 793.211 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1053.365 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"hasPaymentDetails":true,"id":"6983eb5280d3679b5e9d8aef","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef \u001b[36m304\u001b[0m 1004.581 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[32m200\u001b[0m 1291.810 ms - 976\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 765.172 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1549.620 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 12:27:10","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 12:27:10"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 12:27:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1014.397 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:27:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:27:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:27:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:27:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:27:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:27:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 763.475 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:27:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1011.710 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:27:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1506.429 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:27:12"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 12:28:39"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 12:28:39"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 12:28:50"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 12:28:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:30:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:30:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:30:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 12:30:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:30:57"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:30:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:30:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 12:30:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1007.245 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:30:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:30:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:30:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:30:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:30:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:30:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 12:30:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:30:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:30:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:30:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:30:59"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:30:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:30:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 3143.073 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:30:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 2021.578 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 12:31:00","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 2353.403 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 2551.106 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 12:31:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:31:01"}
{"hasPaymentDetails":true,"id":"6983eb5280d3679b5e9d8aef","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 12:31:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef \u001b[36m304\u001b[0m 999.986 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:31:01"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:31:01"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 12:31:01"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 12:31:01","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 759.149 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:31:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 3318.396 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:31:01"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 12:31:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1019.985 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:31:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:31:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 838.874 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:31:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1248.741 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:31:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1757.667 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:31:03"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 12:35:23"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 12:35:23"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 12:35:35"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 12:35:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:37:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:37:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:37:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:37:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:37:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:37:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:37:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 12:37:09"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 12:37:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 12:37:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:37:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:37:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1282.651 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:37:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:37:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:37:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:37:11"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 12:37:11"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 12:37:11","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:37:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:37:11"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 12:37:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 2780.296 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:37:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 2785.258 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:37:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 3523.202 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:37:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 4365.030 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:37:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:37:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:37:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 4626.894 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:37:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:37:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:37:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:37:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 845.185 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:37:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:38:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:38:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:38:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 829.125 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:38:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:38:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:38:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:38:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 815.009 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:38:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:39:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:39:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:39:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 763.019 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:39:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:39:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:39:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:39:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 749.096 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:39:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:40:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:40:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:40:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 748.634 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:40:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:40:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:40:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:40:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 792.256 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:40:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:41:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:41:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:41:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 752.900 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:41:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:41:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:41:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:41:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 780.371 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:41:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:42:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:42:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:42:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 833.993 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:42:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:42:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:42:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:42:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:42:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:42:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 12:42:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:42:48"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 12:42:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 12:42:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:42:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 12:42:49","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 808.862 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 831.442 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1079.499 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1305.346 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:42:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1589.319 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:42:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1786.761 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:42:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:43:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:43:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:43:20"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 845.638 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:43:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:43:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:43:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:43:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 915.344 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:43:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:44:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:44:21"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:44:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 756.252 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:44:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:44:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:44:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:44:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 927.738 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:44:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:45:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:45:22"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:45:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 918.049 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:45:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:45:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:45:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:45:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 754.943 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:45:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:46:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:46:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:46:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 761.182 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:46:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:46:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:46:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:46:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 935.214 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:46:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:47:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:47:26"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:47:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 754.137 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:47:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:47:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:47:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:47:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 756.537 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:47:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:48:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:48:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:48:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 982.105 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:48:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:48:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:48:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:48:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 813.099 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:48:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:49:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:49:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:49:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 749.128 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:49:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:50:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:50:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:50:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 813.785 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:50:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:50:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:50:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:50:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 1121.269 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:50:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 12:51:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:51:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:51:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 753.070 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:51:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:51:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:51:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 12:51:21"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:51:21"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:51:21"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 12:51:21"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1416.436 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","service":"backend-api","timestamp":"2026-02-05 12:51:22"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:51:23"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:51:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:51:23"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:51:23"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 12:51:23"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 12:51:23","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 12:51:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 834.457 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:51:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1077.709 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:51:24"}
{"hasPaymentDetails":true,"id":"6983eb5280d3679b5e9d8aef","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 12:51:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef \u001b[36m304\u001b[0m 1084.188 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:51:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:52:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:52:53"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:52:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 12:52:53"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:52:53"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:52:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[36m304\u001b[0m 1040.769 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:52:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:52:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:52:58"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:52:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/698484401b8a38932485c45d","service":"backend-api","timestamp":"2026-02-05 12:52:58"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:52:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:52:58"}
{"hasPaymentDetails":true,"id":"698484401b8a38932485c45d","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 12:52:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/698484401b8a38932485c45d \u001b[32m200\u001b[0m 1146.487 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:52:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:53:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:53:05"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/approve","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:53:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/698484401b8a38932485c45d/approve","service":"backend-api","timestamp":"2026-02-05 12:53:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:53:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:53:06"}
{"allFields":["approvedByAdmin","rejectedByAdmin","_id","seller","amount","currency","paymentMethod","paymentDetails","status","reversed","reverseReason","approvedAt","rejectedAt","paystackRecipientCode","paystackTransferId","paystackTransferCode","paystackReference","otpSessionStatus","requiresPin","pinSubmitted","withholdingTax","withholdingTaxRate","amountRequested","amountPaidToSeller","sellerBalanceBefore","sellerBalanceAfter","isActive","deactivatedAt","paymentDate","createdAt","auditHistory","__v"],"hasPaymentDetails":true,"id":"698484401b8a38932485c45d","isPaymentRequest":true,"level":"info","message":"[approveWithdrawalRequest] Withdrawal request fields:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentDetailsKeys":["phone","network","accountName"],"paymentMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 12:53:07"}
{"hasPaymentDetails":true,"isPaymentRequest":true,"level":"info","message":"[approveWithdrawalRequest] Using payment details from request:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentDetailsKeys":["phone","network","accountName"],"paymentMethod":"mtn_momo","resolvedPaymentMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 12:53:07","withdrawalRequestFields":["approvedByAdmin","rejectedByAdmin","_id","seller","amount","currency","paymentMethod","paymentDetails","status","reversed","reverseReason","approvedAt","rejectedAt","paystackRecipientCode","paystackTransferId","paystackTransferCode","paystackReference","otpSessionStatus","requiresPin","pinSubmitted","withholdingTax","withholdingTaxRate","amountRequested","amountPaidToSeller","sellerBalanceBefore","sellerBalanceAfter","isActive","deactivatedAt","paymentDate","createdAt","auditHistory","__v"]}
{"bank_code":"MTN","level":"info","message":"[approveWithdrawalRequest] Mobile money recipient data from request:","network":"MTN","paymentMethod":"mtn_momo","phone":"0244388190","service":"backend-api","timestamp":"2026-02-05 12:53:07"}
{"level":"info","message":"[approveWithdrawalRequest] Created recipient from payment details:","paymentMethod":"mtn_momo","recipientCode":"RCP_4pe4283uh609l51","service":"backend-api","timestamp":"2026-02-05 12:53:09"}
{"amount":100000,"endpoint":"/transfer","level":"info","message":"üí≥ [PayoutService] Initiating Paystack transfer:","reason":"Payout for eazworld - Request #698484401b8a38932485c45d","recipientCode":"RCP_4pe4283uh609l51","service":"backend-api","timestamp":"2026-02-05 12:53:09"}
{"fullResponse":"{\n  \"status\": true,\n  \"message\": \"Transfer requires OTP to continue\",\n  \"data\": {\n    \"transfersessionid\": [],\n    \"transfertrials\": [],\n    \"domain\": \"test\",\n    \"amount\": 100000,\n    \"currency\": \"GHS\",\n    \"reference\": \"s0bmjqo0u0mko592xq08\",\n    \"source\": \"balance\",\n    \"source_details\": null,\n    \"reason\": \"Payout for eazworld - Request #698484401b8a38932485c45d\",\n    \"status\": \"otp\",\n    \"failures\": null,\n    \"transfer_code\": \"TRF_qkhzab0ps0gqjjni\",\n    \"titan_code\": null,\n    \"transferred_at\": null,\n    \"id\": 951614926,\n    \"integration\": 1205003,\n    \"request\": 1198054910,\n    \"recipient\": 116219070,\n    \"createdAt\": \"2026-02-05T12:53:10.000Z\",\n    \"updatedAt\": \"2026-02-05T12:53:10.000Z\"\n  }\n}","level":"info","message":"üí≥ [PayoutService] Paystack transfer initiated response:","requiresOtp":true,"service":"backend-api","status":true,"timestamp":"2026-02-05 12:53:10","transferCode":"TRF_qkhzab0ps0gqjjni","transferStatus":"otp"}
{"level":"info","message":"üîê [PayoutService] ‚ö†Ô∏è PAYSTACK WILL GENERATE AND SEND OTP AUTOMATICALLY","service":"backend-api","timestamp":"2026-02-05 12:53:10"}
{"level":"info","message":"üîê [PayoutService] Paystack automatically sends OTP to recipient phone/email when transfer requires OTP","service":"backend-api","timestamp":"2026-02-05 12:53:10"}
{"level":"info","message":"üîê [PayoutService] Our backend does NOT generate the OTP - Paystack handles it","service":"backend-api","timestamp":"2026-02-05 12:53:10"}
{"0":"o","1":"t","2":"p","level":"info","message":"üîê [PayoutService] Transfer status:","service":"backend-api","timestamp":"2026-02-05 12:53:10"}
{"0":"T","1":"R","10":"0","11":"p","12":"s","13":"0","14":"g","15":"q","16":"j","17":"j","18":"n","19":"i","2":"F","3":"_","4":"q","5":"k","6":"h","7":"z","8":"a","9":"b","level":"info","message":"üîê [PayoutService] Transfer code:","service":"backend-api","timestamp":"2026-02-05 12:53:10"}
{"level":"info","message":"üí≥ [approveWithdrawalRequest] Paystack transfer initiated:","service":"backend-api","status":"otp","timestamp":"2026-02-05 12:53:10","transferCode":"TRF_qkhzab0ps0gqjjni","transferData":{"amount":100000,"createdAt":"2026-02-05T12:53:10.000Z","currency":"GHS","domain":"test","failures":null,"id":951614926,"integration":1205003,"reason":"Payout for eazworld - Request #698484401b8a38932485c45d","recipient":116219070,"reference":"s0bmjqo0u0mko592xq08","request":1198054910,"source":"balance","source_details":null,"status":"otp","titan_code":null,"transfer_code":"TRF_qkhzab0ps0gqjjni","transferred_at":null,"transfersessionid":[],"transfertrials":[],"updatedAt":"2026-02-05T12:53:10.000Z"}}
{"isMobileMoney":true,"level":"info","message":"üí≥ [approveWithdrawalRequest] Paystack transfer status analysis:","paystackStatus":"otp","requiresPin":true,"service":"backend-api","timestamp":"2026-02-05 12:53:10","willSetStatusToAwaitingOtp":true}
{"finalStatus":"awaiting_paystack_otp","level":"info","message":"üí≥ [approveWithdrawalRequest] Setting withdrawal status:","paystackStatus":"otp","reason":"Paystack status is \"otp\" - will await OTP","service":"backend-api","shouldAwaitOtp":true,"timestamp":"2026-02-05 12:53:10"}
{"level":"info","message":"[approveWithdrawalRequest] Created TaxCollection record: 698492b70aed2d8514e21e45, Amount: 30, Rate: 0.03","service":"backend-api","timestamp":"2026-02-05 12:53:11"}
{"level":"info","message":"[approveWithdrawalRequest] Balance after admin approval for seller 6970b22eaba06cadfd4b8035:","service":"backend-api","timestamp":"2026-02-05 12:53:13"}
{"level":"info","message":"  Total Revenue (Balance);: 34042.56 (unchanged - will deduct when OTP verified)","service":"backend-api","timestamp":"2026-02-05 12:53:13"}
{"level":"info","message":"  Pending Balance: 1500 (unchanged - awaiting OTP verification);","service":"backend-api","timestamp":"2026-02-05 12:53:13"}
{"level":"info","message":"  Locked Balance: 0 (unchanged);","service":"backend-api","timestamp":"2026-02-05 12:53:13"}
{"level":"info","message":"  Available Balance: 32542.559999999998 ‚Üí 32542.559999999998 (recalculated);","service":"backend-api","timestamp":"2026-02-05 12:53:13"}
{"level":"info","message":"[ResendClient] ‚úÖ Resend client configured","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Withdrawal Request Received - GH‚Çµ1000.00 - Saiisai","timestamp":"2026-02-05 12:53:14","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"e98a5158-8cd2-458a-bff7-158e107df839","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 12:53:14","to":"benzflex00@gmail.com"}
{"level":"info","message":"[approveWithdrawalRequest] ‚úÖ Withdrawal request email sent to seller benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/698484401b8a38932485c45d/approve \u001b[32m200\u001b[0m 9578.161 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/698484401b8a38932485c45d","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 12:53:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:53:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:53:15"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:53:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:53:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 12:53:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:53:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 12:53:15"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 12:53:15"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 12:53:15","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 807.164 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:53:15"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 12:53:15"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:53:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:53:16"}
{"hasPaymentDetails":true,"id":"698484401b8a38932485c45d","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 12:53:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1122.723 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:53:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/698484401b8a38932485c45d \u001b[32m200\u001b[0m 1138.180 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:53:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:53:16"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:53:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/698484401b8a38932485c45d","service":"backend-api","timestamp":"2026-02-05 12:53:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1393.884 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:53:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:53:16"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:53:16"}
{"hasPaymentDetails":true,"id":"698484401b8a38932485c45d","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 12:53:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/698484401b8a38932485c45d \u001b[36m304\u001b[0m 1241.476 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:53:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:55:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:55:52"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:55:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 12:55:52"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:55:53"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:55:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1040.884 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:55:53"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 12:56:43"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 12:56:44"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 12:56:44"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 12:56:44"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 12:56:44"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 12:56:44"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 12:56:47"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 12:56:47"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 12:56:47"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 12:56:47"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 12:56:47"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 12:56:47"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 12:57:33"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 12:57:34"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 12:57:34"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 12:57:34"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 12:57:34"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 12:57:34"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 12:57:37"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 12:57:37"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 12:57:37"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 12:57:37"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 12:57:37"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 12:57:37"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 12:57:40"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 12:57:41"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 12:57:41"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 12:57:41"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 12:57:41"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 12:57:41"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 12:57:44"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 12:57:44"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 12:57:44"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 12:57:44"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 12:57:44"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 12:57:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:57:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 12:57:53"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 12:57:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 12:57:53"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 12:57:53"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 12:57:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[36m304\u001b[0m 1144.884 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 12:57:54"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-05 13:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-05 13:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-05 13:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-05 13:00:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:18"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:02:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/698484401b8a38932485c45d","service":"backend-api","timestamp":"2026-02-05 13:02:18"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:02:19"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:02:19"}
{"hasPaymentDetails":true,"id":"698484401b8a38932485c45d","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 13:02:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/698484401b8a38932485c45d \u001b[36m304\u001b[0m 1019.071 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:02:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 13:02:40"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:02:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:02:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 13:02:40"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1259.744 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 13:02:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:02:42"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:02:42"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 13:02:42"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 13:02:42","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:02:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:02:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 920.104 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:02:42"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 13:02:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1168.578 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:02:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[36m304\u001b[0m 1149.481 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:02:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:45"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:02:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","service":"backend-api","timestamp":"2026-02-05 13:02:45"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:02:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:02:45"}
{"hasPaymentDetails":true,"id":"6983eb5280d3679b5e9d8aef","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 13:02:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef \u001b[36m304\u001b[0m 1004.525 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:02:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:02:51"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/verify","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:02:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/verify","service":"backend-api","timestamp":"2026-02-05 13:02:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:02:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:02:52"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/verify \u001b[33m404\u001b[0m 830.642 ms - 397\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:02:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:03:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:03:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 13:03:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:03:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:03:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 13:03:50"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:03:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:03:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1386.342 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:03:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:03:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:03:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:03:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:03:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:03:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 13:03:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 13:03:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:03:51"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:03:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","service":"backend-api","timestamp":"2026-02-05 13:03:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:03:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:03:52"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 13:03:52"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 13:03:52","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:03:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:03:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 760.161 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:03:52"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 13:03:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1023.306 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:03:52"}
{"hasPaymentDetails":true,"id":"6983eb5280d3679b5e9d8aef","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 13:03:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef \u001b[36m304\u001b[0m 1021.307 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:03:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:04:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:04:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 13:04:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:04:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:04:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 13:04:12"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:04:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:04:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1287.786 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 13:04:13","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 749.397 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:04:13"}
{"hasPaymentDetails":true,"id":"6983eb5280d3679b5e9d8aef","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 13:04:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef \u001b[36m304\u001b[0m 1005.550 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:04:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1012.625 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:04:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:05:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:05:40"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:05:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/verify-otp","service":"backend-api","timestamp":"2026-02-05 13:05:40"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 13:05:41","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:05:41"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Finalizing transfer with OTP","service":"backend-api","timestamp":"2026-02-05 13:05:41","transferCode":"TRF_xygv8xtqd7g2ki75","withdrawalId":"6983eb5280d3679b5e9d8aef"}
{"level":"info","message":"[PayoutService] Finalizing transfer with OTP:","otpLength":6,"service":"backend-api","timestamp":"2026-02-05 13:05:41","transferCode":"TRF_xygv8xtqd7g2ki75"}
{"level":"error","message":"Request failed with status code 400","response":{"code":"unknown","message":"Transfer is not currently awaiting OTP","meta":{"nextStep":"Try again later"},"status":false,"type":"api_error"},"service":"backend-api","status":400,"timestamp":"2026-02-05 13:05:42"}
{"fieldErrors":null,"isOperational":true,"level":"error","message":"[verifyPaystackOtpForWithdrawal] Error: Paystack OTP error: Transfer is not currently awaiting OTP","service":"backend-api","stack":"Error: Paystack OTP error: Transfer is not currently awaiting OTP\n    at exports.finalizeTransferOtp (/Users/mac/Desktop/Saiisai/backend/src/services/payoutService.js:367:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/admin/payoutController.js:151:30","status":"fail","statusCode":400,"timestamp":"2026-02-05 13:05:42"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/verify-otp \u001b[33m400\u001b[0m 1687.395 ms - 572\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:05:42"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 13:06:52"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 13:06:54"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 13:06:54"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 13:06:54"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 13:06:54"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 13:06:54"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 13:06:56"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 13:06:56"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 13:06:56"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 13:06:56"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 13:06:56"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 13:06:56"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 13:06:59"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 13:07:00"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 13:07:00"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 13:07:00"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 13:07:00"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 13:07:00"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 13:07:03"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 13:07:03"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 13:07:03"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 13:07:03"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 13:07:03"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 13:07:03"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 13:07:12"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 13:07:13"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 13:07:13"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 13:07:13"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 13:07:13"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 13:07:13"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 13:07:16"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 13:07:16"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 13:07:16"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 13:07:16"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 13:07:16"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 13:07:16"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 13:07:21"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 13:07:22"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 13:07:22"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 13:07:22"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 13:07:22"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 13:07:22"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 13:07:25"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 13:07:25"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 13:07:25"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 13:07:25"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 13:07:25"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 13:07:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:07:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:07:26"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:07:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","service":"backend-api","timestamp":"2026-02-05 13:07:26"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:07:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:07:31"}
{"hasPaymentDetails":true,"id":"6983eb5280d3679b5e9d8aef","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 13:07:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef \u001b[36m304\u001b[0m 5758.942 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:07:32"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-05 13:07:57"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 13:07:59"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 13:08:00"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 13:08:00"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 13:08:00"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 13:08:00"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 13:08:00"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 13:08:03"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 13:08:03"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 13:08:03"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 13:08:03"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 13:08:03"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 13:08:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:08:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:08:05"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/resend-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:08:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/resend-otp","service":"backend-api","timestamp":"2026-02-05 13:08:05"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:08:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:08:09"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[resendPaystackOtpForWithdrawal] Resending OTP","service":"backend-api","timestamp":"2026-02-05 13:08:10","transferCode":"TRF_xygv8xtqd7g2ki75","withdrawalId":"6983eb5280d3679b5e9d8aef"}
{"level":"info","message":"[PayoutService] Resending OTP for transfer:","service":"backend-api","timestamp":"2026-02-05 13:08:10","transferCode":"TRF_xygv8xtqd7g2ki75"}
{"level":"error","message":"Request failed with status code 400","response":{"code":"invalid_params","message":"Reason is invalid. ['disable_otp' or 'transfer']","meta":{"nextStep":"Ensure that the value(s) you're passing are valid."},"status":false,"type":"validation_error"},"service":"backend-api","status":400,"timestamp":"2026-02-05 13:08:11"}
{"fieldErrors":null,"isOperational":true,"level":"error","message":"[resendPaystackOtpForWithdrawal] Error: Paystack resend OTP error: Reason is invalid. ['disable_otp' or 'transfer']","service":"backend-api","stack":"Error: Paystack resend OTP error: Reason is invalid. ['disable_otp' or 'transfer']\n    at exports.resendTransferOtp (/Users/mac/Desktop/Saiisai/backend/src/services/payoutService.js:415:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/admin/payoutController.js:284:30","status":"fail","statusCode":400,"timestamp":"2026-02-05 13:08:11"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/resend-otp \u001b[33m400\u001b[0m 6278.496 ms - 604\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:08:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:08:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:08:49"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:08:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 13:08:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:08:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:08:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[36m304\u001b[0m 1014.683 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:08:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:08:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:08:55"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:08:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/698484401b8a38932485c45d","service":"backend-api","timestamp":"2026-02-05 13:08:55"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:08:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:08:56"}
{"hasPaymentDetails":true,"id":"698484401b8a38932485c45d","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 13:08:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/698484401b8a38932485c45d \u001b[36m304\u001b[0m 1009.770 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:08:56"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 13:08:58"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 13:08:59"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 13:08:59"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 13:08:59"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 13:09:00"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 13:09:00"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 13:09:02"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 13:09:02"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 13:09:02"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 13:09:02"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 13:09:02"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 13:09:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:09:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:09:23"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:09:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp","service":"backend-api","timestamp":"2026-02-05 13:09:23"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 13:09:24","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:09:24"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Finalizing transfer with OTP","service":"backend-api","timestamp":"2026-02-05 13:09:24","transferCode":"TRF_qkhzab0ps0gqjjni","withdrawalId":"698484401b8a38932485c45d"}
{"level":"info","message":"[PayoutService] Finalizing transfer with OTP:","otpLength":6,"service":"backend-api","timestamp":"2026-02-05 13:09:24","transferCode":"TRF_qkhzab0ps0gqjjni"}
{"level":"error","message":"Request failed with status code 400","response":{"code":"unknown","message":"OTP could not be verified","meta":{"nextStep":"Try again later"},"status":false,"type":"api_error"},"service":"backend-api","status":400,"timestamp":"2026-02-05 13:09:24"}
{"fieldErrors":null,"isOperational":true,"level":"error","message":"[verifyPaystackOtpForWithdrawal] Error: Paystack OTP error: OTP could not be verified","service":"backend-api","stack":"Error: Paystack OTP error: OTP could not be verified\n    at exports.finalizeTransferOtp (/Users/mac/Desktop/Saiisai/backend/src/services/payoutService.js:367:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/admin/payoutController.js:151:30","status":"fail","statusCode":400,"timestamp":"2026-02-05 13:09:25"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp \u001b[33m400\u001b[0m 1603.400 ms - 546\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:09:25"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-05 13:10:14"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 13:10:17"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 13:10:17"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 13:10:17"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 13:10:17"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 13:10:18"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 13:10:18"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 13:10:20"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 13:10:20"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 13:10:20"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 13:10:20"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 13:10:20"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 13:10:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:10:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:10:27"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:10:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp","service":"backend-api","timestamp":"2026-02-05 13:10:27"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:10:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:10:28"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[resendPaystackOtpForWithdrawal] Resending OTP","service":"backend-api","timestamp":"2026-02-05 13:10:28","transferCode":"TRF_qkhzab0ps0gqjjni","withdrawalId":"698484401b8a38932485c45d"}
{"level":"info","message":"[PayoutService] Resending OTP for transfer:","service":"backend-api","timestamp":"2026-02-05 13:10:28","transferCode":"TRF_qkhzab0ps0gqjjni"}
{"_message":"AdminActionLog validation failed","errors":{"actionType":{"kind":"enum","message":"`WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","name":"ValidatorError","path":"actionType","properties":{"enumValues":["WITHDRAWAL_APPROVED","WITHDRAWAL_REJECTED","PAYOUT_VERIFICATION_APPROVED","PAYOUT_VERIFICATION_REJECTED"],"length":30,"message":"`WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","path":"actionType","type":"enum","value":"WITHDRAWAL_RESEND_PAYSTACK_OTP"},"value":"WITHDRAWAL_RESEND_PAYSTACK_OTP"},"sellerId":{"kind":"required","message":"Path `sellerId` is required.","name":"ValidatorError","path":"sellerId","properties":{"message":"Path `sellerId` is required.","path":"sellerId","type":"required"}}},"level":"error","message":"[resendPaystackOtpForWithdrawal] Error: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","service":"backend-api","stack":"ValidationError: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.\n    at Document.invalidate (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3362:32)\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3123:17\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2026-02-05 13:10:29"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp \u001b[31m500\u001b[0m 1972.298 ms - 400\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:10:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:12:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:12:20"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:12:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp","service":"backend-api","timestamp":"2026-02-05 13:12:20"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:12:20"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:12:20"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[resendPaystackOtpForWithdrawal] Resending OTP","service":"backend-api","timestamp":"2026-02-05 13:12:21","transferCode":"TRF_qkhzab0ps0gqjjni","withdrawalId":"698484401b8a38932485c45d"}
{"level":"info","message":"[PayoutService] Resending OTP for transfer:","service":"backend-api","timestamp":"2026-02-05 13:12:21","transferCode":"TRF_qkhzab0ps0gqjjni"}
{"_message":"AdminActionLog validation failed","errors":{"actionType":{"kind":"enum","message":"`WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","name":"ValidatorError","path":"actionType","properties":{"enumValues":["WITHDRAWAL_APPROVED","WITHDRAWAL_REJECTED","PAYOUT_VERIFICATION_APPROVED","PAYOUT_VERIFICATION_REJECTED"],"length":30,"message":"`WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","path":"actionType","type":"enum","value":"WITHDRAWAL_RESEND_PAYSTACK_OTP"},"value":"WITHDRAWAL_RESEND_PAYSTACK_OTP"},"sellerId":{"kind":"required","message":"Path `sellerId` is required.","name":"ValidatorError","path":"sellerId","properties":{"message":"Path `sellerId` is required.","path":"sellerId","type":"required"}}},"level":"error","message":"[resendPaystackOtpForWithdrawal] Error: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","service":"backend-api","stack":"ValidationError: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.\n    at Document.invalidate (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3362:32)\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3123:17\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2026-02-05 13:12:22"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp \u001b[31m500\u001b[0m 1792.171 ms - 400\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:12:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:12:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 13:12:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:12:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:12:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 13:12:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:12:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:12:30"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 13:12:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 13:12:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:12:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 13:12:31","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 784.861 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 781.900 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1025.998 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:12:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1316.144 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:12:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1550.333 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:12:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[32m200\u001b[0m 1555.169 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:12:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:12:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:12:39"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 13:12:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 13:12:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:12:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:12:40"}
{"level":"info","message":"[createPaymentRequest] Pending balance update for seller 6970b22eaba06cadfd4b8035:","service":"backend-api","timestamp":"2026-02-05 13:12:42"}
{"level":"info","message":"  Total Revenue (Balance);: 34042.56 (UNCHANGED - not deducted)","service":"backend-api","timestamp":"2026-02-05 13:12:42"}
{"level":"info","message":"  Pending Balance: 1500 + 199.98 = 1699.98","service":"backend-api","timestamp":"2026-02-05 13:12:42"}
{"level":"info","message":"  Locked Balance: 0 (unchanged);","service":"backend-api","timestamp":"2026-02-05 13:12:42"}
{"level":"info","message":"  Available Balance: 32542.559999999998 - 199.98 = 32342.579999999998 (decreased due to pending withdrawal);","service":"backend-api","timestamp":"2026-02-05 13:12:42"}
{"level":"info","message":"[createPaymentRequest] ‚úÖ Verified save - Total Revenue (Balance);: 34042.56 (UNCHANGED)","service":"backend-api","timestamp":"2026-02-05 13:12:44"}
{"level":"info","message":"[createPaymentRequest] ‚úÖ Verified save - LockedBalance: 0, PendingBalance: 1699.98, WithdrawableBalance: 32342.579999999998","service":"backend-api","timestamp":"2026-02-05 13:12:44"}
{"level":"error","message":"[FinanceAudit] ‚ùå Error logging finance operation: safePath is not defined","service":"backend-api","stack":"ReferenceError: safePath is not defined\n    at exports.logFinanceOperation (/Users/mac/Desktop/Saiisai/backend/src/services/financeAuditService.js:65:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:396:7)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 13:12:44"}
{"level":"info","message":"[ResendClient] ‚úÖ Resend client configured","service":"backend-api","timestamp":"2026-02-05 13:12:44"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Payment Request Submitted","timestamp":"2026-02-05 13:12:44","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"38b95a5e-f630-480d-8916-e7dfd9b6539a","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 13:12:45","to":"benzflex00@gmail.com"}
{"level":"info","message":"Sending SMS to 244388190: Your payment request of GHS 199.98 has been received and is being processed.","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"level":"info","message":"[NotificationService] üîî Creating payout notification for 3 active admins (out of 3 total with status 'active');","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 6798101470646250be061204:","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 13:12:45"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 67e6cf65532239f7086a239b","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 67e6cf65532239f7086a239b:","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 13:12:45"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 684ff1bc8118ac2be8defdc6","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 684ff1bc8118ac2be8defdc6:","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 13:12:45"}
{"level":"info","message":"[NotificationService] ‚úÖ Created 0 payout notifications for admins","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"level":"info","message":"[Payment Request] Admin notification created for withdrawal 6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"level":"info","message":"\u001b[0mPOST /api/v1/paymentrequest \u001b[32m201\u001b[0m 5914.361 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 13:12:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:12:46"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:12:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 818.158 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:12:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:12:46"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 13:12:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 13:12:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:12:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:12:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 918.117 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:12:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:12:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:12:51"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:12:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 13:12:51"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:12:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:12:52"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1337.087 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:12:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:12:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:12:58"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:12:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 13:12:58"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:12:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:12:58"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 13:12:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[32m200\u001b[0m 1084.430 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:12:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:03"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/approve","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:13:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/approve","service":"backend-api","timestamp":"2026-02-05 13:13:03"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:13:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:13:04"}
{"allFields":["approvedByAdmin","rejectedByAdmin","_id","seller","amount","currency","paymentMethod","paymentDetails","status","reversed","reverseReason","approvedAt","rejectedAt","paystackRecipientCode","paystackTransferId","paystackTransferCode","paystackReference","otpSessionStatus","requiresPin","pinSubmitted","withholdingTax","withholdingTaxRate","amountRequested","amountPaidToSeller","sellerBalanceBefore","sellerBalanceAfter","isActive","deactivatedAt","paymentDate","createdAt","auditHistory","__v"],"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","isPaymentRequest":true,"level":"info","message":"[approveWithdrawalRequest] Withdrawal request fields:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentDetailsKeys":["phone","network","accountName"],"paymentMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 13:13:04"}
{"hasPaymentDetails":true,"isPaymentRequest":true,"level":"info","message":"[approveWithdrawalRequest] Using payment details from request:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentDetailsKeys":["phone","network","accountName"],"paymentMethod":"mtn_momo","resolvedPaymentMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 13:13:05","withdrawalRequestFields":["approvedByAdmin","rejectedByAdmin","_id","seller","amount","currency","paymentMethod","paymentDetails","status","reversed","reverseReason","approvedAt","rejectedAt","paystackRecipientCode","paystackTransferId","paystackTransferCode","paystackReference","otpSessionStatus","requiresPin","pinSubmitted","withholdingTax","withholdingTaxRate","amountRequested","amountPaidToSeller","sellerBalanceBefore","sellerBalanceAfter","isActive","deactivatedAt","paymentDate","createdAt","auditHistory","__v"]}
{"bank_code":"MTN","level":"info","message":"[approveWithdrawalRequest] Mobile money recipient data from request:","network":"MTN","paymentMethod":"mtn_momo","phone":"0244388190","service":"backend-api","timestamp":"2026-02-05 13:13:05"}
{"level":"info","message":"[approveWithdrawalRequest] Created recipient from payment details:","paymentMethod":"mtn_momo","recipientCode":"RCP_4pe4283uh609l51","service":"backend-api","timestamp":"2026-02-05 13:13:05"}
{"amount":19998,"endpoint":"/transfer","level":"info","message":"üí≥ [PayoutService] Initiating Paystack transfer:","reason":"Payout for eazworld - Request #6984974a6edee9cfb5b6aeb7","recipientCode":"RCP_4pe4283uh609l51","service":"backend-api","timestamp":"2026-02-05 13:13:05"}
{"fullResponse":"{\n  \"status\": true,\n  \"message\": \"Transfer requires OTP to continue\",\n  \"data\": {\n    \"transfersessionid\": [],\n    \"transfertrials\": [],\n    \"domain\": \"test\",\n    \"amount\": 19998,\n    \"currency\": \"GHS\",\n    \"reference\": \"eaers55jh818vzsyq9cv\",\n    \"source\": \"balance\",\n    \"source_details\": null,\n    \"reason\": \"Payout for eazworld - Request #6984974a6edee9cfb5b6aeb7\",\n    \"status\": \"otp\",\n    \"failures\": null,\n    \"transfer_code\": \"TRF_19t7gmw4uxxcrojw\",\n    \"titan_code\": null,\n    \"transferred_at\": null,\n    \"id\": 951621630,\n    \"integration\": 1205003,\n    \"request\": 1198062766,\n    \"recipient\": 116219070,\n    \"createdAt\": \"2026-02-05T13:13:06.000Z\",\n    \"updatedAt\": \"2026-02-05T13:13:06.000Z\"\n  }\n}","level":"info","message":"üí≥ [PayoutService] Paystack transfer initiated response:","requiresOtp":true,"service":"backend-api","status":true,"timestamp":"2026-02-05 13:13:06","transferCode":"TRF_19t7gmw4uxxcrojw","transferStatus":"otp"}
{"level":"info","message":"üîê [PayoutService] ‚ö†Ô∏è PAYSTACK WILL GENERATE AND SEND OTP AUTOMATICALLY","service":"backend-api","timestamp":"2026-02-05 13:13:06"}
{"level":"info","message":"üîê [PayoutService] Paystack automatically sends OTP to recipient phone/email when transfer requires OTP","service":"backend-api","timestamp":"2026-02-05 13:13:06"}
{"level":"info","message":"üîê [PayoutService] Our backend does NOT generate the OTP - Paystack handles it","service":"backend-api","timestamp":"2026-02-05 13:13:06"}
{"0":"o","1":"t","2":"p","level":"info","message":"üîê [PayoutService] Transfer status:","service":"backend-api","timestamp":"2026-02-05 13:13:06"}
{"0":"T","1":"R","10":"w","11":"4","12":"u","13":"x","14":"x","15":"c","16":"r","17":"o","18":"j","19":"w","2":"F","3":"_","4":"1","5":"9","6":"t","7":"7","8":"g","9":"m","level":"info","message":"üîê [PayoutService] Transfer code:","service":"backend-api","timestamp":"2026-02-05 13:13:06"}
{"level":"info","message":"üí≥ [approveWithdrawalRequest] Paystack transfer initiated:","service":"backend-api","status":"otp","timestamp":"2026-02-05 13:13:06","transferCode":"TRF_19t7gmw4uxxcrojw","transferData":{"amount":19998,"createdAt":"2026-02-05T13:13:06.000Z","currency":"GHS","domain":"test","failures":null,"id":951621630,"integration":1205003,"reason":"Payout for eazworld - Request #6984974a6edee9cfb5b6aeb7","recipient":116219070,"reference":"eaers55jh818vzsyq9cv","request":1198062766,"source":"balance","source_details":null,"status":"otp","titan_code":null,"transfer_code":"TRF_19t7gmw4uxxcrojw","transferred_at":null,"transfersessionid":[],"transfertrials":[],"updatedAt":"2026-02-05T13:13:06.000Z"}}
{"isMobileMoney":true,"level":"info","message":"üí≥ [approveWithdrawalRequest] Paystack transfer status analysis:","paystackStatus":"otp","requiresPin":true,"service":"backend-api","timestamp":"2026-02-05 13:13:06","willSetStatusToAwaitingOtp":true}
{"finalStatus":"awaiting_paystack_otp","level":"info","message":"üí≥ [approveWithdrawalRequest] Setting withdrawal status:","paystackStatus":"otp","reason":"Paystack status is \"otp\" - will await OTP","service":"backend-api","shouldAwaitOtp":true,"timestamp":"2026-02-05 13:13:06"}
{"level":"info","message":"[approveWithdrawalRequest] Created TaxCollection record: 698497626edee9cfb5b6aef1, Amount: 6, Rate: 0.03","service":"backend-api","timestamp":"2026-02-05 13:13:07"}
{"level":"info","message":"[approveWithdrawalRequest] Balance after admin approval for seller 6970b22eaba06cadfd4b8035:","service":"backend-api","timestamp":"2026-02-05 13:13:09"}
{"level":"info","message":"  Total Revenue (Balance);: 34042.56 (unchanged - will deduct when OTP verified)","service":"backend-api","timestamp":"2026-02-05 13:13:09"}
{"level":"info","message":"  Pending Balance: 1699.98 (unchanged - awaiting OTP verification);","service":"backend-api","timestamp":"2026-02-05 13:13:09"}
{"level":"info","message":"  Locked Balance: 0 (unchanged);","service":"backend-api","timestamp":"2026-02-05 13:13:09"}
{"level":"info","message":"  Available Balance: 32342.579999999998 ‚Üí 32342.579999999998 (recalculated);","service":"backend-api","timestamp":"2026-02-05 13:13:09"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Withdrawal Request Received - GH‚Çµ199.98 - Saiisai","timestamp":"2026-02-05 13:13:10","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"414b6551-d8db-4de4-8446-561a1d0b5148","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 13:13:10","to":"benzflex00@gmail.com"}
{"level":"info","message":"[approveWithdrawalRequest] ‚úÖ Withdrawal request email sent to seller benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/approve \u001b[32m200\u001b[0m 7123.000 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 13:13:10"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 13:13:11","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 854.877 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1215.699 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[32m200\u001b[0m 1234.206 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 13:13:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1628.244 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:13:12"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:13:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:13:12"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 13:13:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[36m304\u001b[0m 1323.411 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:13:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:13:31"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:13:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","service":"backend-api","timestamp":"2026-02-05 13:13:31"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 13:13:31","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:13:31"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Finalizing transfer with OTP","service":"backend-api","timestamp":"2026-02-05 13:13:32","transferCode":"TRF_19t7gmw4uxxcrojw","withdrawalId":"6984974a6edee9cfb5b6aeb7"}
{"level":"info","message":"[PayoutService] Finalizing transfer with OTP:","otpLength":6,"service":"backend-api","timestamp":"2026-02-05 13:13:32","transferCode":"TRF_19t7gmw4uxxcrojw"}
{"hasData":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack finalize_transfer result:","service":"backend-api","timestamp":"2026-02-05 13:13:32","transferStatus":"success"}
{"_message":"AdminActionLog validation failed","errors":{"actionType":{"kind":"enum","message":"`WITHDRAWAL_VERIFY_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","name":"ValidatorError","path":"actionType","properties":{"enumValues":["WITHDRAWAL_APPROVED","WITHDRAWAL_REJECTED","PAYOUT_VERIFICATION_APPROVED","PAYOUT_VERIFICATION_REJECTED"],"length":30,"message":"`WITHDRAWAL_VERIFY_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","path":"actionType","type":"enum","value":"WITHDRAWAL_VERIFY_PAYSTACK_OTP"},"value":"WITHDRAWAL_VERIFY_PAYSTACK_OTP"},"sellerId":{"kind":"required","message":"Path `sellerId` is required.","name":"ValidatorError","path":"sellerId","properties":{"message":"Path `sellerId` is required.","path":"sellerId","type":"required"}}},"level":"error","message":"[verifyPaystackOtpForWithdrawal] Error: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_VERIFY_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","service":"backend-api","stack":"ValidationError: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_VERIFY_PAYSTACK_OTP` is not a valid enum value for path `actionType`.\n    at Document.invalidate (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3362:32)\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3123:17\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2026-02-05 13:13:33"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp \u001b[31m500\u001b[0m 2130.750 ms - 400\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:13:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:14:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:14:03"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:14:03"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","service":"backend-api","timestamp":"2026-02-05 13:14:03"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 13:14:03","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:14:03"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Finalizing transfer with OTP","service":"backend-api","timestamp":"2026-02-05 13:14:04","transferCode":"TRF_19t7gmw4uxxcrojw","withdrawalId":"6984974a6edee9cfb5b6aeb7"}
{"level":"info","message":"[PayoutService] Finalizing transfer with OTP:","otpLength":6,"service":"backend-api","timestamp":"2026-02-05 13:14:04","transferCode":"TRF_19t7gmw4uxxcrojw"}
{"level":"error","message":"Request failed with status code 400","response":{"code":"unknown","message":"Transfer is not currently awaiting OTP","meta":{"nextStep":"Try again later"},"status":false,"type":"api_error"},"service":"backend-api","status":400,"timestamp":"2026-02-05 13:14:04"}
{"fieldErrors":null,"isOperational":true,"level":"error","message":"[verifyPaystackOtpForWithdrawal] Error: Paystack OTP error: Transfer is not currently awaiting OTP","service":"backend-api","stack":"Error: Paystack OTP error: Transfer is not currently awaiting OTP\n    at exports.finalizeTransferOtp (/Users/mac/Desktop/Saiisai/backend/src/services/payoutService.js:367:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/admin/payoutController.js:151:30","status":"fail","statusCode":400,"timestamp":"2026-02-05 13:14:04"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp \u001b[33m400\u001b[0m 1562.736 ms - 572\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:14:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:14:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:14:19"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/resend-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:14:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/resend-otp","service":"backend-api","timestamp":"2026-02-05 13:14:19"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:14:19"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:14:19"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[resendPaystackOtpForWithdrawal] Resending OTP","service":"backend-api","timestamp":"2026-02-05 13:14:19","transferCode":"TRF_19t7gmw4uxxcrojw","withdrawalId":"6984974a6edee9cfb5b6aeb7"}
{"level":"info","message":"[PayoutService] Resending OTP for transfer:","service":"backend-api","timestamp":"2026-02-05 13:14:19","transferCode":"TRF_19t7gmw4uxxcrojw"}
{"_message":"AdminActionLog validation failed","errors":{"actionType":{"kind":"enum","message":"`WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","name":"ValidatorError","path":"actionType","properties":{"enumValues":["WITHDRAWAL_APPROVED","WITHDRAWAL_REJECTED","PAYOUT_VERIFICATION_APPROVED","PAYOUT_VERIFICATION_REJECTED"],"length":30,"message":"`WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","path":"actionType","type":"enum","value":"WITHDRAWAL_RESEND_PAYSTACK_OTP"},"value":"WITHDRAWAL_RESEND_PAYSTACK_OTP"},"sellerId":{"kind":"required","message":"Path `sellerId` is required.","name":"ValidatorError","path":"sellerId","properties":{"message":"Path `sellerId` is required.","path":"sellerId","type":"required"}}},"level":"error","message":"[resendPaystackOtpForWithdrawal] Error: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","service":"backend-api","stack":"ValidationError: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.\n    at Document.invalidate (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3362:32)\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3123:17\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2026-02-05 13:14:20"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/resend-otp \u001b[31m500\u001b[0m 1643.769 ms - 400\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:14:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:14:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:14:49"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:14:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify","service":"backend-api","timestamp":"2026-02-05 13:14:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:14:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:14:49"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify \u001b[33m404\u001b[0m 769.324 ms - 397\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:14:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:18:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:18:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:18:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 13:18:53"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:18:54"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:18:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:18:54"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 13:18:54"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:18:54"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:18:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1158.669 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:18:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1401.348 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:18:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 13:18:55","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 751.512 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 13:18:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1007.526 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1257.829 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[32m200\u001b[0m 1505.581 ms - 324\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 13:18:56","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 754.313 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 13:18:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1008.671 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:18:57"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 13:18:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[36m304\u001b[0m 1010.128 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:18:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:18:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:18:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:18:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 13:18:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 13:18:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 750.834 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:18:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1173.450 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:18:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[32m200\u001b[0m 1516.777 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 13:18:58"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 13:47:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 14:10:27"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 14:10:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 14:10:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 14:10:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 14:10:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 14:10:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 14:10:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 14:10:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 4170.006 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 14:10:32"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 14:10:32"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 14:10:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 14:10:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 14:10:32"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 14:10:32"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 14:10:32"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 14:10:32","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 14:10:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 4964.522 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 14:10:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 5153.732 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 14:10:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-05 14:10:33"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 14:10:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 5672.779 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 14:10:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 14:10:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1681.253 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 14:10:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 5960.771 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 14:10:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[32m200\u001b[0m 6363.816 ms - 988\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 14:10:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-05 14:10:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 14:10:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 14:10:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 14:10:34"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 14:10:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 14:10:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 14:10:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 14:10:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1581.908 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1493.679 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1105.338 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2064.991 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 2822.275 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"error","message":"[Recommendation] Error getting also bought products: Cannot read properties of undefined (reading 'toString')","service":"backend-api","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:79\n    at Array.map (<anonymous>)\n    at Object.getAlsoBoughtProducts (/Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/recommendationController.js:40:20","timestamp":"2026-02-05 14:10:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 14:10:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/related?limit=10 \u001b[36m304\u001b[0m 577.341 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:36"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 14:10:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[36m304\u001b[0m 1190.432 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/also-bought?limit=10 \u001b[36m304\u001b[0m 876.819 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/ai-similar?limit=10 \u001b[36m304\u001b[0m 553.823 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:36"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 14:10:36"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 14:10:36"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 14:10:36","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 3789.852 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:36"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 14:10:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1117.249 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 14:10:37"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 15:04:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 15:37:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 15:37:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 15:37:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-05 15:37:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 15:37:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 15:37:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-05 15:37:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 15:37:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 15:37:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 15:37:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 15:37:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 15:37:29"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 15:37:30"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 15:37:30"}
{"level":"error","message":"[Recommendation] Error getting also bought products: Cannot read properties of undefined (reading 'toString')","service":"backend-api","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:79\n    at Array.map (<anonymous>)\n    at Object.getAlsoBoughtProducts (/Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/recommendationController.js:40:20","timestamp":"2026-02-05 15:37:32"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 15:37:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 15:37:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/related?limit=10 \u001b[36m304\u001b[0m 3480.413 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 15:37:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 4314.941 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 15:37:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 15:37:32"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 15:37:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 15:37:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 5041.238 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 15:37:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 15:37:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 5360.152 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 15:37:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 5454.060 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 1073.537 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 15:37:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 15:37:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 15:37:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 15:37:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 15:37:34","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1167.070 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/also-bought?limit=10 \u001b[36m304\u001b[0m 6300.200 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/ai-similar?limit=10 \u001b[36m304\u001b[0m 3090.347 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1155.747 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 15:37:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[32m200\u001b[0m 1412.351 ms - 976\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 799.028 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1057.427 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 15:37:35","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 15:37:35"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 15:37:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1490.653 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1105.400 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1604.977 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 3264.206 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:36"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 15:37:37"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[36m304\u001b[0m 2764.494 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 15:37:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:31:22"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:31:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:31:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:31:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:31:26"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 16:31:26"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 16:31:26","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:31:26"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 16:31:26"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 4918.549 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 4951.349 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 5171.723 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 5193.382 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:31:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:31:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:31:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:31:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 6015.592 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:31:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 6080.652 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-05 16:31:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:31:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1358.361 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:31:29"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:31:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 16:31:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:31:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:31:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1634.673 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:31:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/related?limit=10 \u001b[36m304\u001b[0m 578.468 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:31:29"}
{"level":"error","message":"[Recommendation] Error getting also bought products: Cannot read properties of undefined (reading 'toString')","service":"backend-api","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:79\n    at Array.map (<anonymous>)\n    at Object.getAlsoBoughtProducts (/Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/recommendationController.js:40:20","timestamp":"2026-02-05 16:31:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 2481.234 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1429.365 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 2775.424 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/ai-similar?limit=10 \u001b[36m304\u001b[0m 601.457 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/also-bought?limit=10 \u001b[36m304\u001b[0m 1019.276 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1930.078 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 16:31:30"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 16:31:30","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:31:31"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:31:31"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 16:31:31"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:31:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[36m304\u001b[0m 1109.205 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1324.071 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1099.800 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:31:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:39:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:39:40"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/resend-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:39:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/resend-otp","service":"backend-api","timestamp":"2026-02-05 16:39:40"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/resend-otp \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:39:55"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 16:40:11"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 16:40:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:40:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:40:13"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[resendPaystackOtpForWithdrawal] Resending OTP","service":"backend-api","timestamp":"2026-02-05 16:40:14","transferCode":"TRF_19t7gmw4uxxcrojw","withdrawalId":"6984974a6edee9cfb5b6aeb7"}
{"level":"info","message":"[PayoutService] Resending OTP for transfer:","service":"backend-api","timestamp":"2026-02-05 16:40:14","transferCode":"TRF_19t7gmw4uxxcrojw"}
{"_message":"AdminActionLog validation failed","errors":{"actionType":{"kind":"enum","message":"`WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","name":"ValidatorError","path":"actionType","properties":{"enumValues":["WITHDRAWAL_APPROVED","WITHDRAWAL_REJECTED","PAYOUT_VERIFICATION_APPROVED","PAYOUT_VERIFICATION_REJECTED"],"length":30,"message":"`WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","path":"actionType","type":"enum","value":"WITHDRAWAL_RESEND_PAYSTACK_OTP"},"value":"WITHDRAWAL_RESEND_PAYSTACK_OTP"},"sellerId":{"kind":"required","message":"Path `sellerId` is required.","name":"ValidatorError","path":"sellerId","properties":{"message":"Path `sellerId` is required.","path":"sellerId","type":"required"}}},"level":"error","message":"[resendPaystackOtpForWithdrawal] Error: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","service":"backend-api","stack":"ValidationError: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.\n    at Document.invalidate (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3362:32)\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3123:17\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2026-02-05 16:40:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:40:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:40:50"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:40:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","service":"backend-api","timestamp":"2026-02-05 16:40:50"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 16:40:50","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:40:50"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Finalizing transfer with OTP","service":"backend-api","timestamp":"2026-02-05 16:40:51","transferCode":"TRF_19t7gmw4uxxcrojw","withdrawalId":"6984974a6edee9cfb5b6aeb7"}
{"level":"info","message":"[PayoutService] Finalizing transfer with OTP:","otpLength":6,"service":"backend-api","timestamp":"2026-02-05 16:40:51","transferCode":"TRF_19t7gmw4uxxcrojw"}
{"level":"error","message":"Request failed with status code 400","response":{"code":"unknown","message":"Transfer is not currently awaiting OTP","meta":{"nextStep":"Try again later"},"status":false,"type":"api_error"},"service":"backend-api","status":400,"timestamp":"2026-02-05 16:40:51"}
{"fieldErrors":null,"isOperational":true,"level":"error","message":"[verifyPaystackOtpForWithdrawal] Error: Paystack OTP error: Transfer is not currently awaiting OTP","service":"backend-api","stack":"Error: Paystack OTP error: Transfer is not currently awaiting OTP\n    at exports.finalizeTransferOtp (/Users/mac/Desktop/Saiisai/backend/src/services/payoutService.js:367:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/admin/payoutController.js:151:30","status":"fail","statusCode":400,"timestamp":"2026-02-05 16:40:51"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp \u001b[33m400\u001b[0m 1537.653 ms - 572\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:40:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:42:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:42:55"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:42:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 16:42:55"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:42:55"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:42:55"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:42:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[36m304\u001b[0m 1024.515 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:42:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:45:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:45:02"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:45:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","service":"backend-api","timestamp":"2026-02-05 16:45:02"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 16:45:02","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:45:02"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Finalizing transfer with OTP","service":"backend-api","timestamp":"2026-02-05 16:45:03","transferCode":"TRF_19t7gmw4uxxcrojw","withdrawalId":"6984974a6edee9cfb5b6aeb7"}
{"level":"info","message":"[PayoutService] Finalizing transfer with OTP:","otpLength":6,"service":"backend-api","timestamp":"2026-02-05 16:45:03","transferCode":"TRF_19t7gmw4uxxcrojw"}
{"level":"error","message":"Request failed with status code 400","response":{"code":"unknown","message":"Transfer is not currently awaiting OTP","meta":{"nextStep":"Try again later"},"status":false,"type":"api_error"},"service":"backend-api","status":400,"timestamp":"2026-02-05 16:45:03"}
{"fieldErrors":null,"isOperational":true,"level":"error","message":"[verifyPaystackOtpForWithdrawal] Error: Paystack OTP error: Transfer is not currently awaiting OTP","service":"backend-api","stack":"Error: Paystack OTP error: Transfer is not currently awaiting OTP\n    at exports.finalizeTransferOtp (/Users/mac/Desktop/Saiisai/backend/src/services/payoutService.js:367:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/admin/payoutController.js:151:30","status":"fail","statusCode":400,"timestamp":"2026-02-05 16:45:03"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp \u001b[33m400\u001b[0m 1596.943 ms - 572\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:45:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:45:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:45:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:45:12"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:45:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:45:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:45:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1431.591 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 16:45:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:45:15"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 16:45:15"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 16:45:15","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:45:15"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 16:45:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 783.633 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:45:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1063.543 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:45:15"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-05 16:45:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:45:19"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:45:19"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:45:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[36m304\u001b[0m 4747.356 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:45:19"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:45:21"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 16:45:22"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 16:45:22"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 16:45:22"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 16:45:22"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 16:45:22"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 16:45:25"}
{"level":"info","message":"HTTP server closed.","service":"backend-api","timestamp":"2026-02-05 16:45:25"}
{"level":"warn","message":"MongoDB disconnected","service":"backend-api","timestamp":"2026-02-05 16:45:25"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 16:45:25"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 16:45:25"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 16:45:25"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 16:45:25"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 16:45:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:45:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:45:45"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:45:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","service":"backend-api","timestamp":"2026-02-05 16:45:45"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 16:45:46","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:45:46"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Finalizing transfer with OTP","service":"backend-api","timestamp":"2026-02-05 16:45:46","transferCode":"TRF_19t7gmw4uxxcrojw","withdrawalId":"6984974a6edee9cfb5b6aeb7"}
{"level":"info","message":"[PayoutService] Finalizing transfer with OTP:","otpLength":6,"service":"backend-api","timestamp":"2026-02-05 16:45:46","transferCode":"TRF_19t7gmw4uxxcrojw"}
{"level":"error","message":"Request failed with status code 400","response":{"code":"unknown","message":"Transfer is not currently awaiting OTP","meta":{"nextStep":"Try again later"},"status":false,"type":"api_error"},"service":"backend-api","status":400,"timestamp":"2026-02-05 16:45:46"}
{"fieldErrors":null,"isOperational":true,"level":"error","message":"[verifyPaystackOtpForWithdrawal] Error: Paystack OTP error: Transfer is not currently awaiting OTP","service":"backend-api","stack":"Error: Paystack OTP error: Transfer is not currently awaiting OTP\n    at exports.finalizeTransferOtp (/Users/mac/Desktop/Saiisai/backend/src/services/payoutService.js:367:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/admin/payoutController.js:151:30","status":"fail","statusCode":400,"timestamp":"2026-02-05 16:45:46"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp \u001b[33m400\u001b[0m 1551.963 ms - 572\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:45:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:46:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:46:04"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:46:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify","service":"backend-api","timestamp":"2026-02-05 16:46:04"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:46:04"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:46:04"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify \u001b[33m404\u001b[0m 776.670 ms - 397\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:46:05"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:46:36"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 16:46:37"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 16:46:37"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 16:46:37"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 16:46:37"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 16:46:37"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:46:40"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 16:46:41"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 16:46:41"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 16:46:41"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 16:46:41"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 16:46:41"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 16:46:43"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 16:46:43"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 16:46:43"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 16:46:43"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 16:46:43"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 16:46:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:46:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:46:49"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:46:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 16:46:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:46:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:46:51"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:46:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[36m304\u001b[0m 2456.553 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:46:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-05 16:47:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 16:47:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 16:47:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[32m200\u001b[0m 261.112 ms - 887\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 16:47:29","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 287.002 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7/reviews \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/68c150f5079f517f4e9cff02 \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:47:29"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"}],"_docs":{"68c150f5079f517f4e9cff02":"68c14745079f517f4e9ced3a"},"_queryProjection":null,"path":"parentCategory"},"value":"68c14745079f517f4e9ced3a"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68c150f5079f517f4e9cff02":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68c150f5079f517f4e9cff02","attributes":[{"_id":"68c150f5079f517f4e9cff03","id":"68c150f5079f517f4e9cff03","isFilterable":true,"isRequired":true,"isVariant":false,"name":"Type","type":"enum","values":["Caps","Mittens","Socks","Bibs","Blankets"]},{"_id":"68c150f5079f517f4e9cff04","id":"68c150f5079f517f4e9cff04","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Material","type":"enum","values":["Cotton","Wool","Fleece"]},{"_id":"68c150f5079f517f4e9cff05","id":"68c150f5079f517f4e9cff05","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Blue","Pink","White","Yellow"]}],"createdAt":"2025-09-10T10:20:37.177Z","description":"Caps, mittens, socks, bibs, and blankets.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757499636/categories/1757499634936-899114318-image.jpg","name":"Baby Accessories","parentCategory":{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"},"products":["692d7bef2ecf623f4471fdd3","697f27d103669e15755d61d7"],"slug":"baby-accessories","status":"active","subcategories":[],"updatedAt":"2026-02-04T14:22:45.725Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"}],"_docs":{"68c150f5079f517f4e9cff02":"68c14745079f517f4e9ced3a"},"_queryProjection":null,"path":"parentCategory"},"value":"68c14745079f517f4e9ced3a"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68c150f5079f517f4e9cff02":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68c150f5079f517f4e9cff02","attributes":[{"_id":"68c150f5079f517f4e9cff03","id":"68c150f5079f517f4e9cff03","isFilterable":true,"isRequired":true,"isVariant":false,"name":"Type","type":"enum","values":["Caps","Mittens","Socks","Bibs","Blankets"]},{"_id":"68c150f5079f517f4e9cff04","id":"68c150f5079f517f4e9cff04","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Material","type":"enum","values":["Cotton","Wool","Fleece"]},{"_id":"68c150f5079f517f4e9cff05","id":"68c150f5079f517f4e9cff05","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Blue","Pink","White","Yellow"]}],"createdAt":"2025-09-10T10:20:37.177Z","description":"Caps, mittens, socks, bibs, and blankets.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757499636/categories/1757499634936-899114318-image.jpg","name":"Baby Accessories","parentCategory":{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"},"products":["692d7bef2ecf623f4471fdd3","697f27d103669e15755d61d7"],"slug":"baby-accessories","status":"active","subcategories":[],"updatedAt":"2026-02-04T14:22:45.725Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/me","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/ads/public \u001b[36m304\u001b[0m 279.579 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/category-counts \u001b[32m200\u001b[0m 255.254 ms - 554\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"info","message":"[getProductReviews] Product ID: 697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"info","message":"[getProductReviews] User: 6798101470646250be061204, Role: admin","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"info","message":"[getProductReviews] Status filter:","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"info","message":"[getProductReviews] Found 1 reviews","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 16:47:30"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/me \u001b[36m304\u001b[0m 785.961 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"buffer":{"data":[105,127,39,209,3,102,158,21,117,93,97,215],"type":"Buffer"},"level":"info","message":"productId","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"level":"info","message":"[OptionalAuth] Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"deletedBy":null,"deletedByRole":null,"isAdmin":true,"isDeleted":false,"isDeletedByAdmin":false,"isDeletedBySeller":false,"isSellerOwnProduct":false,"level":"info","message":"[getProductById] Product found:","moderationStatus":"approved","productId":"697f27d103669e15755d61d7","sellerId":"697605eb3206c0a57a1667cd","service":"backend-api","status":"active","timestamp":"2026-02-05 16:47:31"}
{"level":"info","message":"[getProductById] ‚úÖ Admin access - granted","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/parents \u001b[36m304\u001b[0m 1287.691 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"level":"info","message":"\u001b[0mPOST /api/v1/analytics/views \u001b[32m200\u001b[0m 540.470 ms - 59\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/recommendations/track","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/users/profile","service":"backend-api","timestamp":"2026-02-05 16:47:31"}
{"level":"info","message":"\u001b[0mGET /api/v1/product?limit=100 \u001b[32m200\u001b[0m 1498.197 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for GET /api/v1/cart","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"[getProductReviews] Product ID: 697f27d103669e15755d61d7","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"[getProductReviews] User: 6798101470646250be061204, Role: admin","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"[getProductReviews] Status filter:","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"[getProductReviews] Found 1 reviews","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7/reviews \u001b[32m200\u001b[0m 1257.190 ms - 662\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories?page=1&limit=1000 \u001b[36m304\u001b[0m 1802.729 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/product/697f27d103669e15755d61d7 \u001b[32m200\u001b[0m 1533.636 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"\u001b[0mPOST /api/v1/recommendations/track \u001b[32m200\u001b[0m 780.688 ms - 62\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/users/profile \u001b[32m200\u001b[0m 1012.481 ms - 905\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (main_jwt) for POST /api/v1/history","service":"backend-api","timestamp":"2026-02-05 16:47:32"}
{"level":"error","message":"[Recommendation] Error getting also bought products: Cannot read properties of undefined (reading 'toString')","service":"backend-api","stack":"TypeError: Cannot read properties of undefined (reading 'toString')\n    at /Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:79\n    at Array.map (<anonymous>)\n    at Object.getAlsoBoughtProducts (/Users/mac/Desktop/Saiisai/backend/src/services/recommendationService.js:167:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/recommendationController.js:40:20","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/cart \u001b[36m304\u001b[0m 1105.926 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"}],"_docs":{"68c150f5079f517f4e9cff02":"68c14745079f517f4e9ced3a"},"_queryProjection":null,"path":"parentCategory"},"value":"68c14745079f517f4e9ced3a"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68c150f5079f517f4e9cff02":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68c150f5079f517f4e9cff02","attributes":[{"_id":"68c150f5079f517f4e9cff03","id":"68c150f5079f517f4e9cff03","isFilterable":true,"isRequired":true,"isVariant":false,"name":"Type","type":"enum","values":["Caps","Mittens","Socks","Bibs","Blankets"]},{"_id":"68c150f5079f517f4e9cff04","id":"68c150f5079f517f4e9cff04","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Material","type":"enum","values":["Cotton","Wool","Fleece"]},{"_id":"68c150f5079f517f4e9cff05","id":"68c150f5079f517f4e9cff05","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Blue","Pink","White","Yellow"]}],"createdAt":"2025-09-10T10:20:37.177Z","description":"Caps, mittens, socks, bibs, and blankets.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757499636/categories/1757499634936-899114318-image.jpg","name":"Baby Accessories","parentCategory":{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"},"products":["692d7bef2ecf623f4471fdd3","697f27d103669e15755d61d7"],"slug":"baby-accessories","status":"active","subcategories":[],"updatedAt":"2026-02-04T14:22:45.725Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"$__":{"activePaths":{"paths":{"__v":"init","_id":"init","attributes":"init","createdAt":"init","description":"init","image":"init","name":"init","parentCategory":"init","products":"init","slug":"init","status":"init","subcategories":"init","updatedAt":"init"},"states":{"default":{},"init":{"__v":true,"_id":true,"attributes":true,"createdAt":true,"description":true,"image":true,"name":true,"parentCategory":true,"products":true,"slug":true,"status":true,"subcategories":true,"updatedAt":true},"require":{}}},"populated":{"parentCategory":{"options":{"_childDocs":[{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"}],"_docs":{"68c150f5079f517f4e9cff02":"68c14745079f517f4e9ced3a"},"_queryProjection":null,"path":"parentCategory"},"value":"68c14745079f517f4e9ced3a"},"subcategories":{"options":{"_childDocs":[],"_docs":{"68c150f5079f517f4e9cff02":[]},"_queryProjection":null,"path":"subcategories"},"value":[]}},"skipId":true},"$isNew":false,"_doc":{"__v":0,"_id":"68c150f5079f517f4e9cff02","attributes":[{"_id":"68c150f5079f517f4e9cff03","id":"68c150f5079f517f4e9cff03","isFilterable":true,"isRequired":true,"isVariant":false,"name":"Type","type":"enum","values":["Caps","Mittens","Socks","Bibs","Blankets"]},{"_id":"68c150f5079f517f4e9cff04","id":"68c150f5079f517f4e9cff04","isFilterable":true,"isRequired":false,"isVariant":false,"name":"Material","type":"enum","values":["Cotton","Wool","Fleece"]},{"_id":"68c150f5079f517f4e9cff05","id":"68c150f5079f517f4e9cff05","isFilterable":true,"isRequired":false,"isVariant":true,"name":"Color","type":"color","values":["Blue","Pink","White","Yellow"]}],"createdAt":"2025-09-10T10:20:37.177Z","description":"Caps, mittens, socks, bibs, and blankets.","image":"https://res.cloudinary.com/eazworld/image/upload/v1757499636/categories/1757499634936-899114318-image.jpg","name":"Baby Accessories","parentCategory":{"__v":0,"_id":"68c14745079f517f4e9ced3a","attributes":[],"createdAt":"2025-09-10T09:39:17.068Z","description":"Clothing, footwear, toys, essentials, and accessories for babies and children.","id":"68c14745079f517f4e9ced3a","image":"https://res.cloudinary.com/eazworld/image/upload/v1757497155/categories/1757497154403-632162495-image.jpg","isSubcategory":false,"name":"Baby & Kids","parentCategory":null,"productCount":11,"products":["697614bd479b428d68231529","692d7bf22ecf623f4471fef0","692d7bf12ecf623f4471feb2","692d7bf12ecf623f4471fe77","692d7bf02ecf623f4471fe46","692d7bf02ecf623f4471fe38","692d7bf02ecf623f4471fe17","692d7bef2ecf623f4471fddf","692d7bef2ecf623f4471fdd3","692d7bf02ecf623f4471fded","697f27d103669e15755d61d7"],"slug":"baby-and-kids","status":"active","subcategories":["68c14877079f517f4e9ceec1","68c149d2079f517f4e9cf040","68c14ac0079f517f4e9cf1df","68c14ba8079f517f4e9cf370","68c14c83079f517f4e9cf509","68c14d34079f517f4e9cf6a7","68c14df4079f517f4e9cf848","68c14e95079f517f4e9cf9f0","68c14f78079f517f4e9cfb9e","68c15051079f517f4e9cfd4c","68c150f5079f517f4e9cff02","68c15296079f517f4e9d00be","68c15460079f517f4e9d0390"],"updatedAt":"2026-02-04T14:22:46.084Z"},"products":["692d7bef2ecf623f4471fdd3","697f27d103669e15755d61d7"],"slug":"baby-accessories","status":"active","subcategories":[],"updatedAt":"2026-02-04T14:22:45.725Z"},"level":"info","message":"doc","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/related?limit=10 \u001b[36m304\u001b[0m 517.219 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"Authenticated as user: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: user matches required roles","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/ai-similar?limit=10 \u001b[36m304\u001b[0m 518.922 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/categories/68c150f5079f517f4e9cff02 \u001b[32m200\u001b[0m 511.579 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/recommendations/products/697f27d103669e15755d61d7/also-bought?limit=10 \u001b[36m304\u001b[0m 790.202 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"\u001b[0mPOST /api/v1/history \u001b[32m200\u001b[0m 780.551 ms - 130\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 16:47:33","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 16:47:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[32m200\u001b[0m 768.795 ms - 45\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=20&sort=-createdAt \u001b[32m200\u001b[0m 1000.209 ms - 90\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1260.497 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 16:47:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:47:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:47:35"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 16:47:35"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 16:47:35","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:47:35"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:47:35"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 16:47:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 766.566 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1063.788 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:35"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:47:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[36m304\u001b[0m 1064.751 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:47:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:47:40"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:47:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 16:47:40"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:47:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:47:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1015.393 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:47:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:48:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:48:35"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:48:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","service":"backend-api","timestamp":"2026-02-05 16:48:35"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 16:48:35","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:48:35"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Checking Paystack transfer status before OTP verification","service":"backend-api","timestamp":"2026-02-05 16:48:36","transferCode":"TRF_19t7gmw4uxxcrojw","withdrawalId":"6984974a6edee9cfb5b6aeb7"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack transfer status:","requiresPin":false,"service":"backend-api","status":"success","timestamp":"2026-02-05 16:48:36"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp \u001b[33m400\u001b[0m 1721.626 ms - 520\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:48:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:49:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:49:35"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:49:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 16:49:35"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:49:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:49:36"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:49:36"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[36m304\u001b[0m 1010.370 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:49:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:50:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:50:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:50:32"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:50:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:50:32"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:50:32"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1280.250 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 16:50:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:50:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:50:34"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 16:50:34"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 16:50:34","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:50:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:50:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 795.115 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:50:34"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 16:50:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1054.696 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:50:34"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:50:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[36m304\u001b[0m 1055.830 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:50:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:50:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:50:58"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:50:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 16:50:58"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:50:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:50:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[36m304\u001b[0m 1101.672 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:51:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:51:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:51:07"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:51:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/698484401b8a38932485c45d","service":"backend-api","timestamp":"2026-02-05 16:51:07"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:51:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:51:07"}
{"hasPaymentDetails":true,"id":"698484401b8a38932485c45d","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:51:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/698484401b8a38932485c45d \u001b[32m200\u001b[0m 997.711 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:51:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:51:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:51:10"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:51:10"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp","service":"backend-api","timestamp":"2026-02-05 16:51:10"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:51:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:51:11"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[resendPaystackOtpForWithdrawal] Resending OTP","service":"backend-api","timestamp":"2026-02-05 16:51:11","transferCode":"TRF_qkhzab0ps0gqjjni","withdrawalId":"698484401b8a38932485c45d"}
{"level":"info","message":"[PayoutService] Resending OTP for transfer:","service":"backend-api","timestamp":"2026-02-05 16:51:11","transferCode":"TRF_qkhzab0ps0gqjjni"}
{"_message":"AdminActionLog validation failed","errors":{"actionType":{"kind":"enum","message":"`WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","name":"ValidatorError","path":"actionType","properties":{"enumValues":["WITHDRAWAL_APPROVED","WITHDRAWAL_REJECTED","PAYOUT_VERIFICATION_APPROVED","PAYOUT_VERIFICATION_REJECTED"],"length":30,"message":"`WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","path":"actionType","type":"enum","value":"WITHDRAWAL_RESEND_PAYSTACK_OTP"},"value":"WITHDRAWAL_RESEND_PAYSTACK_OTP"},"sellerId":{"kind":"required","message":"Path `sellerId` is required.","name":"ValidatorError","path":"sellerId","properties":{"message":"Path `sellerId` is required.","path":"sellerId","type":"required"}}},"level":"error","message":"[resendPaystackOtpForWithdrawal] Error: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","service":"backend-api","stack":"ValidationError: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.\n    at Document.invalidate (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3362:32)\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3123:17\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2026-02-05 16:51:12"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp \u001b[31m500\u001b[0m 1831.617 ms - 400\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:51:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:51:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:51:18"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/verify","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:51:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/698484401b8a38932485c45d/verify","service":"backend-api","timestamp":"2026-02-05 16:51:18"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:51:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:51:18"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/698484401b8a38932485c45d/verify \u001b[33m404\u001b[0m 749.287 ms - 397\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:51:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:51:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:51:47"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:51:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp","service":"backend-api","timestamp":"2026-02-05 16:51:47"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 16:51:47","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:51:47"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Checking Paystack transfer status before OTP verification","service":"backend-api","timestamp":"2026-02-05 16:51:47","transferCode":"TRF_qkhzab0ps0gqjjni","withdrawalId":"698484401b8a38932485c45d"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack transfer status:","requiresPin":false,"service":"backend-api","status":"abandoned","timestamp":"2026-02-05 16:51:48"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp \u001b[33m400\u001b[0m 1345.972 ms - 590\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:51:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 16:51:58","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:51:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 758.175 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:51:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 771.409 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:51:59"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 16:51:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1035.145 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:51:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1286.026 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:51:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1588.614 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:52:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1568.090 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:52:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:52:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:52:07"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 16:52:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 16:52:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:52:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:52:08"}
{"level":"info","message":"[createPaymentRequest] Pending balance update for seller 6970b22eaba06cadfd4b8035:","service":"backend-api","timestamp":"2026-02-05 16:52:10"}
{"level":"info","message":"  Total Revenue (Balance);: 34042.56 (UNCHANGED - not deducted)","service":"backend-api","timestamp":"2026-02-05 16:52:10"}
{"level":"info","message":"  Pending Balance: 1699.98 + 199.96 = 1899.94","service":"backend-api","timestamp":"2026-02-05 16:52:10"}
{"level":"info","message":"  Locked Balance: 0 (unchanged);","service":"backend-api","timestamp":"2026-02-05 16:52:10"}
{"level":"info","message":"  Available Balance: 32342.579999999998 - 199.96 = 32142.62 (decreased due to pending withdrawal);","service":"backend-api","timestamp":"2026-02-05 16:52:10"}
{"level":"info","message":"[createPaymentRequest] ‚úÖ Verified save - Total Revenue (Balance);: 34042.56 (UNCHANGED)","service":"backend-api","timestamp":"2026-02-05 16:52:11"}
{"level":"info","message":"[createPaymentRequest] ‚úÖ Verified save - LockedBalance: 0, PendingBalance: 1899.94, WithdrawableBalance: 32142.62","service":"backend-api","timestamp":"2026-02-05 16:52:11"}
{"level":"error","message":"[FinanceAudit] ‚ùå Error logging finance operation: safePath is not defined","service":"backend-api","stack":"ReferenceError: safePath is not defined\n    at exports.logFinanceOperation (/Users/mac/Desktop/Saiisai/backend/src/services/financeAuditService.js:65:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:396:7)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 16:52:12"}
{"level":"info","message":"[ResendClient] ‚úÖ Resend client configured","service":"backend-api","timestamp":"2026-02-05 16:52:12"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Payment Request Submitted","timestamp":"2026-02-05 16:52:12","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"da3a0aef-3d25-4b31-a974-0c085536ea7b","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 16:52:12","to":"benzflex00@gmail.com"}
{"level":"info","message":"Sending SMS to 244388190: Your payment request of GHS 199.96 has been received and is being processed.","service":"backend-api","timestamp":"2026-02-05 16:52:12"}
{"level":"info","message":"[NotificationService] üîî Creating payout notification for 3 active admins (out of 3 total with status 'active');","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 6798101470646250be061204:","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 16:52:13"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 67e6cf65532239f7086a239b","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 67e6cf65532239f7086a239b:","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 16:52:13"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 684ff1bc8118ac2be8defdc6","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 684ff1bc8118ac2be8defdc6:","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 16:52:13"}
{"level":"info","message":"[NotificationService] ‚úÖ Created 0 payout notifications for admins","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"info","message":"[Payment Request] Admin notification created for withdrawal 6984cab98530191275f6fbc9","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"info","message":"\u001b[0mPOST /api/v1/paymentrequest \u001b[32m201\u001b[0m 5461.903 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 802.460 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 16:52:13"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:52:14"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 16:52:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 1006.185 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:52:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:52:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:52:28"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:52:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 16:52:28"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:52:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:52:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1070.651 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:52:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:52:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:52:31"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:52:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984cab98530191275f6fbc9","service":"backend-api","timestamp":"2026-02-05 16:52:31"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:52:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:52:32"}
{"hasPaymentDetails":true,"id":"6984cab98530191275f6fbc9","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:52:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984cab98530191275f6fbc9 \u001b[32m200\u001b[0m 995.428 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:52:32"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:52:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:52:59"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9/approve","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:52:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984cab98530191275f6fbc9/approve","service":"backend-api","timestamp":"2026-02-05 16:52:59"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:52:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:52:59"}
{"allFields":["approvedByAdmin","rejectedByAdmin","_id","seller","amount","currency","paymentMethod","paymentDetails","status","reversed","reverseReason","approvedAt","rejectedAt","paystackRecipientCode","paystackTransferId","paystackTransferCode","paystackReference","otpSessionStatus","requiresPin","pinSubmitted","withholdingTax","withholdingTaxRate","amountRequested","amountPaidToSeller","sellerBalanceBefore","sellerBalanceAfter","isActive","deactivatedAt","paymentDate","createdAt","auditHistory","__v"],"hasPaymentDetails":true,"id":"6984cab98530191275f6fbc9","isPaymentRequest":true,"level":"info","message":"[approveWithdrawalRequest] Withdrawal request fields:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentDetailsKeys":["phone","network","accountName"],"paymentMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:53:00"}
{"hasPaymentDetails":true,"isPaymentRequest":true,"level":"info","message":"[approveWithdrawalRequest] Using payment details from request:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentDetailsKeys":["phone","network","accountName"],"paymentMethod":"mtn_momo","resolvedPaymentMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:53:01","withdrawalRequestFields":["approvedByAdmin","rejectedByAdmin","_id","seller","amount","currency","paymentMethod","paymentDetails","status","reversed","reverseReason","approvedAt","rejectedAt","paystackRecipientCode","paystackTransferId","paystackTransferCode","paystackReference","otpSessionStatus","requiresPin","pinSubmitted","withholdingTax","withholdingTaxRate","amountRequested","amountPaidToSeller","sellerBalanceBefore","sellerBalanceAfter","isActive","deactivatedAt","paymentDate","createdAt","auditHistory","__v"]}
{"bank_code":"MTN","level":"info","message":"[approveWithdrawalRequest] Mobile money recipient data from request:","network":"MTN","paymentMethod":"mtn_momo","phone":"0244388190","service":"backend-api","timestamp":"2026-02-05 16:53:01"}
{"level":"info","message":"[approveWithdrawalRequest] Created recipient from payment details:","paymentMethod":"mtn_momo","recipientCode":"RCP_4pe4283uh609l51","service":"backend-api","timestamp":"2026-02-05 16:53:01"}
{"amount":19996,"endpoint":"/transfer","level":"info","message":"üí≥ [PayoutService] Initiating Paystack transfer:","reason":"Payout for eazworld - Request #6984cab98530191275f6fbc9","recipientCode":"RCP_4pe4283uh609l51","service":"backend-api","timestamp":"2026-02-05 16:53:01"}
{"fullResponse":"{\n  \"status\": true,\n  \"message\": \"Transfer requires OTP to continue\",\n  \"data\": {\n    \"transfersessionid\": [],\n    \"transfertrials\": [],\n    \"domain\": \"test\",\n    \"amount\": 19996,\n    \"currency\": \"GHS\",\n    \"reference\": \"ijv-wi-8l8t6mjoyiryf\",\n    \"source\": \"balance\",\n    \"source_details\": null,\n    \"reason\": \"Payout for eazworld - Request #6984cab98530191275f6fbc9\",\n    \"status\": \"otp\",\n    \"failures\": null,\n    \"transfer_code\": \"TRF_eyuigxerz0weso0g\",\n    \"titan_code\": null,\n    \"transferred_at\": null,\n    \"id\": 951695598,\n    \"integration\": 1205003,\n    \"request\": 1198149271,\n    \"recipient\": 116219070,\n    \"createdAt\": \"2026-02-05T16:53:03.000Z\",\n    \"updatedAt\": \"2026-02-05T16:53:03.000Z\"\n  }\n}","level":"info","message":"üí≥ [PayoutService] Paystack transfer initiated response:","requiresOtp":true,"service":"backend-api","status":true,"timestamp":"2026-02-05 16:53:03","transferCode":"TRF_eyuigxerz0weso0g","transferStatus":"otp"}
{"level":"info","message":"üîê [PayoutService] ‚ö†Ô∏è PAYSTACK WILL GENERATE AND SEND OTP AUTOMATICALLY","service":"backend-api","timestamp":"2026-02-05 16:53:03"}
{"level":"info","message":"üîê [PayoutService] Paystack automatically sends OTP to recipient phone/email when transfer requires OTP","service":"backend-api","timestamp":"2026-02-05 16:53:03"}
{"level":"info","message":"üîê [PayoutService] Our backend does NOT generate the OTP - Paystack handles it","service":"backend-api","timestamp":"2026-02-05 16:53:03"}
{"0":"o","1":"t","2":"p","level":"info","message":"üîê [PayoutService] Transfer status:","service":"backend-api","timestamp":"2026-02-05 16:53:03"}
{"0":"T","1":"R","10":"e","11":"r","12":"z","13":"0","14":"w","15":"e","16":"s","17":"o","18":"0","19":"g","2":"F","3":"_","4":"e","5":"y","6":"u","7":"i","8":"g","9":"x","level":"info","message":"üîê [PayoutService] Transfer code:","service":"backend-api","timestamp":"2026-02-05 16:53:03"}
{"level":"info","message":"üí≥ [approveWithdrawalRequest] Paystack transfer initiated:","service":"backend-api","status":"otp","timestamp":"2026-02-05 16:53:03","transferCode":"TRF_eyuigxerz0weso0g","transferData":{"amount":19996,"createdAt":"2026-02-05T16:53:03.000Z","currency":"GHS","domain":"test","failures":null,"id":951695598,"integration":1205003,"reason":"Payout for eazworld - Request #6984cab98530191275f6fbc9","recipient":116219070,"reference":"ijv-wi-8l8t6mjoyiryf","request":1198149271,"source":"balance","source_details":null,"status":"otp","titan_code":null,"transfer_code":"TRF_eyuigxerz0weso0g","transferred_at":null,"transfersessionid":[],"transfertrials":[],"updatedAt":"2026-02-05T16:53:03.000Z"}}
{"isMobileMoney":true,"level":"info","message":"üí≥ [approveWithdrawalRequest] Paystack transfer status analysis:","paystackStatus":"otp","requiresPin":true,"service":"backend-api","timestamp":"2026-02-05 16:53:03","willSetStatusToAwaitingOtp":true}
{"finalStatus":"awaiting_paystack_otp","level":"info","message":"üí≥ [approveWithdrawalRequest] Setting withdrawal status:","paystackStatus":"otp","reason":"Paystack status is \"otp\" - will await OTP","service":"backend-api","shouldAwaitOtp":true,"timestamp":"2026-02-05 16:53:03"}
{"level":"info","message":"[approveWithdrawalRequest] Created TaxCollection record: 6984caef8530191275f6fc05, Amount: 6, Rate: 0.03","service":"backend-api","timestamp":"2026-02-05 16:53:04"}
{"level":"info","message":"[approveWithdrawalRequest] Balance after admin approval for seller 6970b22eaba06cadfd4b8035:","service":"backend-api","timestamp":"2026-02-05 16:53:06"}
{"level":"info","message":"  Total Revenue (Balance);: 34042.56 (unchanged - will deduct when OTP verified)","service":"backend-api","timestamp":"2026-02-05 16:53:06"}
{"level":"info","message":"  Pending Balance: 1899.94 (unchanged - awaiting OTP verification);","service":"backend-api","timestamp":"2026-02-05 16:53:06"}
{"level":"info","message":"  Locked Balance: 0 (unchanged);","service":"backend-api","timestamp":"2026-02-05 16:53:06"}
{"level":"info","message":"  Available Balance: 32142.62 ‚Üí 32142.62 (recalculated);","service":"backend-api","timestamp":"2026-02-05 16:53:06"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Withdrawal Request Received - GH‚Çµ199.96 - Saiisai","timestamp":"2026-02-05 16:53:06","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"6db43c2a-c5f4-4024-bc61-79684e76c76b","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 16:53:07","to":"benzflex00@gmail.com"}
{"level":"info","message":"[approveWithdrawalRequest] ‚úÖ Withdrawal request email sent to seller benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984cab98530191275f6fbc9/approve \u001b[32m200\u001b[0m 7872.657 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984cab98530191275f6fbc9","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 16:53:07"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 16:53:07","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 750.642 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"hasPaymentDetails":true,"id":"6984cab98530191275f6fbc9","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984cab98530191275f6fbc9 \u001b[32m200\u001b[0m 998.626 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984cab98530191275f6fbc9","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 998.126 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1248.239 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:53:08"}
{"hasPaymentDetails":true,"id":"6984cab98530191275f6fbc9","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:53:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984cab98530191275f6fbc9 \u001b[36m304\u001b[0m 998.056 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:53:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:53:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:53:30"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:53:30"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984cab98530191275f6fbc9/verify-otp","service":"backend-api","timestamp":"2026-02-05 16:53:30"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 16:53:31","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:53:31"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Checking Paystack transfer status before OTP verification","service":"backend-api","timestamp":"2026-02-05 16:53:31","transferCode":"TRF_eyuigxerz0weso0g","withdrawalId":"6984cab98530191275f6fbc9"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack transfer status:","requiresPin":true,"service":"backend-api","status":"otp","timestamp":"2026-02-05 16:53:31"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Finalizing transfer with OTP","service":"backend-api","timestamp":"2026-02-05 16:53:31","transferCode":"TRF_eyuigxerz0weso0g","withdrawalId":"6984cab98530191275f6fbc9"}
{"level":"info","message":"[PayoutService] Finalizing transfer with OTP:","otpLength":6,"service":"backend-api","timestamp":"2026-02-05 16:53:31","transferCode":"TRF_eyuigxerz0weso0g"}
{"hasData":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack finalize_transfer result:","service":"backend-api","timestamp":"2026-02-05 16:53:32","transferStatus":"success"}
{"_message":"AdminActionLog validation failed","errors":{"actionType":{"kind":"enum","message":"`WITHDRAWAL_VERIFY_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","name":"ValidatorError","path":"actionType","properties":{"enumValues":["WITHDRAWAL_APPROVED","WITHDRAWAL_REJECTED","PAYOUT_VERIFICATION_APPROVED","PAYOUT_VERIFICATION_REJECTED"],"length":30,"message":"`WITHDRAWAL_VERIFY_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","path":"actionType","type":"enum","value":"WITHDRAWAL_VERIFY_PAYSTACK_OTP"},"value":"WITHDRAWAL_VERIFY_PAYSTACK_OTP"},"sellerId":{"kind":"required","message":"Path `sellerId` is required.","name":"ValidatorError","path":"sellerId","properties":{"message":"Path `sellerId` is required.","path":"sellerId","type":"required"}}},"level":"error","message":"[verifyPaystackOtpForWithdrawal] Error: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_VERIFY_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","service":"backend-api","stack":"ValidationError: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_VERIFY_PAYSTACK_OTP` is not a valid enum value for path `actionType`.\n    at Document.invalidate (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3362:32)\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3123:17\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2026-02-05 16:53:32"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984cab98530191275f6fbc9/verify-otp \u001b[31m500\u001b[0m 2114.255 ms - 400\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:53:32"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:54:05"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 16:54:07"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 16:54:07"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 16:54:07"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 16:54:07"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 16:54:07"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 16:54:11"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 16:54:11"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 16:54:11"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 16:54:11"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 16:54:12"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 16:54:12"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:54:12"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 16:54:13"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 16:54:13"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 16:54:13"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 16:54:13"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 16:54:13"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 16:54:16"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 16:54:16"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 16:54:16"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 16:54:16"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 16:54:16"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 16:54:16"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:54:18"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 16:54:19"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 16:54:19"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 16:54:19"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 16:54:19"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 16:54:19"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 16:54:22"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 16:54:22"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 16:54:22"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 16:54:22"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 16:54:22"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 16:54:22"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:55:42"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 16:55:43"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 16:55:43"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 16:55:43"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 16:55:43"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 16:55:43"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 16:55:46"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 16:55:46"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 16:55:46"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 16:55:46"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 16:55:46"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 16:55:46"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:55:50"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 16:55:51"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 16:55:51"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 16:55:51"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 16:55:51"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 16:55:51"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 16:55:54"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 16:55:54"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 16:55:54"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 16:55:54"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 16:55:54"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 16:55:54"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"backend-api","timestamp":"2026-02-05 16:56:29"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 16:56:32"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 16:56:33"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 16:56:33"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 16:56:33"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 16:56:33"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 16:56:33"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 16:56:36"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 16:56:36"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 16:56:36"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 16:56:36"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 16:56:36"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 16:56:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:56:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:56:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:56:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:56:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:56:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:56:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:56:43"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:56:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 7138.647 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:56:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984cab98530191275f6fbc9","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 16:56:44","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 794.124 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 16:56:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1031.718 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:56:45"}
{"hasPaymentDetails":true,"id":"6984cab98530191275f6fbc9","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:56:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984cab98530191275f6fbc9 \u001b[36m304\u001b[0m 1092.451 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:56:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:57:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:57:18"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:57:18"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984cab98530191275f6fbc9/verify-otp","service":"backend-api","timestamp":"2026-02-05 16:57:18"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 16:57:19","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:57:19"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Checking Paystack transfer status before OTP verification","service":"backend-api","timestamp":"2026-02-05 16:57:19","transferCode":"TRF_eyuigxerz0weso0g","withdrawalId":"6984cab98530191275f6fbc9"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack transfer status:","requiresPin":false,"service":"backend-api","status":"success","timestamp":"2026-02-05 16:57:20"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984cab98530191275f6fbc9/verify-otp \u001b[33m400\u001b[0m 1661.771 ms - 520\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:57:20"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:58:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:58:14"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:58:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984cab98530191275f6fbc9","service":"backend-api","timestamp":"2026-02-05 16:58:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:58:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:58:15"}
{"hasPaymentDetails":true,"id":"6984cab98530191275f6fbc9","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:58:15"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984cab98530191275f6fbc9 \u001b[36m304\u001b[0m 1002.692 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:58:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:58:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:58:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:58:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:58:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:58:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 16:58:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1301.482 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984cab98530191275f6fbc9","service":"backend-api","timestamp":"2026-02-05 16:58:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:58:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 16:58:49"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 16:58:49"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 16:58:49","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:58:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:58:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 925.083 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:58:49"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 16:58:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1229.876 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:58:50"}
{"hasPaymentDetails":true,"id":"6984cab98530191275f6fbc9","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 16:58:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984cab98530191275f6fbc9 \u001b[36m304\u001b[0m 1229.906 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:58:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:59:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 16:59:00"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 16:59:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 16:59:00"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 16:59:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 16:59:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1084.505 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 16:59:02"}
{"level":"info","message":"[WithdrawalCleanupJob] üïê Running scheduled cleanup...","service":"backend-api","timestamp":"2026-02-05 17:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] üîç Starting cleanup of stuck withdrawals...","service":"backend-api","timestamp":"2026-02-05 17:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] Found 0 stuck withdrawals","service":"backend-api","timestamp":"2026-02-05 17:00:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup complete: 0 refunded, 0 errors","service":"backend-api","timestamp":"2026-02-05 17:00:00"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:00:19"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:00:21"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:00:21"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:00:21"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:00:21"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:00:21"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:00:23"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:00:23"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:00:23"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:00:23"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:00:23"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:00:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:00:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:00:26"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:00:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 17:00:26"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:00:30"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:00:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[36m304\u001b[0m 5366.368 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:00:31"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:00:43"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:00:44"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:00:44"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:00:44"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:00:44"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:00:44"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:00:47"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:00:47"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:00:47"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:00:47"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:00:47"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:00:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:01:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:01:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:01:24"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:01:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:01:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:01:24"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1286.011 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 17:01:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:01:26"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:01:26"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:01:26","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:01:26"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:01:26"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:01:26"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:01:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 842.427 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:01:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1059.655 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:01:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[36m304\u001b[0m 1068.215 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:01:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:01"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:02:01"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984cab98530191275f6fbc9","service":"backend-api","timestamp":"2026-02-05 17:02:01"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:02:01"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:02:01"}
{"hasPaymentDetails":true,"id":"6984cab98530191275f6fbc9","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:02:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984cab98530191275f6fbc9 \u001b[36m304\u001b[0m 1001.980 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:02:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:36"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:02:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984cab98530191275f6fbc9/verify-otp","service":"backend-api","timestamp":"2026-02-05 17:02:36"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 17:02:37","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:02:37"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Checking Paystack transfer status before OTP verification","service":"backend-api","timestamp":"2026-02-05 17:02:37","transferCode":"TRF_eyuigxerz0weso0g","withdrawalId":"6984cab98530191275f6fbc9"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack transfer status:","requiresPin":false,"service":"backend-api","status":"success","timestamp":"2026-02-05 17:02:37"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] Transfer already completed on Paystack, syncing database status","service":"backend-api","timestamp":"2026-02-05 17:02:37"}
{"_message":"AdminActionLog validation failed","errors":{"actionType":{"kind":"enum","message":"`WITHDRAWAL_STATUS_SYNCED` is not a valid enum value for path `actionType`.","name":"ValidatorError","path":"actionType","properties":{"enumValues":["WITHDRAWAL_APPROVED","WITHDRAWAL_REJECTED","PAYOUT_VERIFICATION_APPROVED","PAYOUT_VERIFICATION_REJECTED"],"length":24,"message":"`WITHDRAWAL_STATUS_SYNCED` is not a valid enum value for path `actionType`.","path":"actionType","type":"enum","value":"WITHDRAWAL_STATUS_SYNCED"},"value":"WITHDRAWAL_STATUS_SYNCED"},"sellerId":{"kind":"required","message":"Path `sellerId` is required.","name":"ValidatorError","path":"sellerId","properties":{"message":"Path `sellerId` is required.","path":"sellerId","type":"required"}}},"level":"error","message":"[verifyPaystackOtpForWithdrawal] Error creating sync log: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_STATUS_SYNCED` is not a valid enum value for path `actionType`.","service":"backend-api","stack":"ValidationError: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_STATUS_SYNCED` is not a valid enum value for path `actionType`.\n    at Document.invalidate (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3362:32)\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3123:17\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2026-02-05 17:02:38"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984cab98530191275f6fbc9/verify-otp \u001b[32m200\u001b[0m 1930.529 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984cab98530191275f6fbc9","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:02:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:02:39","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 779.891 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"hasPaymentDetails":true,"id":"6984cab98530191275f6fbc9","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984cab98530191275f6fbc9 \u001b[32m200\u001b[0m 1032.927 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1030.981 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984cab98530191275f6fbc9","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984cab98530191275f6fbc9","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1382.988 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:02:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:02:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:02:40"}
{"hasPaymentDetails":true,"id":"6984cab98530191275f6fbc9","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:02:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984cab98530191275f6fbc9 \u001b[36m304\u001b[0m 1116.463 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:02:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:49"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:02:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 17:02:49"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:02:49"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:02:49"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1087.851 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:02:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:02:52"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:02:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 17:02:52"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:02:52"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:02:52"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:02:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[32m200\u001b[0m 1230.624 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:02:53"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:03:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:03:05"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:03:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","service":"backend-api","timestamp":"2026-02-05 17:03:05"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 17:03:06","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:03:06"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Checking Paystack transfer status before OTP verification","service":"backend-api","timestamp":"2026-02-05 17:03:06","transferCode":"TRF_19t7gmw4uxxcrojw","withdrawalId":"6984974a6edee9cfb5b6aeb7"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack transfer status:","requiresPin":false,"service":"backend-api","status":"success","timestamp":"2026-02-05 17:03:07"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] Transfer already completed on Paystack, syncing database status","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"_message":"AdminActionLog validation failed","errors":{"actionType":{"kind":"enum","message":"`WITHDRAWAL_STATUS_SYNCED` is not a valid enum value for path `actionType`.","name":"ValidatorError","path":"actionType","properties":{"enumValues":["WITHDRAWAL_APPROVED","WITHDRAWAL_REJECTED","PAYOUT_VERIFICATION_APPROVED","PAYOUT_VERIFICATION_REJECTED"],"length":24,"message":"`WITHDRAWAL_STATUS_SYNCED` is not a valid enum value for path `actionType`.","path":"actionType","type":"enum","value":"WITHDRAWAL_STATUS_SYNCED"},"value":"WITHDRAWAL_STATUS_SYNCED"},"sellerId":{"kind":"required","message":"Path `sellerId` is required.","name":"ValidatorError","path":"sellerId","properties":{"message":"Path `sellerId` is required.","path":"sellerId","type":"required"}}},"level":"error","message":"[verifyPaystackOtpForWithdrawal] Error creating sync log: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_STATUS_SYNCED` is not a valid enum value for path `actionType`.","service":"backend-api","stack":"ValidationError: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_STATUS_SYNCED` is not a valid enum value for path `actionType`.\n    at Document.invalidate (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3362:32)\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3123:17\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2026-02-05 17:03:07"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7/verify-otp \u001b[32m200\u001b[0m 1667.131 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:03:07"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:03:08","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 841.036 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1149.776 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[32m200\u001b[0m 1155.517 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7","service":"backend-api","timestamp":"2026-02-05 17:03:08"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1397.776 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:03:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:03:09"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:03:09"}
{"hasPaymentDetails":true,"id":"6984974a6edee9cfb5b6aeb7","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:03:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984974a6edee9cfb5b6aeb7 \u001b[36m304\u001b[0m 1065.551 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:03:09"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:05:12"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:05:13"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:05:13"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:05:13"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:05:13"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:05:13"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:05:16"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:05:16"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:05:16"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:05:16"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:05:16"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:05:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:07:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:07:24"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:07:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 17:07:24"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:07:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:07:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1060.292 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:07:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:07:28"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:07:28"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:07:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/698484401b8a38932485c45d","service":"backend-api","timestamp":"2026-02-05 17:07:28"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:07:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:07:28"}
{"hasPaymentDetails":true,"id":"698484401b8a38932485c45d","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:07:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/698484401b8a38932485c45d \u001b[32m200\u001b[0m 1006.748 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:07:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:08:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:08:05"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:08:05"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp","service":"backend-api","timestamp":"2026-02-05 17:08:05"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 17:08:06","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:08:06"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Checking Paystack transfer status before OTP verification","service":"backend-api","timestamp":"2026-02-05 17:08:06","transferCode":"TRF_qkhzab0ps0gqjjni","withdrawalId":"698484401b8a38932485c45d"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack transfer status:","requiresPin":false,"service":"backend-api","status":"abandoned","timestamp":"2026-02-05 17:08:06"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp \u001b[33m400\u001b[0m 1672.682 ms - 590\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:08:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:08:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:08:14"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:08:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp","service":"backend-api","timestamp":"2026-02-05 17:08:14"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:08:15"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:08:15"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[resendPaystackOtpForWithdrawal] Resending OTP","service":"backend-api","timestamp":"2026-02-05 17:08:15","transferCode":"TRF_qkhzab0ps0gqjjni","withdrawalId":"698484401b8a38932485c45d"}
{"level":"info","message":"[PayoutService] Resending OTP for transfer:","service":"backend-api","timestamp":"2026-02-05 17:08:15","transferCode":"TRF_qkhzab0ps0gqjjni"}
{"_message":"AdminActionLog validation failed","errors":{"actionType":{"kind":"enum","message":"`WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","name":"ValidatorError","path":"actionType","properties":{"enumValues":["WITHDRAWAL_APPROVED","WITHDRAWAL_REJECTED","PAYOUT_VERIFICATION_APPROVED","PAYOUT_VERIFICATION_REJECTED"],"length":30,"message":"`WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","path":"actionType","type":"enum","value":"WITHDRAWAL_RESEND_PAYSTACK_OTP"},"value":"WITHDRAWAL_RESEND_PAYSTACK_OTP"},"sellerId":{"kind":"required","message":"Path `sellerId` is required.","name":"ValidatorError","path":"sellerId","properties":{"message":"Path `sellerId` is required.","path":"sellerId","type":"required"}}},"level":"error","message":"[resendPaystackOtpForWithdrawal] Error: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","service":"backend-api","stack":"ValidationError: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_RESEND_PAYSTACK_OTP` is not a valid enum value for path `actionType`.\n    at Document.invalidate (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3362:32)\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3123:17\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2026-02-05 17:08:16"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp \u001b[31m500\u001b[0m 1678.948 ms - 400\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:08:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:08:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:08:59"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:08:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp","service":"backend-api","timestamp":"2026-02-05 17:08:59"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 17:09:00","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:09:00"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Checking Paystack transfer status before OTP verification","service":"backend-api","timestamp":"2026-02-05 17:09:00","transferCode":"TRF_qkhzab0ps0gqjjni","withdrawalId":"698484401b8a38932485c45d"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack transfer status:","requiresPin":false,"service":"backend-api","status":"abandoned","timestamp":"2026-02-05 17:09:00"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/698484401b8a38932485c45d/verify-otp \u001b[33m400\u001b[0m 1853.352 ms - 590\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:09:01"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:10:21"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:10:22"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:10:22"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:10:22"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:10:22"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:10:22"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:10:24"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:10:25"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:10:25"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:10:25"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:10:25"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:10:25"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:10:27"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:10:27"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:10:27"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:10:27"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:10:27"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:10:27"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:10:34"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:10:35"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:10:35"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:10:35"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:10:35"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:10:35"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:10:38"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:10:38"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:10:38"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:10:38"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:10:38"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:10:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:11:31"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:11:31"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:11:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp","service":"backend-api","timestamp":"2026-02-05 17:11:31"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:11:32"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:11:32"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/698484401b8a38932485c45d/resend-otp \u001b[33m400\u001b[0m 1541.096 ms - 738\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:11:33"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:12:36"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:12:36"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d/verify","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:12:36"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/698484401b8a38932485c45d/verify","service":"backend-api","timestamp":"2026-02-05 17:12:36"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:12:36"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:12:36"}
{"isPaymentRequest":true,"level":"info","message":"[verifyTransferStatus] Status synced from Paystack:","newStatus":"failed","oldStatus":"awaiting_paystack_otp","paystackStatus":"abandoned","service":"backend-api","timestamp":"2026-02-05 17:12:38","withdrawalId":"698484401b8a38932485c45d"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/698484401b8a38932485c45d/verify \u001b[32m200\u001b[0m 2673.028 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/698484401b8a38932485c45d","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:12:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:12:39","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 782.653 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"hasPaymentDetails":true,"id":"698484401b8a38932485c45d","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1043.847 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/698484401b8a38932485c45d \u001b[32m200\u001b[0m 1064.951 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:12:39"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/698484401b8a38932485c45d","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:12:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/698484401b8a38932485c45d","service":"backend-api","timestamp":"2026-02-05 17:12:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1292.391 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:12:40"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:12:40"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:12:40"}
{"hasPaymentDetails":true,"id":"698484401b8a38932485c45d","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:12:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/698484401b8a38932485c45d \u001b[36m304\u001b[0m 1015.851 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:12:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:34"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:13:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 17:13:34"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:13:34"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:13:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1022.586 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:13:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:38"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/69847b291b8a38932485bf06","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:13:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/69847b291b8a38932485bf06","service":"backend-api","timestamp":"2026-02-05 17:13:38"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:13:39"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:13:39"}
{"hasPaymentDetails":true,"id":"69847b291b8a38932485bf06","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:13:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/69847b291b8a38932485bf06 \u001b[32m200\u001b[0m 1134.118 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:13:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:43"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/69847b291b8a38932485bf06/verify","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:13:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/69847b291b8a38932485bf06/verify","service":"backend-api","timestamp":"2026-02-05 17:13:43"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:13:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:13:44"}
{"isPaymentRequest":true,"level":"info","message":"[verifyTransferStatus] Status synced from Paystack:","newStatus":"failed","oldStatus":"awaiting_paystack_otp","paystackStatus":"abandoned","service":"backend-api","timestamp":"2026-02-05 17:13:45","withdrawalId":"69847b291b8a38932485bf06"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/69847b291b8a38932485bf06/verify \u001b[32m200\u001b[0m 2608.016 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/69847b291b8a38932485bf06","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/69847b291b8a38932485bf06","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:13:46"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:13:47","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 766.996 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"hasPaymentDetails":true,"id":"69847b291b8a38932485bf06","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1009.787 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/69847b291b8a38932485bf06 \u001b[32m200\u001b[0m 1026.127 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/69847b291b8a38932485bf06","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/69847b291b8a38932485bf06","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1271.335 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:13:47"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:13:48"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:13:48"}
{"hasPaymentDetails":true,"id":"69847b291b8a38932485bf06","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:13:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/69847b291b8a38932485bf06 \u001b[36m304\u001b[0m 1019.958 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:13:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:52"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:13:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 17:13:52"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:13:53"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:13:53"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1227.779 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:13:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:13:57"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:13:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","service":"backend-api","timestamp":"2026-02-05 17:13:57"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:13:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:13:57"}
{"hasPaymentDetails":true,"id":"6983eb5280d3679b5e9d8aef","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:13:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef \u001b[32m200\u001b[0m 1059.014 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:13:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:14:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:14:08"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/verify","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:14:08"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/verify","service":"backend-api","timestamp":"2026-02-05 17:14:08"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:14:08"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:14:08"}
{"isPaymentRequest":true,"level":"info","message":"[verifyTransferStatus] Status synced from Paystack:","newStatus":"failed","oldStatus":"awaiting_paystack_otp","paystackStatus":"abandoned","service":"backend-api","timestamp":"2026-02-05 17:14:10","withdrawalId":"6983eb5280d3679b5e9d8aef"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef/verify \u001b[32m200\u001b[0m 2526.266 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:14:11","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 865.860 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:11"}
{"hasPaymentDetails":true,"id":"6983eb5280d3679b5e9d8aef","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef \u001b[32m200\u001b[0m 1116.778 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:14:12"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:14:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef","service":"backend-api","timestamp":"2026-02-05 17:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1107.424 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:12"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:14:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:14:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1446.090 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:12"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:14:12"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:14:12"}
{"hasPaymentDetails":true,"id":"6983eb5280d3679b5e9d8aef","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:14:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6983eb5280d3679b5e9d8aef \u001b[36m304\u001b[0m 1173.371 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:14:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:14:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:14:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:14:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:14:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:14:37"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:14:37"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:14:37"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:14:37"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:14:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:14:38"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:14:38"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:14:38","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:14:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:14:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:14:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:14:38"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:14:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 814.943 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:38"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:14:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 826.258 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1178.781 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1480.982 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[32m200\u001b[0m 1729.756 ms - 308\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:14:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:14:44"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:14:44"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:14:44"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:14:44"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:14:44"}
{"level":"info","message":"[createPaymentRequest] Pending balance update for seller 6970b22eaba06cadfd4b8035:","service":"backend-api","timestamp":"2026-02-05 17:14:46"}
{"level":"info","message":"  Total Revenue (Balance);: 34042.56 (UNCHANGED - not deducted)","service":"backend-api","timestamp":"2026-02-05 17:14:46"}
{"level":"info","message":"  Pending Balance: 1899.94 + 250 = 2149.94","service":"backend-api","timestamp":"2026-02-05 17:14:46"}
{"level":"info","message":"  Locked Balance: 0 (unchanged);","service":"backend-api","timestamp":"2026-02-05 17:14:46"}
{"level":"info","message":"  Available Balance: 32142.62 - 250 = 31892.62 (decreased due to pending withdrawal);","service":"backend-api","timestamp":"2026-02-05 17:14:46"}
{"level":"info","message":"[createPaymentRequest] ‚úÖ Verified save - Total Revenue (Balance);: 34042.56 (UNCHANGED)","service":"backend-api","timestamp":"2026-02-05 17:14:48"}
{"level":"info","message":"[createPaymentRequest] ‚úÖ Verified save - LockedBalance: 0, PendingBalance: 2149.94, WithdrawableBalance: 31892.62","service":"backend-api","timestamp":"2026-02-05 17:14:48"}
{"level":"error","message":"[FinanceAudit] ‚ùå Error logging finance operation: safePath is not defined","service":"backend-api","stack":"ReferenceError: safePath is not defined\n    at exports.logFinanceOperation (/Users/mac/Desktop/Saiisai/backend/src/services/financeAuditService.js:65:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:396:7)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 17:14:48"}
{"level":"info","message":"[ResendClient] ‚úÖ Resend client configured","service":"backend-api","timestamp":"2026-02-05 17:14:48"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Payment Request Submitted","timestamp":"2026-02-05 17:14:48","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"e308d28d-55e6-4d34-8bcd-c4c66fe724f4","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 17:14:49","to":"benzflex00@gmail.com"}
{"level":"info","message":"Sending SMS to 244388190: Your payment request of GHS 250.00 has been received and is being processed.","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"level":"info","message":"[NotificationService] üîî Creating payout notification for 3 active admins (out of 3 total with status 'active');","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 6798101470646250be061204:","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 17:14:49"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 67e6cf65532239f7086a239b","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 67e6cf65532239f7086a239b:","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 17:14:49"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 684ff1bc8118ac2be8defdc6","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 684ff1bc8118ac2be8defdc6:","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 17:14:49"}
{"level":"info","message":"[NotificationService] ‚úÖ Created 0 payout notifications for admins","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"level":"info","message":"[Payment Request] Admin notification created for withdrawal 6984d00624d3f1a01ab0b708","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"level":"info","message":"\u001b[0mPOST /api/v1/paymentrequest \u001b[32m201\u001b[0m 5474.126 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:14:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:14:50"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:14:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 756.798 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:14:50"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:14:50"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:14:50"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:14:51"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:14:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 774.904 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:14:51"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:15:04"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:15:05"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:15:05"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:15:05"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:15:05"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:15:05"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:15:08"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:15:08"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:15:08"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:15:08"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:15:08"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:15:08"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:15:26"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:15:27"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:15:27"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:15:27"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:15:28"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:15:28"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:15:30"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:15:30"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:15:30"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:15:30"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:15:30"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:15:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:15:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:15:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:15:39"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 878.579 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:15:39"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:15:43"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:15:44"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:15:44"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:15:44"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:15:44"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:15:44"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:15:46"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:15:46"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:15:46"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:15:46"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:15:46"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:15:46"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:15:53"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:15:54"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:15:54"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:15:54"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:15:54"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:15:54"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:15:56"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:15:56"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:15:56"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:15:56"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:15:56"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:15:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:16:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:16:09"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:16:09"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 792.414 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:16:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:16:40"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:16:40"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:16:40"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 917.369 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:16:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:17:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:17:11"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:17:11"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 822.698 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:17:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:17:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:17:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:17:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 815.506 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:17:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:18:12"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:18:12"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:18:13"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 910.509 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:18:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:18:43"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:18:43"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:18:44"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 751.114 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:18:44"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:19:14"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:19:14"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:19:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 754.645 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:19:15"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:19:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:19:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:19:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 885.014 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:19:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:20:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:20:16"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:20:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 777.768 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:20:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:20:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:20:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:20:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 807.199 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:20:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:21:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:21:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:21:18"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 753.596 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:21:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:21:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:21:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:21:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 771.852 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:21:49"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:22:07"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:22:08"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:22:08"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:22:08"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:22:08"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:22:08"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:22:11"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:22:11"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:22:11"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:22:11"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:22:11"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:22:11"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:22:14"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:22:15"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:22:15"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:22:15"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:22:15"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:22:15"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:22:18"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:22:19"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:22:19"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:22:19"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:22:19"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:22:19"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:22:22"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:22:22"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:22:22"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:22:22"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:22:22"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:22:22"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:22:44"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:22:45"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:22:45"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:22:45"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:22:45"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:22:45"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:22:47"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:22:47"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:22:47"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:22:47"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:22:47"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:22:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:22:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:22:49"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:22:50"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:22:51"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:22:51"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:22:51"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:22:51"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:22:51"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:22:54"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:22:55"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:22:55"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:22:55"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:22:55"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:22:55"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:22:57"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:22:57"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:22:57"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:22:57"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:22:57"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:22:57"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:23:08"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:23:09"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:23:09"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:23:09"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:23:09"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:23:09"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:23:12"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:23:14"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:23:14"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:23:14"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:23:14"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:23:14"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:23:16"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:23:16"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:23:16"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:23:16"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:23:16"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:23:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:23:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:23:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:23:23"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 4153.686 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:23:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:23:53"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:23:53"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:23:54"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 856.518 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:23:54"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:24:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:24:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:24:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 882.874 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:24:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:24:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:24:55"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:24:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 870.737 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:24:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:25:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:25:26"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:25:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 819.360 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:25:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:25:57"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:25:57"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:25:58"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 958.527 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:25:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:26:28"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:26:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:26:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 880.003 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:26:29"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:26:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:26:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:26:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 798.158 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:26:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:27:29"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:27:29"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:27:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 767.693 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:27:30"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:28:00"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:28:00"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:28:01"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 771.616 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:28:01"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:28:31"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:28:31"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:28:32"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 748.303 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:28:32"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:29:02"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:29:03"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:29:03"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:29:03"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:29:03"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:29:03"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:29:06"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:29:06"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:29:06"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:29:06"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:29:06"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:29:06"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:29:10"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:29:10"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:29:10"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:29:10"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:29:10"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:29:10"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:29:13"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:29:13"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:29:13"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:29:13"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:29:13"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:29:13"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:29:18"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:29:19"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:29:19"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:29:19"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:29:19"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:29:19"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:29:22"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:29:22"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:29:22"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:29:22"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:29:22"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:29:22"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:29:24"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:29:25"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:29:25"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:29:25"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:29:25"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:29:25"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:29:28"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:29:28"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:29:28"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:29:28"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:29:28"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:29:28"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:29:30"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:29:30"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:29:30"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:29:30"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:29:30"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:29:30"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:29:33"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:29:33"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:29:33"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:29:33"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:29:33"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:29:33"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:29:36"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:29:37"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:29:37"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:29:37"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:29:37"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:29:37"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:29:39"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:29:39"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:29:39"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:29:39"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:29:39"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:29:39"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:30:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:30:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:30:02"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 884.304 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:30:03"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:30:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:30:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:30:33"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 913.566 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:30:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:31:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:31:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:31:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 806.596 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:31:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:31:34"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:31:34"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:31:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 757.079 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:31:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:31:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:31:52"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:31:52"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for POST /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:31:52"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:31:53"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:31:53"}
{"level":"info","message":"[createPaymentRequest] Pending balance update for seller 6970b22eaba06cadfd4b8035:","service":"backend-api","timestamp":"2026-02-05 17:31:55"}
{"level":"info","message":"  Total Revenue (Balance);: 34042.56 (UNCHANGED - not deducted)","service":"backend-api","timestamp":"2026-02-05 17:31:55"}
{"level":"info","message":"  Pending Balance: 2149.94 + 300 = 2449.94","service":"backend-api","timestamp":"2026-02-05 17:31:55"}
{"level":"info","message":"  Locked Balance: 0 (unchanged);","service":"backend-api","timestamp":"2026-02-05 17:31:55"}
{"level":"info","message":"  Available Balance: 31892.62 - 300 = 31592.62 (decreased due to pending withdrawal);","service":"backend-api","timestamp":"2026-02-05 17:31:55"}
{"level":"info","message":"[createPaymentRequest] ‚úÖ Verified save - Total Revenue (Balance);: 34042.56 (UNCHANGED)","service":"backend-api","timestamp":"2026-02-05 17:31:57"}
{"level":"info","message":"[createPaymentRequest] ‚úÖ Verified save - LockedBalance: 0, PendingBalance: 2449.94, WithdrawableBalance: 31592.62","service":"backend-api","timestamp":"2026-02-05 17:31:57"}
{"level":"error","message":"[FinanceAudit] ‚ùå Error logging finance operation: safePath is not defined","service":"backend-api","stack":"ReferenceError: safePath is not defined\n    at exports.logFinanceOperation (/Users/mac/Desktop/Saiisai/backend/src/services/financeAuditService.js:65:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:396:7)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 17:31:57"}
{"level":"info","message":"[ResendClient] ‚úÖ Resend client configured","service":"backend-api","timestamp":"2026-02-05 17:31:57"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Payment Request Submitted","timestamp":"2026-02-05 17:31:57","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"fdda005f-8f61-4241-a81f-6528a925859a","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 17:31:58","to":"benzflex00@gmail.com"}
{"level":"info","message":"Sending SMS to 244388190: Your payment request of GHS 300.00 has been received and is being processed.","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"level":"info","message":"[NotificationService] üîî Creating payout notification for 3 active admins (out of 3 total with status 'active');","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 6798101470646250be061204","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 6798101470646250be061204:","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 17:31:58"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 67e6cf65532239f7086a239b","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 67e6cf65532239f7086a239b:","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 17:31:58"}
{"level":"info","message":"[NotificationService] üìß Creating payout notification for admin 684ff1bc8118ac2be8defdc6","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"0":"l","1":"o","10":"n","11":"o","12":"t","13":" ","14":"d","15":"e","16":"f","17":"i","18":"n","19":"e","2":"g","20":"d","3":"g","4":"e","5":"r","6":" ","7":"i","8":"s","9":" ","level":"error","message":"[NotificationService] ‚ùå Error creating payout notification for admin 684ff1bc8118ac2be8defdc6:","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"level":"error","message":"[NotificationService] Full error: logger is not defined","service":"backend-api","stack":"ReferenceError: logger is not defined\n    at exports.createNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:118:5)\n    at exports.createNotificationForAllAdmins (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:410:44)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async exports.createWithdrawalRequestNotification (/Users/mac/Desktop/Saiisai/backend/src/services/notification/notificationService.js:496:10)\n    at async exports.createPaymentRequest (/Users/mac/Desktop/Saiisai/backend/src/services/paymentRequestService.js:414:5)\n    at async /Users/mac/Desktop/Saiisai/backend/src/controllers/shared/paymentController.js:887:28","timestamp":"2026-02-05 17:31:58"}
{"level":"info","message":"[NotificationService] ‚úÖ Created 0 payout notifications for admins","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"level":"info","message":"[Payment Request] Admin notification created for withdrawal 6984d40b1183d5165c7f4ac8","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"level":"info","message":"\u001b[0mPOST /api/v1/paymentrequest \u001b[32m201\u001b[0m 6140.557 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:31:58"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:31:59"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:31:59"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 814.115 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:31:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:31:59"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:31:59"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:31:59"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:32:00"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:00"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 926.475 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:06"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:06"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:32:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 17:32:06"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:32:06"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:06"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1114.441 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:07"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:11"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:11"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d00624d3f1a01ab0b708","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:32:11"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708","service":"backend-api","timestamp":"2026-02-05 17:32:11"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:32:11"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:11"}
{"hasPaymentDetails":true,"id":"6984d00624d3f1a01ab0b708","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:32:12"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708 \u001b[32m200\u001b[0m 1032.166 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:12"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:16"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d00624d3f1a01ab0b708/approve","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:32:16"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708/approve","service":"backend-api","timestamp":"2026-02-05 17:32:16"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:32:17"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:17"}
{"allFields":["approvedByAdmin","rejectedByAdmin","_id","seller","amount","currency","paymentMethod","paymentDetails","status","reversed","reverseReason","approvedAt","rejectedAt","paystackRecipientCode","paystackTransferId","paystackTransferCode","paystackReference","otpSessionStatus","requiresPin","pinSubmitted","withholdingTax","withholdingTaxRate","amountRequested","amountPaidToSeller","sellerBalanceBefore","sellerBalanceAfter","isActive","deactivatedAt","paymentDate","createdAt","auditHistory","__v"],"hasPaymentDetails":true,"id":"6984d00624d3f1a01ab0b708","isPaymentRequest":true,"level":"info","message":"[approveWithdrawalRequest] Withdrawal request fields:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentDetailsKeys":["phone","network","accountName"],"paymentMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:32:18"}
{"hasPaymentDetails":true,"isPaymentRequest":true,"level":"info","message":"[approveWithdrawalRequest] Using payment details from request:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentDetailsKeys":["phone","network","accountName"],"paymentMethod":"mtn_momo","resolvedPaymentMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:32:18","withdrawalRequestFields":["approvedByAdmin","rejectedByAdmin","_id","seller","amount","currency","paymentMethod","paymentDetails","status","reversed","reverseReason","approvedAt","rejectedAt","paystackRecipientCode","paystackTransferId","paystackTransferCode","paystackReference","otpSessionStatus","requiresPin","pinSubmitted","withholdingTax","withholdingTaxRate","amountRequested","amountPaidToSeller","sellerBalanceBefore","sellerBalanceAfter","isActive","deactivatedAt","paymentDate","createdAt","auditHistory","__v"]}
{"bank_code":"MTN","level":"info","message":"[approveWithdrawalRequest] Mobile money recipient data from request:","network":"MTN","paymentMethod":"mtn_momo","phone":"0244388190","service":"backend-api","timestamp":"2026-02-05 17:32:18"}
{"level":"info","message":"[approveWithdrawalRequest] Created recipient from payment details:","paymentMethod":"mtn_momo","recipientCode":"RCP_4pe4283uh609l51","service":"backend-api","timestamp":"2026-02-05 17:32:19"}
{"amount":25000,"endpoint":"/transfer","level":"info","message":"üí≥ [PayoutService] Initiating Paystack transfer:","reason":"Payout for eazworld - Request #6984d00624d3f1a01ab0b708","recipientCode":"RCP_4pe4283uh609l51","service":"backend-api","timestamp":"2026-02-05 17:32:19"}
{"fullResponse":"{\n  \"status\": true,\n  \"message\": \"Transfer requires OTP to continue\",\n  \"data\": {\n    \"transfersessionid\": [],\n    \"transfertrials\": [],\n    \"domain\": \"test\",\n    \"amount\": 25000,\n    \"currency\": \"GHS\",\n    \"reference\": \"w6delq1c4gg1iqj42-mf\",\n    \"source\": \"balance\",\n    \"source_details\": null,\n    \"reason\": \"Payout for eazworld - Request #6984d00624d3f1a01ab0b708\",\n    \"status\": \"otp\",\n    \"failures\": null,\n    \"transfer_code\": \"TRF_lt8aajhdlyswr8vf\",\n    \"titan_code\": null,\n    \"transferred_at\": null,\n    \"id\": 951708987,\n    \"integration\": 1205003,\n    \"request\": 1198164998,\n    \"recipient\": 116219070,\n    \"createdAt\": \"2026-02-05T17:32:20.000Z\",\n    \"updatedAt\": \"2026-02-05T17:32:20.000Z\"\n  }\n}","level":"info","message":"üí≥ [PayoutService] Paystack transfer initiated response:","requiresOtp":true,"service":"backend-api","status":true,"timestamp":"2026-02-05 17:32:19","transferCode":"TRF_lt8aajhdlyswr8vf","transferStatus":"otp"}
{"level":"info","message":"üîê [PayoutService] ‚ö†Ô∏è PAYSTACK WILL GENERATE AND SEND OTP AUTOMATICALLY","service":"backend-api","timestamp":"2026-02-05 17:32:19"}
{"level":"info","message":"üîê [PayoutService] Paystack automatically sends OTP to recipient phone/email when transfer requires OTP","service":"backend-api","timestamp":"2026-02-05 17:32:19"}
{"level":"info","message":"üîê [PayoutService] Our backend does NOT generate the OTP - Paystack handles it","service":"backend-api","timestamp":"2026-02-05 17:32:19"}
{"0":"o","1":"t","2":"p","level":"info","message":"üîê [PayoutService] Transfer status:","service":"backend-api","timestamp":"2026-02-05 17:32:19"}
{"0":"T","1":"R","10":"h","11":"d","12":"l","13":"y","14":"s","15":"w","16":"r","17":"8","18":"v","19":"f","2":"F","3":"_","4":"l","5":"t","6":"8","7":"a","8":"a","9":"j","level":"info","message":"üîê [PayoutService] Transfer code:","service":"backend-api","timestamp":"2026-02-05 17:32:19"}
{"level":"info","message":"üí≥ [approveWithdrawalRequest] Paystack transfer initiated:","service":"backend-api","status":"otp","timestamp":"2026-02-05 17:32:19","transferCode":"TRF_lt8aajhdlyswr8vf","transferData":{"amount":25000,"createdAt":"2026-02-05T17:32:20.000Z","currency":"GHS","domain":"test","failures":null,"id":951708987,"integration":1205003,"reason":"Payout for eazworld - Request #6984d00624d3f1a01ab0b708","recipient":116219070,"reference":"w6delq1c4gg1iqj42-mf","request":1198164998,"source":"balance","source_details":null,"status":"otp","titan_code":null,"transfer_code":"TRF_lt8aajhdlyswr8vf","transferred_at":null,"transfersessionid":[],"transfertrials":[],"updatedAt":"2026-02-05T17:32:20.000Z"}}
{"isMobileMoney":true,"level":"info","message":"üí≥ [approveWithdrawalRequest] Paystack transfer status analysis:","paystackStatus":"otp","requiresPin":true,"service":"backend-api","timestamp":"2026-02-05 17:32:19","willSetStatusToAwaitingOtp":true}
{"finalStatus":"awaiting_paystack_otp","level":"info","message":"üí≥ [approveWithdrawalRequest] Setting withdrawal status:","paystackStatus":"otp","reason":"Paystack status is \"otp\" - will await OTP","service":"backend-api","shouldAwaitOtp":true,"timestamp":"2026-02-05 17:32:19"}
{"level":"info","message":"[approveWithdrawalRequest] Created TaxCollection record: 6984d4241183d5165c7f4b06, Amount: 7.5, Rate: 0.03","service":"backend-api","timestamp":"2026-02-05 17:32:20"}
{"level":"info","message":"[approveWithdrawalRequest] Balance after admin approval for seller 6970b22eaba06cadfd4b8035:","service":"backend-api","timestamp":"2026-02-05 17:32:22"}
{"level":"info","message":"  Total Revenue (Balance);: 34042.56 (unchanged - will deduct when OTP verified)","service":"backend-api","timestamp":"2026-02-05 17:32:22"}
{"level":"info","message":"  Pending Balance: 2449.94 (unchanged - awaiting OTP verification);","service":"backend-api","timestamp":"2026-02-05 17:32:22"}
{"level":"info","message":"  Locked Balance: 0 (unchanged);","service":"backend-api","timestamp":"2026-02-05 17:32:22"}
{"level":"info","message":"  Available Balance: 31592.62 ‚Üí 31592.62 (recalculated);","service":"backend-api","timestamp":"2026-02-05 17:32:22"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Withdrawal Request Received - GH‚Çµ250.00 - Saiisai","timestamp":"2026-02-05 17:32:23","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"74a03956-253e-4db9-99b8-cecdc8ba04f4","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 17:32:24","to":"benzflex00@gmail.com"}
{"level":"info","message":"[approveWithdrawalRequest] ‚úÖ Withdrawal request email sent to seller benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708/approve \u001b[32m200\u001b[0m 7041.118 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d00624d3f1a01ab0b708","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:32:24","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 865.116 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:24"}
{"hasPaymentDetails":true,"id":"6984d00624d3f1a01ab0b708","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:32:25"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:32:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1111.799 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708 \u001b[32m200\u001b[0m 1124.872 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:25"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d00624d3f1a01ab0b708","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:32:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708","service":"backend-api","timestamp":"2026-02-05 17:32:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1477.820 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:25"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:32:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:25"}
{"hasPaymentDetails":true,"id":"6984d00624d3f1a01ab0b708","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:32:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708 \u001b[36m304\u001b[0m 1172.104 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:51"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:51"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d00624d3f1a01ab0b708/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:32:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708/verify-otp","service":"backend-api","timestamp":"2026-02-05 17:32:51"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6984d00624d3f1a01ab0b708/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 17:32:52","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:52"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Checking Paystack transfer status before OTP verification","service":"backend-api","timestamp":"2026-02-05 17:32:52","transferCode":"TRF_lt8aajhdlyswr8vf","withdrawalId":"6984d00624d3f1a01ab0b708"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack transfer status:","requiresPin":true,"service":"backend-api","status":"otp","timestamp":"2026-02-05 17:32:52"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Finalizing transfer with OTP","service":"backend-api","timestamp":"2026-02-05 17:32:52","transferCode":"TRF_lt8aajhdlyswr8vf","withdrawalId":"6984d00624d3f1a01ab0b708"}
{"level":"info","message":"[PayoutService] Finalizing transfer with OTP:","otpLength":6,"service":"backend-api","timestamp":"2026-02-05 17:32:52","transferCode":"TRF_lt8aajhdlyswr8vf"}
{"hasData":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack finalize_transfer result:","responseStructure":{"dataLevelStatus":true,"hasData":true,"hasNestedData":true,"topLevelStatus":200},"service":"backend-api","timestamp":"2026-02-05 17:32:53","transferStatus":"success"}
{"amount":250,"balanceBefore":34042.56,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Deducted from pendingBalance and balance (paid):","pendingBefore":2449.94,"sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","timestamp":"2026-02-05 17:32:54"}
{"level":"error","message":"AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_VERIFY_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","service":"backend-api","stack":"ValidationError: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_VERIFY_PAYSTACK_OTP` is not a valid enum value for path `actionType`.\n    at Document.invalidate (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3362:32)\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3123:17\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2026-02-05 17:32:55"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708/verify-otp \u001b[32m200\u001b[0m 3629.623 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d00624d3f1a01ab0b708","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:32:55"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:32:56","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 876.937 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"hasPaymentDetails":true,"id":"6984d00624d3f1a01ab0b708","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708 \u001b[32m200\u001b[0m 1138.755 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d00624d3f1a01ab0b708","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1126.266 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1466.744 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:56"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:32:57"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:32:57"}
{"hasPaymentDetails":true,"id":"6984d00624d3f1a01ab0b708","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:32:57"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984d00624d3f1a01ab0b708 \u001b[36m304\u001b[0m 1134.921 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:32:57"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:33:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:33:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:33:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:33:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:33:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:33:02"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:33:02"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:33:02"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:33:02"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:33:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:33:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:33:03"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:33:03"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:33:03"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:33:03","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:33:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:33:03"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 751.967 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:33:03"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 782.826 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1030.823 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:33:03"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1284.593 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:33:04"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[32m200\u001b[0m 1560.999 ms - 308\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:33:04"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:33:33"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:33:33"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:33:34"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 906.249 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:33:34"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:34:04"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:34:04"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:34:05"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 864.334 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:34:05"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:34:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:34:35"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:34:35"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 751.786 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:34:36"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:34:55"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:34:56"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:34:56"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:34:56"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:34:56"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:34:56"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:34:59"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:34:59"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:34:59"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:34:59"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:34:59"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:34:59"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:35:06"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:35:06"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:35:07"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:35:09"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:35:09"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:35:09"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:35:09"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:35:09"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:35:11"}
{"database":"test","host":"cluster0-shard-00-00.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:35:11"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:35:11"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:35:11"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:35:11"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:35:11"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:35:35"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:35:36"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:35:36"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:35:36"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:35:36"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:35:36"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:35:39"}
{"database":"test","host":"cluster0-shard-00-01.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:35:39"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:35:39"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:35:39"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:35:39"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:35:39"}
{"level":"info","message":"[EmailService] üìß Brand: Saiisai | URL: http://localhost:5173","service":"backend-api","timestamp":"2026-02-05 17:35:56"}
{"level":"info","message":"‚ö†Ô∏è  [AI Search] AI-Powered Search is DISABLED","service":"backend-api","timestamp":"2026-02-05 17:35:57"}
{"level":"info","message":"   Reason: AI_SEARCH_ENABLED is not \"true\"","service":"backend-api","timestamp":"2026-02-05 17:35:57"}
{"level":"info","message":"   System will use rule-based search fallback","service":"backend-api","timestamp":"2026-02-05 17:35:57"}
{"level":"info","message":"‚úÖ Loaded environment from: /Users/mac/Desktop/Saiisai/backend/.env","service":"backend-api","timestamp":"2026-02-05 17:35:57"}
{"level":"info","message":"‚úÖ Environment variables validated successfully for development","service":"backend-api","timestamp":"2026-02-05 17:35:57"}
{"level":"info","message":"Connected to MongoDB successfully","service":"backend-api","timestamp":"2026-02-05 17:36:00"}
{"database":"test","host":"cluster0-shard-00-02.lax0r.mongodb.net","level":"info","message":"MongoDB connection details","service":"backend-api","timestamp":"2026-02-05 17:36:00"}
{"level":"info","message":"[TokenCleanup] ‚ö†Ô∏è  Cron job DISABLED in development mode","service":"backend-api","timestamp":"2026-02-05 17:36:00"}
{"level":"info","message":"[TokenCleanup] To enable, set NODE_ENV=production","service":"backend-api","timestamp":"2026-02-05 17:36:00"}
{"level":"info","message":"[WithdrawalCleanupJob] ‚úÖ Cleanup job scheduled (runs every hour);","service":"backend-api","timestamp":"2026-02-05 17:36:00"}
{"level":"info","message":"Cron jobs initialized (including withdrawal cleanup)","service":"backend-api","timestamp":"2026-02-05 17:36:00"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:36:07"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:36:07"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:36:07"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 981.472 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:36:08"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:36:38"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:36:38"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:36:38"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 769.930 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:36:38"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:09"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:09"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/requests","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:37:09"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/requests","service":"backend-api","timestamp":"2026-02-05 17:37:09"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:37:10"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:37:10"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/requests?limit=10000&page=1 \u001b[32m200\u001b[0m 1057.187 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:37:10"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:13"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:13"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:37:13"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8","service":"backend-api","timestamp":"2026-02-05 17:37:13"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:37:13"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:37:13"}
{"hasPaymentDetails":true,"id":"6984d40b1183d5165c7f4ac8","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:37:14"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8 \u001b[32m200\u001b[0m 1060.520 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:37:14"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:17"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:17"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8/approve","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:37:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8/approve","service":"backend-api","timestamp":"2026-02-05 17:37:17"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:37:18"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:37:18"}
{"allFields":["approvedByAdmin","rejectedByAdmin","_id","seller","amount","currency","paymentMethod","paymentDetails","status","reversed","reverseReason","approvedAt","rejectedAt","paystackRecipientCode","paystackTransferId","paystackTransferCode","paystackReference","otpSessionStatus","requiresPin","pinSubmitted","withholdingTax","withholdingTaxRate","amountRequested","amountPaidToSeller","sellerBalanceBefore","sellerBalanceAfter","isActive","deactivatedAt","paymentDate","createdAt","auditHistory","__v"],"hasPaymentDetails":true,"id":"6984d40b1183d5165c7f4ac8","isPaymentRequest":true,"level":"info","message":"[approveWithdrawalRequest] Withdrawal request fields:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentDetailsKeys":["phone","network","accountName"],"paymentMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:37:19"}
{"hasPaymentDetails":true,"isPaymentRequest":true,"level":"info","message":"[approveWithdrawalRequest] Using payment details from request:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentDetailsKeys":["phone","network","accountName"],"paymentMethod":"mtn_momo","resolvedPaymentMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:37:19","withdrawalRequestFields":["approvedByAdmin","rejectedByAdmin","_id","seller","amount","currency","paymentMethod","paymentDetails","status","reversed","reverseReason","approvedAt","rejectedAt","paystackRecipientCode","paystackTransferId","paystackTransferCode","paystackReference","otpSessionStatus","requiresPin","pinSubmitted","withholdingTax","withholdingTaxRate","amountRequested","amountPaidToSeller","sellerBalanceBefore","sellerBalanceAfter","isActive","deactivatedAt","paymentDate","createdAt","auditHistory","__v"]}
{"bank_code":"MTN","level":"info","message":"[approveWithdrawalRequest] Mobile money recipient data from request:","network":"MTN","paymentMethod":"mtn_momo","phone":"0244388190","service":"backend-api","timestamp":"2026-02-05 17:37:19"}
{"level":"info","message":"[approveWithdrawalRequest] Created recipient from payment details:","paymentMethod":"mtn_momo","recipientCode":"RCP_4pe4283uh609l51","service":"backend-api","timestamp":"2026-02-05 17:37:19"}
{"amount":30000,"endpoint":"/transfer","level":"info","message":"üí≥ [PayoutService] Initiating Paystack transfer:","reason":"Payout for eazworld - Request #6984d40b1183d5165c7f4ac8","recipientCode":"RCP_4pe4283uh609l51","service":"backend-api","timestamp":"2026-02-05 17:37:20"}
{"fullResponse":"{\n  \"status\": true,\n  \"message\": \"Transfer requires OTP to continue\",\n  \"data\": {\n    \"transfersessionid\": [],\n    \"transfertrials\": [],\n    \"domain\": \"test\",\n    \"amount\": 30000,\n    \"currency\": \"GHS\",\n    \"reference\": \"fo737zadbef25rs3dpg7\",\n    \"source\": \"balance\",\n    \"source_details\": null,\n    \"reason\": \"Payout for eazworld - Request #6984d40b1183d5165c7f4ac8\",\n    \"status\": \"otp\",\n    \"failures\": null,\n    \"transfer_code\": \"TRF_7pzvwmchppla296s\",\n    \"titan_code\": null,\n    \"transferred_at\": null,\n    \"id\": 951710441,\n    \"integration\": 1205003,\n    \"request\": 1198166731,\n    \"recipient\": 116219070,\n    \"createdAt\": \"2026-02-05T17:37:20.000Z\",\n    \"updatedAt\": \"2026-02-05T17:37:20.000Z\"\n  }\n}","level":"info","message":"üí≥ [PayoutService] Paystack transfer initiated response:","requiresOtp":true,"service":"backend-api","status":true,"timestamp":"2026-02-05 17:37:20","transferCode":"TRF_7pzvwmchppla296s","transferStatus":"otp"}
{"level":"info","message":"üîê [PayoutService] ‚ö†Ô∏è PAYSTACK WILL GENERATE AND SEND OTP AUTOMATICALLY","service":"backend-api","timestamp":"2026-02-05 17:37:20"}
{"level":"info","message":"üîê [PayoutService] Paystack automatically sends OTP to recipient phone/email when transfer requires OTP","service":"backend-api","timestamp":"2026-02-05 17:37:20"}
{"level":"info","message":"üîê [PayoutService] Our backend does NOT generate the OTP - Paystack handles it","service":"backend-api","timestamp":"2026-02-05 17:37:20"}
{"0":"o","1":"t","2":"p","level":"info","message":"üîê [PayoutService] Transfer status:","service":"backend-api","timestamp":"2026-02-05 17:37:20"}
{"0":"T","1":"R","10":"c","11":"h","12":"p","13":"p","14":"l","15":"a","16":"2","17":"9","18":"6","19":"s","2":"F","3":"_","4":"7","5":"p","6":"z","7":"v","8":"w","9":"m","level":"info","message":"üîê [PayoutService] Transfer code:","service":"backend-api","timestamp":"2026-02-05 17:37:20"}
{"level":"info","message":"üí≥ [approveWithdrawalRequest] Paystack transfer initiated:","service":"backend-api","status":"otp","timestamp":"2026-02-05 17:37:20","transferCode":"TRF_7pzvwmchppla296s","transferData":{"amount":30000,"createdAt":"2026-02-05T17:37:20.000Z","currency":"GHS","domain":"test","failures":null,"id":951710441,"integration":1205003,"reason":"Payout for eazworld - Request #6984d40b1183d5165c7f4ac8","recipient":116219070,"reference":"fo737zadbef25rs3dpg7","request":1198166731,"source":"balance","source_details":null,"status":"otp","titan_code":null,"transfer_code":"TRF_7pzvwmchppla296s","transferred_at":null,"transfersessionid":[],"transfertrials":[],"updatedAt":"2026-02-05T17:37:20.000Z"}}
{"isMobileMoney":true,"level":"info","message":"üí≥ [approveWithdrawalRequest] Paystack transfer status analysis:","paystackStatus":"otp","requiresPin":true,"service":"backend-api","timestamp":"2026-02-05 17:37:20","willSetStatusToAwaitingOtp":true}
{"finalStatus":"awaiting_paystack_otp","level":"info","message":"üí≥ [approveWithdrawalRequest] Setting withdrawal status:","paystackStatus":"otp","reason":"Paystack status is \"otp\" - will await OTP","service":"backend-api","shouldAwaitOtp":true,"timestamp":"2026-02-05 17:37:20"}
{"level":"info","message":"[approveWithdrawalRequest] Created TaxCollection record: 6984d5509a32ee49c1a394ce, Amount: 9, Rate: 0.03","service":"backend-api","timestamp":"2026-02-05 17:37:21"}
{"level":"info","message":"[approveWithdrawalRequest] Balance after admin approval for seller 6970b22eaba06cadfd4b8035:","service":"backend-api","timestamp":"2026-02-05 17:37:23"}
{"level":"info","message":"  Total Revenue (Balance);: 33792.56 (unchanged - will deduct when OTP verified)","service":"backend-api","timestamp":"2026-02-05 17:37:23"}
{"level":"info","message":"  Pending Balance: 2199.94 (unchanged - awaiting OTP verification);","service":"backend-api","timestamp":"2026-02-05 17:37:23"}
{"level":"info","message":"  Locked Balance: 0 (unchanged);","service":"backend-api","timestamp":"2026-02-05 17:37:23"}
{"level":"info","message":"  Available Balance: 31592.62 ‚Üí 31592.62 (recalculated);","service":"backend-api","timestamp":"2026-02-05 17:37:23"}
{"level":"info","message":"[ResendClient] ‚úÖ Resend client configured","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Withdrawal Request Received - GH‚Çµ300.00 - Saiisai","timestamp":"2026-02-05 17:37:24","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"a1152aac-5f86-42cc-9279-6dc802586b45","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 17:37:24","to":"benzflex00@gmail.com"}
{"level":"info","message":"[approveWithdrawalRequest] ‚úÖ Withdrawal request email sent to seller benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8/approve \u001b[32m200\u001b[0m 6950.058 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:37:24"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:37:25","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 862.568 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"hasPaymentDetails":true,"id":"6984d40b1183d5165c7f4ac8","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8 \u001b[32m200\u001b[0m 1118.262 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1111.876 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:37:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1356.532 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:37:26"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:37:26"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:37:26"}
{"hasPaymentDetails":true,"id":"6984d40b1183d5165c7f4ac8","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:37:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8 \u001b[36m304\u001b[0m 1088.852 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:37:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:38:35"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:38:35"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8/verify-otp","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"POST","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:38:35"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for POST /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8/verify-otp","service":"backend-api","timestamp":"2026-02-05 17:38:35"}
{"email":"fekt@icloud.com","fullPath":"/api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8/verify-otp","level":"info","message":"[Auth] ‚úÖ Authentication successful for verify-otp:","role":"admin","service":"backend-api","timestamp":"2026-02-05 17:38:36","userId":"6798101470646250be061204"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:38:36"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Checking Paystack transfer status before OTP verification","service":"backend-api","timestamp":"2026-02-05 17:38:36","transferCode":"TRF_7pzvwmchppla296s","withdrawalId":"6984d40b1183d5165c7f4ac8"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack transfer status:","requiresPin":true,"service":"backend-api","status":"otp","timestamp":"2026-02-05 17:38:37"}
{"adminId":"6798101470646250be061204","isPaymentRequest":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Finalizing transfer with OTP","service":"backend-api","timestamp":"2026-02-05 17:38:37","transferCode":"TRF_7pzvwmchppla296s","withdrawalId":"6984d40b1183d5165c7f4ac8"}
{"level":"info","message":"[PayoutService] Finalizing transfer with OTP:","otpLength":6,"service":"backend-api","timestamp":"2026-02-05 17:38:37","transferCode":"TRF_7pzvwmchppla296s"}
{"hasData":true,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Paystack finalize_transfer result:","responseStructure":{"dataLevelStatus":true,"hasData":true,"hasNestedData":true,"topLevelStatus":200},"service":"backend-api","timestamp":"2026-02-05 17:38:37","transferStatus":"success"}
{"amount":300,"balanceBefore":33792.56,"level":"info","message":"[verifyPaystackOtpForWithdrawal] Deducted from pendingBalance and balance (paid):","pendingBefore":2199.94,"sellerId":"6970b22eaba06cadfd4b8035","service":"backend-api","timestamp":"2026-02-05 17:38:39"}
{"level":"error","message":"AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_VERIFY_PAYSTACK_OTP` is not a valid enum value for path `actionType`.","service":"backend-api","stack":"ValidationError: AdminActionLog validation failed: sellerId: Path `sellerId` is required., actionType: `WITHDRAWAL_VERIFY_PAYSTACK_OTP` is not a valid enum value for path `actionType`.\n    at Document.invalidate (/Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3362:32)\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/document.js:3123:17\n    at /Users/mac/Desktop/Saiisai/backend/node_modules/mongoose/lib/schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2026-02-05 17:38:39"}
{"from":"no-reply@saiisai.com","level":"info","message":"[Resend] üì§ Attempting to send email","service":"backend-api","subject":"Withdrawal Approved - GH‚Çµ300.00 - Saiisai","timestamp":"2026-02-05 17:38:40","to":"benzflex00@gmail.com"}
{"from":"no-reply@saiisai.com","id":"45405aa2-59d7-42d2-8a78-32fe8e506858","level":"info","message":"[Resend] ‚úÖ Email sent successfully","service":"backend-api","timestamp":"2026-02-05 17:38:40","to":"benzflex00@gmail.com"}
{"level":"info","message":"[verifyPaystackOtpForWithdrawal] ‚úÖ Transfer success email sent to seller benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:38:40"}
{"level":"info","message":"\u001b[0mPOST /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8/verify-otp \u001b[32m200\u001b[0m 5240.172 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:38:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:38:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:38:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:38:40"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:38:40"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:38:41","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 794.109 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:38:41"}
{"hasPaymentDetails":true,"id":"6984d40b1183d5165c7f4ac8","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:38:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:38:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:38:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1060.614 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:38:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8 \u001b[32m200\u001b[0m 1071.593 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:38:42"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:38:42"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:38:42"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8","service":"backend-api","timestamp":"2026-02-05 17:38:42"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1364.347 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:38:42"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:38:42"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:38:42"}
{"hasPaymentDetails":true,"id":"6984d40b1183d5165c7f4ac8","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:38:43"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8 \u001b[36m304\u001b[0m 1110.958 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:38:43"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:38:45","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 856.974 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[32m200\u001b[0m 857.817 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:38:45"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1241.422 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:38:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1485.150 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:38:46"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[32m200\u001b[0m 1738.086 ms - 308\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:38:46"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:39:15"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:39:15"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:39:16"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 775.417 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:39:16"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:39:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:39:26"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:39:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[32m200\u001b[0m 1566.078 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:39:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:39:46"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:39:46"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:39:47"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 750.615 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:39:47"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:40:17"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:40:17"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:40:17"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 801.874 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:40:18"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:40:48"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:40:48"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:40:48"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 767.481 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:40:48"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:41:19"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:41:19"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:41:19"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 815.654 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:41:19"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:41:49"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:41:49"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:41:50"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 816.619 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:41:50"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:42:20"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:42:20"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:42:21"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 750.936 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:42:21"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:42:51"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:42:51"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:42:51"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 780.109 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:42:52"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:43:22"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:43:22"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[0m-\u001b[0m - ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:22"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:43:22"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:43:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:43:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:43:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:43:23"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:43:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:43:23"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/me","service":"backend-api","timestamp":"2026-02-05 17:43:23"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:43:23"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:43:24"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:43:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me \u001b[32m200\u001b[0m 1055.475 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:24"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/me \u001b[32m200\u001b[0m 1278.492 ms - 323\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"admin_jwt","fullPath":"/api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8","hasAuthHeader":false,"isSellerRoute":false,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (admin_jwt) for GET /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:43:25","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as admin: fekt@icloud.com","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: admin matches required roles","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 755.296 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:43:25"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:43:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 1028.248 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:26"}
{"hasPaymentDetails":true,"id":"6984d40b1183d5165c7f4ac8","level":"info","message":"[getWithdrawalRequest] Payment details:","paymentDetails":{"accountName":"umar faisal","network":"MTN","phone":"0244388190"},"paymentMethod":"mtn_momo","payoutMethod":"mtn_momo","service":"backend-api","timestamp":"2026-02-05 17:43:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/admin/payout/request/6984d40b1183d5165c7f4ac8 \u001b[36m304\u001b[0m 1027.541 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:26"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5175","service":"backend-api","timestamp":"2026-02-05 17:43:26"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:43:26"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:43:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 1271.200 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 1497.148 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:26"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 757.527 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:26"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:43:26"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:43:26"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:43:26","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"admin_jwt":"present","cookieKeys":["main_jwt","admin_jwt","seller_jwt","csrf-token"],"cookieName":"seller_jwt","fullPath":"/api/v1/paymentmethod/me","hasAuthHeader":false,"isSellerRoute":true,"level":"info","main_jwt":"present","message":"[Auth] üîç Payment/OTP route detected:","method":"GET","seller_jwt":"present","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentmethod/me","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 993.759 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 762.600 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:27"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentmethod/me \u001b[36m304\u001b[0m 1020.217 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/transactions?limit=20 \u001b[36m304\u001b[0m 1597.630 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:43:28"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 17:44:23"}
{"level":"info","message":"MongoDB reconnected","service":"backend-api","timestamp":"2026-02-05 17:44:23"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:44:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:44:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:44:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications/unread","service":"backend-api","timestamp":"2026-02-05 17:44:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in seller_jwt cookie for notification route: GET /api/v1/notifications","service":"backend-api","timestamp":"2026-02-05 17:44:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:44:24"}
{"level":"debug","message":"[CORS] Development - allowing origin: http://localhost:5174","service":"backend-api","timestamp":"2026-02-05 17:44:24"}
{"level":"warn","message":"[Auth] ‚ö†Ô∏è SECURITY: Seller route detected main_jwt cookie - ignoring it. Route: /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:44:24"}
{"level":"info","message":"[Auth] ‚úÖ Token found in cookie (seller_jwt) for GET /api/v1/paymentrequest","service":"backend-api","timestamp":"2026-02-05 17:44:24"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:44:28"}
{"level":"info","message":"[getNotifications] üîç Initial request - userId: 6970b22eaba06cadfd4b8035, role from req.user: seller","service":"backend-api","timestamp":"2026-02-05 17:44:28"}
{"filter":"{\"user\":\"6970b22eaba06cadfd4b8035\",\"role\":\"seller\",\"userModel\":\"Seller\"}","level":"info","message":"[getNotifications] üìã Query filter for seller:","originalRole":"seller","role":"seller","service":"backend-api","timestamp":"2026-02-05 17:44:28","userId":"6970b22eaba06cadfd4b8035","userIdType":"string","userModel":"Seller"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:44:28"}
{"level":"info","message":"Authenticated as seller: benzflex00@gmail.com","service":"backend-api","timestamp":"2026-02-05 17:44:28"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:44:28"}
{"level":"info","message":"[getNotifications] üìä Found 0 notifications for seller user 6970b22eaba06cadfd4b8035 with filter","service":"backend-api","timestamp":"2026-02-05 17:44:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications/unread \u001b[36m304\u001b[0m 3907.976 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:44:28"}
{"level":"info","message":"\u001b[0mGET /api/v1/paymentrequest \u001b[36m304\u001b[0m 4124.215 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:44:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/notifications?page=1&limit=5 \u001b[36m304\u001b[0m 4398.914 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:44:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:44:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:44:29"}
{"level":"info","message":"[restrictTo] ‚úÖ Permission granted - User role: seller matches required roles","service":"backend-api","timestamp":"2026-02-05 17:44:29"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/status \u001b[36m304\u001b[0m 5402.917 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:44:30"}
{"level":"info","message":"\u001b[0mGET /api/v1/seller/me/balance \u001b[36m304\u001b[0m 5671.336 ms - -\u001b[0m","service":"backend-api","timestamp":"2026-02-05 17:44:30"}
